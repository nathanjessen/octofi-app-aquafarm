(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[45],{3162:function(t){t.exports=JSON.parse('{"a":[{"constant":true,"inputs":[{"components":[{"name":"target","type":"address"},{"name":"callData","type":"bytes"}],"name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"name":"blockNumber","type":"uint256"},{"name":"returnData","type":"bytes[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]}')},3240:function(t,e,n){"use strict";n.d(e,"a",(function(){return lt})),n.d(e,"b",(function(){return pt})),n.d(e,"g",(function(){return dt})),n.d(e,"h",(function(){return bt})),n.d(e,"f",(function(){return ht})),n.d(e,"c",(function(){return yt})),n.d(e,"d",(function(){return xt})),n.d(e,"e",(function(){return gt}));var r=n(40),a=n(1),s=n.n(a),i=n(63),c=n(30),o=n(748),u=(n(297),n(3697)),l=n.n(u),p=n(3698),d=n(3162),f=n(78),b={1:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-beta",42:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-kovan"};function m(){return(m=Object(c.a)(s.a.mark((function t(e,n,a,i,c,o){var u,l,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={poolShares:{__args:{where:{userAddress_in:i.map((function(t){return t.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==o&&(u.poolShares.__args.block={number:o}),t.next=4,bt(b[n],u);case 4:return l=t.sent,p={},l&&l.poolShares&&l.poolShares.forEach((function(t){return t.poolId.tokens.map((function(e){var n=e.id.split("-");if(Object(r.a)(n,2)[1]===c.address.toLowerCase()){var a=Object(f.a)(t.userAddress.id);p[a]||(p[a]=0),p[a]=p[a]+e.balance/t.poolId.totalShares*t.balance}}))})),t.abrupt("return",p||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=n(752);function j(t,e){return(t.args||["%{address}"]).map((function(t){return"string"===typeof t?t.replace(/%{address}/g,e):t}))}function y(){return(y=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,[i.methodABI],a.map((function(t){return[i.address,i.methodABI.name,j(i,t)]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),i.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var x=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function g(t,e,n,r,a,s){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,x,a.map((function(t){return[i.address,"balanceOf",[t]]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),i.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,n,r,a,i,c);case 2:return o=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],t[1]*i.coeff]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,n,r,a,i,c);case 2:return o=t.sent,u=Object.values(o).reduce((function(t,e){return t+e}),0),t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],i.total*t[1]/u]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,n,r,a,i,c);case 2:return o=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],Math.sqrt(t[1])]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,n,r,a,i,c);case 2:return o=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],t[1]>(i.minBalance||0)?1:0]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e,n,r,a,s){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(s.a.mark((function t(e,n,a,i,c,o){var u,l,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={delegations:{__args:{where:{delegate_in:i.map((function(t){return t.toLowerCase()})),delegator_not_in:i.map((function(t){return t.toLowerCase()})),space_in:["",e]},first:1e3},delegator:!0,space:!0,delegate:!0}},"latest"!==o&&(u.delegations.__args.block={number:o}),t.next=4,bt(pt[n],u);case 4:if((l=t.sent)&&l.delegations){t.next=7;break}return t.abrupt("return",{});case 7:return p={},l.delegations.forEach((function(t){return p[t.delegator]=t.delegate})),l.delegations.filter((function(t){return""!==t.space})).forEach((function(t){return p[t.delegator]=t.delegate})),t.abrupt("return",Object.fromEntries(i.map((function(t){return[t,Object.entries(p).filter((function(e){var n=Object(r.a)(e,2)[1];return t.toLowerCase()===n})).map((function(t){return Object(r.a)(t,1)[0]}))]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e,n,r,a,i,c);case 2:if(o=t.sent,0!==Object.keys(o).length){t.next=5;break}return t.abrupt("return",{});case 5:return console.debug("Delegations",o),t.next=8,g(e,n,r,Object.values(o).reduce((function(t,e){return t.concat(e)})),i,c);case 8:return u=t.sent,console.debug("Delegators score",u),t.abrupt("return",Object.fromEntries(a.map((function(t){return[t,o[t]?o[t].reduce((function(t,e){return t+u[e]}),0):0]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,d.a,a.map((function(t){return[lt[n],"getEthBalance",[t]]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),18))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var B={1:"0x9ef05f7f6deb616fd37ac3c959a2ddd25a54e4f5"},C=[{constant:!0,inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function M(){return(M=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,C,a.map((function(t){return[B[n],"deposits",[t]]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),i.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var z={1:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"},P=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"}];function A(){return(A=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,P,a.map((function(t){return[z[n],"getCurrentVotes",[t.toLowerCase()],{blockTag:o}]})));case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.toString(),i.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D=[{constant:!0,inputs:[],name:"getPricePerFullShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function F(){return(F=Object(c.a)(s.a.mark((function t(e,n,a,i,c,o){var u,l,p,d,f,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof o?o:"latest",t.next=3,Promise.all([g(e,n,a,i,c,o),dt(n,a,D,[[c.address,"getPricePerFullShare",[]]],{blockTag:u})]);case 3:return l=t.sent,p=Object(r.a)(l,2),d=p[0],f=Object(r.a)(p[1],1),b=f[0],b=parseFloat(Object(h.a)(b.toString(),18)),t.abrupt("return",Object.fromEntries(Object.entries(d).map((function(t){return[t[0],t[1]*b]}))));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"memberAddressByDelegateKey",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"members",outputs:[{internalType:"address",name:"delegateKey",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"loot",type:"uint256"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"highestIndexYesVote",type:"uint256"},{internalType:"uint256",name:"jailed",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function L(){return(L=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,I,a.map((function(t){return[i.address,"memberAddressByDelegateKey",[t]]})),{blockTag:o});case 3:return u=t.sent,t.next=6,dt(n,r,I,u.filter((function(t){return"0x0000000000000000000000000000000000000000"!==t.toString()})).map((function(t){return[i.address,"members",[t.toString()]]})),{blockTag:o});case 6:return l=t.sent,t.abrupt("return",Object.fromEntries(l.map((function(t,e){return[a[e],parseFloat(Object(h.a)(t.shares.toString(),i.decimals))]}))));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V={1:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2"};function q(){return(q=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u,l,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={users:{__args:{where:{id_in:a.map((function(t){return t.toLowerCase()}))},first:1e3},id:!0,liquidityPositions:{__args:{where:{liquidityTokenBalance_gt:0}},liquidityTokenBalance:!0,pair:{id:!0,token0:{id:!0},reserve0:!0,token1:{id:!0},reserve1:!0,totalSupply:!0}}}},"latest"!==c&&(o.users.liquidityPositions.__args.block={number:c}),u=i.address.toLowerCase(),t.next=5,bt(V[n],o);case 5:return l=t.sent,p={},l&&l.users&&l.users.forEach((function(t){t.liquidityPositions.filter((function(t){return t.pair.token0.id==u||t.pair.token1.id==u})).forEach((function(e){var n=e.pair.reserve0/e.pair.totalSupply,r=e.pair.reserve1/e.pair.totalSupply,a=e.pair.token0.id==u?n*e.liquidityTokenBalance:r*e.liquidityTokenBalance,s=Object(f.a)(t.id);p[s]||(p[s]=0),p[s]=p[s]+a}))})),t.abrupt("return",p||{});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Y=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"}],J=[{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"}],H="0x73feaa1eE314F8c655E354234017bE2193C9E24E";function W(){return(W=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u,l,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,g(e,n,r,a,i,c);case 3:return u=t.sent,t.next=6,dt(n,r,J,a.map((function(t){return[H,"userInfo",["0",t]]})),{blockTag:o});case 6:return l=t.sent,t.next=9,Promise.all(i.chefAddresses.map((function(t){return dt(n,r,Y,a.map((function(e){return[t.address,"userInfo",[e],{blockTag:o}]})),{blockTag:o})})));case 9:return p=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(u).map((function(t,e){return[t[0],t[1]+l.reduce((function(t,e,n){return t+parseFloat(Object(h.a)(e.amount.toString(),18))}),0)+p.reduce((function(t,n,r){return t+parseFloat(Object(h.a)(n[e].amount.toString(),i.chefAddresses[r].decimals))}),0)]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var K=[{constant:!0,inputs:[{name:"",type:"address"}],name:"issuanceData",outputs:[{name:"initialDebtOwnership",type:"uint256"},{name:"debtEntryIndex",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],G="0x4b9Ca5607f1fF8019c1C6A3c2f0CC8de622D5B82";function Q(){return(Q=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,K,a.map((function(t){return[G,"issuanceData",[t]]})),{blockTag:o});case 3:return u=t.sent,l=function(t){var e=1e5*t;return Math.sqrt(e)},t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],l(parseFloat(Object(h.a)(t.initialDebtOwnership.toString(),27)))]}))));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"borrowBalanceStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function U(){return(U=Object(c.a)(s.a.mark((function t(e,n,a,i,c,o){var u,l,p,d,f,b,m,j,y,x,g,O,v,w,k,S;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u="number"===typeof o?o:"latest","number"!==typeof o){t.next=5;break}t.t0=o-c.offsetCheck,t.next=10;break;case 5:return t.next=7,a.getBlockNumber();case 7:t.t1=t.sent,t.t2=c.offsetCheck,t.t0=t.t1-t.t2;case 10:return l=t.t0,p=i.map((function(t){return[c.address,"balanceOf",[t]]})),d=i.map((function(t){return[c.address,"borrowBalanceStored",[t]]})),f=p.concat(d),t.next=16,Promise.all([dt(n,a,R,f,{blockTag:u}),dt(n,a,R,i.map((function(t){return[c.address,"balanceOf",[t]]})),{blockTag:l})]);case 16:for(b=t.sent,m=Object(r.a)(b,2),j=m[0],y=m[1],x=j.slice(0,i.length),g=j.slice(i.length),O={},v=0;v<x.length;v++)w=1,c.borrowingRestricted&&(w=0==g[v].toString().localeCompare("0")?1:0),k=parseFloat(Object(h.a)(x[v].toString(),c.decimals)),S=parseFloat(Object(h.a)(y[v].toString(),c.decimals)),O[i[v]]=Math.min(k,S)*w;return t.abrupt("return",O);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var X={1:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-v2",3:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-dev"},Z=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function $(){return($=Object(c.a)(s.a.mark((function t(e,n,a,i,c,o){var u,l,p,d,f,b,m,h,j,y;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=c.address,t.next=3,Promise.all([tt(n,i,u,o),nt(n,a,i,c,o)]);case 3:for(l=t.sent,p=Object(r.a)(l,2),d=p[0],f=p[1],b=0,m=Object.entries(f);b<m.length;b++)h=Object(r.a)(m[b],2),j=h[0],y=h[1],d[j]||(d[j]=0),d[j]=d[j]+y;return t.abrupt("return",d||{});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t,e,n,r){return et.apply(this,arguments)}function et(){return(et=Object(c.a)(s.a.mark((function t(e,n,a,i){var c,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={poolShares:{__args:{where:{userAddress_in:n.map((function(t){return t.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==i&&(c.poolShares.__args.block={number:i}),t.next=4,bt(X[e],c);case 4:return o=t.sent,u={},o&&o.poolShares&&o.poolShares.forEach((function(t){return t.poolId.tokens.map((function(e){var n=e.id.split("-"),s=Object(r.a)(n,2)[1];if("string"===typeof a&&s===a.toLowerCase()){var i=Object(f.a)(t.userAddress.id);u[i]||(u[i]=0),u[i]=u[i]+e.balance/t.poolId.totalShares*t.balance}}))})),t.abrupt("return",u||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t,e,n,r,a){return rt.apply(this,arguments)}function rt(){return(rt=Object(c.a)(s.a.mark((function t(e,n,r,a,c){var o,u,l,p,d,f,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o="number"===typeof c?c:"latest",u=a.pools.length,l=r.length,p=[],d=function(t){p.push.apply(p,Object(i.a)(r.map((function(e){return[a.pools[t].address,"balanceOf",[e]]}))))},f=0;f<u;f++)d(f);return t.next=8,dt(e,n,Z,p,{blockTag:o});case 8:return b=t.sent,t.abrupt("return",Object.fromEntries(r.map((function(t,e){for(var n=0,r=0;r<u;r++)n+=parseFloat(Object(h.a)(b[e+r*l].toString(),18));return[t,n]}))));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var at=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOfBonded",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function st(){return(st=Object(c.a)(s.a.mark((function t(e,n,r,a,c,o){var u,l,p,d,f,b,m,j;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof o?o:"latest",l=a.map((function(t){return[c.dao,"balanceOfBonded",[t]]})),p=a.map((function(t){return[c.rewards,"balanceOfBonded",[t]]})),t.next=5,dt(n,r,at,[[c.token,"balanceOf",[c.uniswap]],[c.uniswap,"totalSupply"]].concat(Object(i.a)(l),Object(i.a)(p)),{blockTag:u});case 5:return d=t.sent,f=d[0],b=d[1],m=d.slice(2,a.length+2),j=d.slice(a.length+2,2*a.length+2),t.abrupt("return",Object.fromEntries(Array(a.length).fill("x").map((function(t,e){return[a[e],parseFloat(Object(h.a)(f[0].div(b[0]).mul(j[e][0]).add(m[e][0]).toString(),c.decimals))]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var it=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function ct(){return(ct=Object(c.a)(s.a.mark((function t(e,n,r,a,i,c){var o,u,l,p,d,f;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof c?c:"latest",t.next=3,dt(n,r,it,[[i.uniswapAddress,"totalSupply",[]],[i.tokenAddress,"balanceOf",[i.uniswapAddress]]].concat(a.map((function(t){return[i.stakingAddress,"balanceOf",[t]]}))),{blockTag:o});case 3:return u=t.sent,l=u[0],p=u[1],d=p/Math.pow(10,i.decimals)/(l/1e18),f=u.slice(2),t.abrupt("return",Object.fromEntries(f.map((function(t,e){return[a[e],t/Math.pow(10,i.decimals)*d]}))));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ot={balancer:function(t,e,n,r,a,s){return m.apply(this,arguments)},"contract-call":function(t,e,n,r,a,s){return y.apply(this,arguments)},"erc20-balance-of":g,"erc20-balance-of-fixed-total":function(t,e,n,r,a,s){return w.apply(this,arguments)},"erc20-balance-of-cv":function(t,e,n,r,a,s){return k.apply(this,arguments)},"erc20-balance-of-coeff":function(t,e,n,r,a,s){return v.apply(this,arguments)},"erc20-with-balance":function(t,e,n,r,a,s){return S.apply(this,arguments)},"erc20-balance-of-delegation":function(t,e,n,r,a,s){return E.apply(this,arguments)},"eth-balance":function(t,e,n,r,a,s){return _.apply(this,arguments)},"maker-ds-chief":function(t,e,n,r,a,s){return M.apply(this,arguments)},uni:function(t,e,n,r,a,s){return A.apply(this,arguments)},"yearn-vault":function(t,e,n,r,a,s){return F.apply(this,arguments)},moloch:function(t,e,n,r,a,s){return L.apply(this,arguments)},uniswap:function(t,e,n,r,a,s){return q.apply(this,arguments)},pancake:function(t,e,n,r,a,s){return W.apply(this,arguments)},synthetix:function(t,e,n,r,a,s){return Q.apply(this,arguments)},ctoken:function(t,e,n,r,a,s){return U.apply(this,arguments)},cream:function(t,e,n,r,a,s){return $.apply(this,arguments)},"staked-uniswap":function(t,e,n,r,a,s){return ct.apply(this,arguments)},esd:function(t,e,n,r,a,s){return st.apply(this,arguments)}},ut=n(67),lt={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",6:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",56:"0x1ee38d535d541c55c9dae27b12edf090c608e6fb",82:"0x579De77CAEd0614e3b158cb738fcD5131B9719Ae",97:"0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46",100:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",wanchain:"0xba5934ab3056fca1fa458d30fbb3810c3eb5145f"},pt={1:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot",4:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-rinkeby",42:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-kovan"};function dt(t,e,n,r,a){return ft.apply(this,arguments)}function ft(){return(ft=Object(c.a)(s.a.mark((function t(e,n,a,i,c){var u,l,p,f,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=new o.b(a),l=Object(ut.e)(lt[e],d.a,n),t.prev=2,t.prev=3,t.next=6,l.aggregate(i.map((function(t){return[t[0].toLowerCase(),u.encodeFunctionData(t[1],t[2])]})),c||{});case 6:return p=t.sent,f=Object(r.a)(p,2),b=f[1],t.abrupt("return",b.map((function(t,e){return u.decodeFunctionResult(i[e][1],t)})));case 12:return t.prev=12,t.t0=t.catch(3),t.abrupt("return",[]);case 15:t.next=20;break;case 17:return t.prev=17,t.t1=t.catch(2),t.abrupt("return",Promise.reject(t.t1));case 20:case"end":return t.stop()}}),t,null,[[2,17],[3,12]])})))).apply(this,arguments)}function bt(t,e){return mt.apply(this,arguments)}function mt(){return(mt=Object(c.a)(s.a.mark((function t(e,n){var r,a,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:Object(p.jsonToGraphQLQuery)({query:n})})});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,i=a.data,t.abrupt("return",i||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t,e,n,r,a){return jt.apply(this,arguments)}function jt(){return(jt=Object(c.a)(s.a.mark((function t(e,n,r,a,i){var c,o=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=o.length>5&&void 0!==o[5]?o[5]:"latest",t.next=3,Promise.all(n.map((function(t){return ot[t.name](e,r,a,i,t.params,c)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(0.[00]a)";return l()(t).format(e)}function xt(t){var e=JSON.parse(JSON.stringify(t));return e.msg=function(t,e){if("string"!==typeof t)return e||{};try{return JSON.parse(t)}catch(n){return e||{}}}(e.msg,e.msg),"0.1.0"===e.msg.version&&(e.msg.payload.start=1595088e3,e.msg.payload.end=1595174400,e.msg.payload.snapshot=10484400,e.bpt_voting_disabled="1"),"0.1.0"!==e.msg.version&&"0.1.1"!==e.msg.version||(e.msg.payload.metadata={}),e}function gt(t){return Object.fromEntries(Object.entries(t).map((function(t){return[t[0],xt(t[1])]})))}},4590:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(4),s=n(1),i=n.n(s),c=n(30),o=n(40),u=n(22),l=n(0),p=n(3003),d=n(1248),f=n(2975),b=n(50),m=n(3240),h=n(21),j=n(348);function y(){var t=Object(u.a)(["\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tmargin: 0;\n\tcolor: ",";\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 500;\n\t}\n"]);return y=function(){return t},t}function x(){var t=Object(u.a)(["\n\tposition: relative;\n\ttransition: 0.3s ease all;\n\twidth: 100%;\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 1.875rem;\n\t}\n"]);return x=function(){return t},t}var g=h.default.div(x()),O=h.default.span(y(),(function(t){return t.theme.text1})),v=function(t){return Object(r.jsxs)(g,{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsx)(O,{children:t.title}),Object(r.jsx)("div",{children:t.children})]})},w=n(802),k=n(751),S=n(470),T=n(952);function N(){var t=Object(u.a)(["\n\tcolor: ",";\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return N=function(){return t},t}function E(){var t=Object(u.a)(["\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n"]);return E=function(){return t},t}function _(){var t=Object(u.a)(["\n\tpadding: 10px 0;\n\tposition: relative;\n\ttransition: 0.3s ease all;\n\tmargin-bottom: 0.625rem;\n\n\ttd {\n\t\theight: 40px;\n\t\t&:last-child {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t@media (min-width: 768px) {\n\t\tbackground-color: ",";\n\n\t\ttd {\n\t\t\tborder-top: 1px solid ",";\n\t\t\tborder-bottom: 1px solid ",";\n\t\t\theight: 50px;\n\n\t\t\t&:first-child {\n\t\t\t\tborder-left: 1px solid ",";\n\t\t\t\tborder-top-left-radius: 18px;\n\t\t\t\tborder-bottom-left-radius: 18px;\n\t\t\t\tpadding-left: 30px;\n\t\t\t}\n\n\t\t\t&:last-child {\n\t\t\t\tborder-right: 1px solid ",";\n\t\t\t\tborder-top-right-radius: 18px;\n\t\t\t\tpadding-right: 30px;\n\t\t\t\tborder-bottom-right-radius: 18px;\n\t\t\t\tmax-width: 80px;\n\t\t\t\ttext-align: left;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground-color: ",";\n\t\t\tborder-color: ",";\n\t\t}\n\t}\n"]);return _=function(){return t},t}function B(){var t=Object(u.a)(["\n\twidth: 24px;\n\theight: 24px;\n\tmargin-right: 10px;\n\n\t@media (min-width: 768px) {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tmargin-right: 15px;\n\t}\n"]);return B=function(){return t},t}var C=Object(h.default)(T.a)(B()),M=h.default.tr(_(),(function(t){return t.theme.modalBG}),(function(t){return t.theme.text3}),(function(t){return t.theme.text3}),(function(t){return t.theme.text3}),(function(t){return t.theme.text3}),(function(t){return t.theme.bg2}),(function(t){return t.theme.text3})),z=h.default.span(E(),(function(t){return t.theme.text1})),P=h.default.span(N(),(function(t){return t.theme.text1})),A=function(t){return Object(r.jsxs)(M,{children:[Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"d-none d-lg-block",children:Object(r.jsx)(C,{address:t.address})}),Object(r.jsxs)(P,{children:[t.address.slice(0,6),"...",t.address.slice(-4)]})]})}),Object(r.jsx)("td",{children:Object(r.jsx)(z,{className:"d-none d-lg-flex",children:t.vote})}),Object(r.jsx)("td",{children:Object(r.jsxs)(z,{children:[Object(m.c)(t.score)," ",t.symbol]})})]})},D=n(771);function F(){var t=Object(u.a)(["\n\twidth: ","px;\n\theight: ","px;\n\tborder-radius: ","px;\n\tbox-shadow: 0 6px 10px rgba(0, 0, 0, 0.075);\n\tdisplay: none;\n\n\t@media (min-width: 768px) {\n\t\tdisplay: initial;\n\t}\n"]);return F=function(){return t},t}var I=h.default.img(F(),(function(t){return t.size}),(function(t){return t.size}),(function(t){return t.size})),L=function(t){var e=Object(D.c)(t.id,t.symbolIndex);return Object(r.jsx)(I,{src:e,size:t.size})},V=n(3049),q=n.n(V),Y=n(457),J=n(149),H=n(4137),W=n(456),K=n(754),G=n(259),Q=n(110),R=n(2977),U=n(3202),X=n.n(U);function Z(){var t=Object(u.a)(["\n\theight: 1px;\n\topacity: 0;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tdisplay: none;\n"]);return Z=function(){return t},t}function $(){var t=Object(u.a)(["\n\tborder-spacing: 0 10px;\n\tborder-collapse: separate;\n"]);return $=function(){return t},t}function tt(){var t=Object(u.a)(["\n\tbackground-color: ",";\n\tborder-radius: 20px;\n"]);return tt=function(){return t},t}function et(){var t=Object(u.a)(["\n\tbackground-color: ",";\n\theight: 5px;\n\tborder: none;\n\twidth: 100%;\n\tborder-radius: 20px;\n"]);return et=function(){return t},t}function nt(){var t=Object(u.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tmargin: 0;\n\tcolor: ",";\n\n\t@media (min-width: 768px) {\n\t\tfont-weight: 500;\n\t}\n"]);return nt=function(){return t},t}function rt(){var t=Object(u.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 40px;\n\t}\n"]);return rt=function(){return t},t}function at(){var t=Object(u.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: ",";\n\tcolor: ",";\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t}\n"]);return at=function(){return t},t}function st(){var t=Object(u.a)(["\n\tcolor: ",";\n\tfont-weight: 700;\n\tfont-size: 0.875rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t}\n\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t}\n"]);return st=function(){return t},t}function it(){var t=Object(u.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tpadding-left: 11px;\n\tcolor: ",";\n\n\t@media (min-width: 768px) {\n\t\tfont-size: 1rem;\n\t\tfont-weight: 700;\n\t}\n"]);return it=function(){return t},t}function ct(){var t=Object(u.a)(["\n\tline-height: 19px;\n\tfont-size: 1rem !important;\n\tcolor: ",";\n\tfont-weight: 400;\n\n\t& p {\n\t\tmargin: 0;\n\t\tfont-weight: 400;\n\t\tfont-size: 0.875rem;\n\n\t\t@media (min-width: 768px) {\n\t\t\tfont-size: 1rem;\n\t\t}\n\t}\n\n\t& h1,\n\t& h2,\n\t& h3,\n\t& h4,\n\t& h5,\n\t& h6 {\n\t\tfont-size: 1.25rem;\n\t\tmargin-bottom: 0;\n\t\tfont-weight: 500;\n\n\t\t@media (min-width: 768px) {\n\t\t\tfont-size: 1.875rem;\n\t\t}\n\t}\n"]);return ct=function(){return t},t}function ot(){var t=Object(u.a)(["\n\tmin-height: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\n\t& .label {\n\t\t@media (max-width: 767px) {\n\t\t\theight: 30px;\n\t\t\tpadding: 5px 17px;\n\t\t\tborder-radius: 12px;\n\t\t\tfont-size: 0.875rem;\n\t\t}\n\t}\n"]);return ot=function(){return t},t}function ut(){var t=Object(u.a)(["\n\tmargin-bottom: 0.5rem;\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ",";\n\tdisplay: none;\n\n\t@media (min-width: 768px) {\n\t\tdisplay: block;\n\t}\n"]);return ut=function(){return t},t}function lt(){var t=Object(u.a)(["\n\tfont-weight: 700;\n\tfont-size: 0.875rem;\n\tline-height: 1.5rem;\n\tcolor: ",";\n\tmargin: 0 auto 0 0;\n\tpadding-right: 0.75rem;\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 0;\n\t\tfont-size: 1.25rem;\n\t\tmargin: 0 1.25rem 0 0;\n\t}\n"]);return lt=function(){return t},t}function pt(){var t=Object(u.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: -5px;\n\n\t@media (min-width: 768px) {\n\t\tmargin: -10px 0 -18px;\n\t\theight: ",";\n\t}\n"]);return pt=function(){return t},t}function dt(){var t=Object(u.a)(["\n\t@media (max-width: 767px) {\n\t\t.card-body {\n\t\t\tpadding-top: 0;\n\t\t}\n\t}\n"]);return dt=function(){return t},t}function ft(){var t=Object(u.a)(["\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\n\t@media (min-width: 768px) {\n\t\tfont-weight: 400;\n\t}\n"]);return ft=function(){return t},t}var bt=new H.a,mt=h.default.button(ft()),ht=Object(h.default)(k.b)(dt()),jt=h.default.div(pt(),(function(t){return t.withoutSubtitle?"70px":"auto"})),yt=h.default.h4(lt(),(function(t){return t.theme.text1})),xt=h.default.span(ut(),(function(t){return t.theme.text1})),gt=h.default.div(ot()),Ot=h.default.div(ct(),(function(t){return t.theme.text1})),vt=h.default.span(it(),(function(t){return t.theme.text1})),wt=h.default.a(st(),(function(t){return t.theme.primary})),kt=h.default.span(at(),(function(t){return t.fontWeight||700}),(function(t){return t.theme.text1})),St=h.default.div(rt()),Tt=h.default.span(nt(),(function(t){return t.theme.text1})),Nt=h.default.div(et(),(function(t){return t.theme.primaryLight})),Et=h.default.div(tt(),(function(t){return t.theme.primary})),_t=h.default.table($()),Bt=h.default.thead(Z());e.default=function(t){var e,n,s,u=Object(J.d)(),h=u.account,y=u.library,x=Object(l.useState)(!1),g=Object(o.a)(x,2),O=g[0],T=g[1],N=Object(l.useState)(null),E=Object(o.a)(N,2),_=E[0],B=E[1],M=Object(l.useState)(!1),z=Object(o.a)(M,2),P=z[0],F=z[1],I=Object(l.useState)(!1),V=Object(o.a)(I,2),H=V[0],U=V[1],Z=Object(l.useState)({}),$=Object(o.a)(Z,2),tt=$[0],et=$[1],nt=Object(l.useState)({}),rt=Object(o.a)(nt,2),at=rt[0],st=rt[1],it=Object(l.useState)({}),ct=Object(o.a)(it,2),ot=ct[0],ut=ct[1],lt=Object(b.d)(),pt=Object(Q.h)(),dt=Object(b.e)((function(t){return t.governance})),ft=dt.spaces,Ct=dt.loading,Mt=dt.proposals,zt=Object(R.a)().t,Pt=new w.a,At=t.match.params.space,Dt=t.match.params.id,Ft=ft[At];Object(l.useEffect)((function(){0===Object.keys(ft).length?lt(Object(S.b)()):ft.hasOwnProperty(At)?(lt(Object(S.a)(At)),Pt.get("votes",{id:At,address:Dt}).then((function(t){et(t)})).catch((function(t){G.c.error("Cannot get votes, Please try again in a minute")}))):t.history.push("/governance")}),[ft,At,Dt,lt,t.history]);var It=function(){var t=Object(c.a)(i.a.mark((function t(e,n){var r,a,s,c,o,u,l,p,d,f,b,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},!(Object.keys(e).length>0)){t.next=9;break}return b=n.hasOwnProperty(At)&&n[At].hasOwnProperty(Dt)?Object(m.d)(Object.assign({},n[At][Dt])):Object(m.d)({}),t.next=5,Object(m.f)(At,Ft.strategies,Ft.network,y,Object.keys(e));case 5:h=t.sent,r.votes=Object.fromEntries(Object.entries(e).map((function(t){var e=[t[0],Object.assign({},t[1])];return e[1].scores=Ft.strategies.map((function(t,n){return h[n][e[1].address]||0})),e[1].balance=e[1].scores.reduce((function(t,e){return t+e}),0),e})).sort((function(t,e){return e[1].balance-t[1].balance}))),r.results={totalVotes:null===(a=b.msg)||void 0===a||null===(s=a.payload)||void 0===s||null===(c=s.choices)||void 0===c?void 0:c.map((function(t,e){return Object.values(r.votes).filter((function(t){return t.msg.payload.choice===e+1})).length})),totalBalances:null===(o=b.msg)||void 0===o||null===(u=o.payload)||void 0===u||null===(l=u.choices)||void 0===l?void 0:l.map((function(t,e){return Object.values(r.votes).filter((function(t){return t.msg.payload.choice===e+1})).reduce((function(t,e){return t+e.balance}),0)})),totalScores:null===(p=b.msg)||void 0===p||null===(d=p.payload)||void 0===d||null===(f=d.choices)||void 0===f?void 0:f.map((function(t,e){return Ft.strategies.map((function(t,n){return Object.values(r.votes).filter((function(t){return t.msg.payload.choice===e+1})).reduce((function(t,e){return t+e.scores[n]}),0)}))})),totalVotesBalances:Object.values(r.votes).reduce((function(t,e){return t+e.balance}),0)},st(r);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){It(tt,Mt)}),[Mt,tt]),Object(l.useEffect)((function(){if(Mt.hasOwnProperty(At))if(Mt[At].hasOwnProperty(Dt)){T(Mt[At][Dt]);var e=(Date.now()/1e3).toFixed(),n=Mt[At][Dt].msg.payload,r=n.start,a=n.end;ut(e>a?{title:"Closed",className:"label-light-danger"}:e>r?{title:"Active",className:"label-light-success"}:{title:"Pending",className:"label-light-info"})}else t.history.push("/governance/".concat(At));else T(!1)}),[Mt,At,Dt,t.history]);var Lt=Object(l.useCallback)(Object(c.a)(i.a.mark((function t(){var e,n,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=3;break}return pt(),t.abrupt("return",!1);case 3:return e={token:ft[At].token,type:"vote",space:At,payload:{proposal:Dt,choice:_,metadata:{}}},n={address:h,msg:JSON.stringify(Object(a.a)({version:"0.1.3",timestamp:(Date.now()/1e3).toFixed()},e))},t.prev=5,Object(G.c)("Sending ...",{icon:"\ud83d\udca1"}),r=y.getSigner(h),t.next=10,r.signMessage(n.msg);case 10:return n.sig=t.sent,t.next=13,Pt.sendMessage(n);case 13:s=t.sent,G.c.success("Your Vote is in!"),s.hasOwnProperty("ipfsHash")&&Pt.get("votes",{id:At,address:Dt}).then((function(t){et(t)})).catch((function(t){G.c.error("Cannot get votes, Please try again in a minute")})),F(!1),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(5),G.c.error("Something went wrong!");case 22:case"end":return t.stop()}}),t,null,[[5,19]])}))),[O,_,h,Dt,Pt,At,y,ft]),Vt=Object(l.useMemo)((function(){return X.a.sanitize(O.msg.payload.body)}),[null===O||void 0===O||null===(e=O.msg)||void 0===e||null===(n=e.payload)||void 0===n?void 0:n.body]);return Object(r.jsxs)(W.a,{title:zt("governance.title"),morePadding:!0,children:[Object(r.jsx)(p.a,{children:Object(r.jsx)(d.a,{xs:12,style:{marginTop:-30},children:Ct&&!O?Object(r.jsx)(k.b,{children:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(r.jsx)(Y.a,{color:"primary",width:40,height:40,active:!0,id:"vote-loading"})})}):O&&Object(r.jsxs)(p.a,{className:"custom-row",children:[Object(r.jsx)(d.a,{className:"order-2 order-md-1",xs:12,md:8,children:Object(r.jsxs)(p.a,{children:[Object(r.jsx)(d.a,{xs:12,className:"gutter-b",children:Object(r.jsx)(k.b,{header:Object(r.jsxs)(jt,{className:"d-flex flex-column justify-content-around",children:[Object(r.jsx)(xt,{children:zt("governance.proposal")}),Object(r.jsxs)(gt,{children:[Object(r.jsx)(yt,{children:O.msg.payload.name}),ot&&Object(r.jsx)("span",{className:"label ".concat(ot.className," label-lg font-weight-medium d-flex label-inline py-3"),children:ot.title})]})]}),children:Object(r.jsx)(Ot,{className:"font-size-lg opacity-80",style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:bt.render(Vt)}})})}),"Active"===ot.title&&Object(r.jsx)(d.a,{xs:12,className:"gutter-b",children:Object(r.jsx)(k.b,{header:Object(r.jsxs)(jt,{className:"d-flex flex-column justify-content-around",children:[Object(r.jsx)(xt,{children:zt("governance.vote")}),Object(r.jsx)(gt,{children:Object(r.jsx)(yt,{children:zt("governance.castVote")})})]}),children:Object(r.jsxs)("div",{className:"d-flex flex-column",children:[O.msg.payload.choices.map((function(t,e){return Object(r.jsx)("button",{className:"btn ".concat(e===_-1?"btn-secondary-light":"btn-light-secondary-light"," mb-2 btn-block py-3"),onClick:B.bind(undefined,e+1),children:t},e)})),Object(r.jsx)(K.a,{className:"py-3 mt-3 align-self-center",disabled:!_,style:{width:250},onClick:function(){h?F(!0):pt()},children:zt(h?"governance.vote":"wallet.connect")})]})})}),Object(r.jsx)(d.a,{xs:12,className:"gutter-b",children:Object(r.jsx)(ht,{header:Object(r.jsxs)(jt,{className:"d-flex flex-column justify-content-around",children:[Object(r.jsx)(xt,{children:zt("governance.proposal")}),Object(r.jsxs)(gt,{children:[Object(r.jsx)(yt,{children:zt("governance.votes")}),tt&&Object(r.jsx)("span",{className:"label label-light-primary label-lg font-weight-medium d-flex label-inline py-3",children:Object.keys(tt).length})]})]}),children:Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsxs)(_t,{children:[Object(r.jsx)(Bt,{style:{maxHeight:1,opacity:0,visibility:"hidden"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"user"}),Object(r.jsx)("td",{children:"vote"}),Object(r.jsx)("td",{children:"power"})]})}),Object(r.jsx)("tbody",{children:at?H||at.hasOwnProperty("votes")&&Object.keys(at.votes||{}).length<10?Object.values(at.votes).map((function(t,e){var n,a;return Object(r.jsx)(A,{address:null===t||void 0===t?void 0:t.address,vote:null===O||void 0===O||null===(n=O.msg)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.choices[t.msg.payload.choice-1],score:null===t||void 0===t?void 0:t.balance,symbol:null===Ft||void 0===Ft?void 0:Ft.symbol},e)})):at.hasOwnProperty("votes")&&Object.values(at.votes).slice(0,10).map((function(t,e){var n,a;return Object(r.jsx)(A,{address:null===t||void 0===t?void 0:t.address,vote:null===O||void 0===O||null===(n=O.msg)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.choices[t.msg.payload.choice-1],score:null===t||void 0===t?void 0:t.balance,symbol:null===Ft||void 0===Ft?void 0:Ft.symbol},e)})):null})]}),tt?Object(r.jsx)(r.Fragment,{children:Object.keys(tt||{}).length>10?Object(r.jsx)(mt,{className:"btn btn-link ",onClick:function(){return U(!0)},children:zt("showMore")}):null}):Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(r.jsx)(Y.a,{color:"primary",width:40,height:40,active:!0,id:"votes-loading"})})]})})})]})}),Object(r.jsxs)(d.a,{className:"order-1 order-md-2",xs:12,md:4,children:[Object(r.jsx)(k.b,{header:Object(r.jsx)(jt,{className:"d-flex flex-column justify-content-around",withoutSubtitle:!0,children:Object(r.jsx)(gt,{children:Object(r.jsx)(yt,{children:zt("information")})})}),children:Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-start",children:[Object(r.jsx)(v,{title:zt("importList.tokens"),children:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:ft[At].strategies.map((function(t,e){return Object(r.jsxs)("div",{className:"d-flex align-items-center",style:{marginLeft:0!==e?"21px":"0px"},children:[Object(r.jsx)(L,{id:At,symbolIndex:e,size:30}),Object(r.jsx)(vt,{children:t.params.symbol})]})}))})}),Object(r.jsx)(v,{title:zt("author"),children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)(C,{address:O&&O.address}),Object(r.jsxs)(wt,{href:"https://etherscan.io/address/".concat(O&&O.address),target:"_blank",rel:"noopener noreferrer",children:[O&&O.address.slice(0,6),"...",O&&O.address.slice(-4)]})]})}),Object(r.jsx)(v,{title:"IPFS",children:Object(r.jsxs)(wt,{href:"https://ipfs.io/ipfs/".concat(O&&O.authorIpfsHash),target:"_blank",rel:"noopener noreferrer",children:["#",O&&O.authorIpfsHash.slice(0,7)]})}),Object(r.jsx)(v,{title:zt("startDate"),children:Object(r.jsx)(kt,{fontWeight:400,children:O&&q()(1e3*O.msg.payload.start).format("YYYY/MM/DD hh:mm")})}),Object(r.jsx)(v,{title:zt("endDate"),children:Object(r.jsx)(kt,{fontWeight:400,children:O&&q()(1e3*O.msg.payload.end).format("YYYY/MM/DD hh:mm")})}),Object(r.jsx)(v,{title:zt("token"),children:Object(r.jsx)(kt,{children:O&&O.address.slice(0,6)})}),Object(r.jsx)(v,{title:"Snapshot",children:Object(r.jsx)(wt,{href:"https://etherscan.io/block/".concat(O&&O.msg.payload.snapshot),target:"_blank",rel:"noopener noreferrer",children:O&&O.msg.payload.snapshot})})]})}),(null===(s=at.results)||void 0===s?void 0:s.hasOwnProperty("totalBalances"))&&Object(r.jsx)(k.b,{header:Object(r.jsx)(jt,{className:"d-flex flex-column justify-content-around",withoutSubtitle:!0,children:Object(r.jsx)(gt,{children:Object(r.jsx)(yt,{children:zt("results")})})}),children:Object(r.jsx)("div",{className:"d-flex flex-column",children:O.msg.payload.choices.map((function(t,e){var n,a,s;return Object(r.jsxs)(St,{children:[Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(r.jsx)(Tt,{children:Object(D.b)(t,"choice")}),Object(r.jsxs)(Tt,{children:[Object(m.c)(null===(n=at.results.totalBalances)||void 0===n?void 0:n[e]),Object(D.b)(Ft.symbol,"symbol")]}),Object(r.jsx)(Tt,{children:at.results.totalVotesBalances?"".concat((100/at.results.totalVotesBalances*(null===(a=at.results.totalBalances)||void 0===a?void 0:a[e])).toFixed(2),"%"):0})]}),Object(r.jsx)(Nt,{className:"progress progress-xs w-100",children:Object(r.jsx)(Et,{role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(at.results.totalVotesBalances?Number.parseInt(100/at.results.totalVotesBalances*(null===(s=at.results.totalBalances)||void 0===s?void 0:s[e])):"0","%")}})})]})}))})})]})]})})}),O&&Object(r.jsxs)(j.a,{show:P,centered:!0,onHide:function(){return F(!1)},children:[Object(r.jsx)(j.a.Header,{closeButton:!0,children:Object(r.jsx)(j.a.Title,{children:"Confirm Vote"})}),Object(r.jsxs)(j.a.Body,{children:[Object(r.jsxs)("p",{children:[zt("governance.voteConfirmation"),' "',O.msg.payload.choices[_-1],'"? ',Object(r.jsx)("br",{}),zt("governance.voteWarning")]}),Object(r.jsxs)("div",{className:"pt-4 d-flex align-items-center justify-content-end",children:[Object(r.jsx)(f.a,{variant:"outline-danger",onClick:function(){return F(!1)},children:zt("close")}),Object(r.jsx)(f.a,{variant:"primary",onClick:Lt,className:"ml-3",children:zt("governance.vote")})]})]})]})]})}}}]);
//# sourceMappingURL=45.2e25e390.chunk.js.map