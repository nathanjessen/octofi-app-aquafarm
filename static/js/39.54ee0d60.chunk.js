(this["webpackJsonpoctofi-app-aquafarm"]=this["webpackJsonpoctofi-app-aquafarm"]||[]).push([[39],{4428:function(e,t,n){},4431:function(e,t){},4574:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(63),i=n(2),o=n(30),l=n(72),s=n(4),m=n(40),u=n(19),d=n(18),b=n(2991),h=n(2990),f=n(1245),x=n(3606),p=n(118),j=n(0),g=n(108),v=n(2964),O=n(3058),y=n(394),w=n(751),k=n(455),B=n(179),T=n(396),N=n(762),S=n(753),_=n(757),A=n.n(_),z=(n(4428),n(758));function C(e){var t=e.entities,n=e.columns;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(A.a,{wrapperClasses:"d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden cross-balance__table",bootstrap4:!0,keyField:"id",remote:!0,data:null===t?[]:t,columns:n}),Object(i.jsx)(z.a,{breakpoint:"lg",columns:n,data:t,direction:"rtl"})]})}var D=n(48),E=n(3118),H=n(3039),M=n(3045),F=n(53),U=n.n(F),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";try{return e||t}catch(n){return t}},q=n(4537),I=n(10),J=Object(y.a)(),P={rpcUrl:J.nodeRpc,multicallAddress:J.queryToken};function R(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{if(e&&(t||0===t)&&n&&(a||0===a)){var c=new U.a(10).pow(new U.a(18)),i=new U.a(e.toString()),o=new U.a(n.toString());if(r){var l=i.times(c).times(new U.a(10).pow(new U.a(a))).dividedBy(new U.a(10).pow(new U.a(t))).dividedBy(o);return console.log(l),l}var s=o.times(c).times(new U.a(10).pow(new U.a(t))).dividedBy(new U.a(10).pow(new U.a(a))).dividedBy(i);return console.log(s),s}}catch(m){console.log(m)}}function Y(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return R(e,18,t,n,a)}function G(e,t){return new Promise((function(n){var a,r=[],c=Object(l.a)(e);try{var i=function(){var e=a.value;if(!e.exchangeAddress||0!==e.exchangeAddress.indexOf("0x"))return"continue";r.push.apply(r,[{target:e.exchangeAddress,call:["totalSupply()(uint256)"],returns:[["TS_"+e.symbol,function(e){return e/Math.pow(10,18)}]]},{target:e.token,call:["balanceOf(address)(uint256)",e.exchangeAddress],returns:[["exchangeTokenBalancem_"+e.symbol,function(t){return t/Math.pow(10,Number(e.decimals))}]]},{call:["getEthBalance(address)(uint256)",e.exchangeAddress],returns:[["exchangeETHBalance_"+e.symbol,function(t){return t/Math.pow(10,Number(e.decimals))}]]}]),t&&r.push({target:e.exchangeAddress,call:["balanceOf(address)(uint256)",t],returns:[["poolTokenBalance_"+e.symbol,function(t){return t/Math.pow(10,Number(e.decimals))}]]})};for(c.s();!(a=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}q.a([].concat(r),P).then((function(t){if(t.results)for(var a=t.results.original,r=0,c=e.length;r<c;r++){var i=e[r],o=I.Ab,l=I.Ab,s=0,m=I.Ab;Number(a["TS_"+i.symbol])&&Number(a["poolTokenBalance_"+i.symbol])&&(o=a["poolTokenBalance_"+i.symbol].mul(new U.a(10).pow(new U.a(18))).div(a["TS_"+i.symbol]),Number(a["exchangeTokenBalancem_"+i.symbol])&&(l=a["exchangeTokenBalancem_"+i.symbol].mul(o).div(new U.a(10).pow(new U.a(18)))),Number(a["exchangeETHBalance_"+i.symbol])&&(s=a["exchangeETHBalance_"+i.symbol].mul(o).div(new U.a(10).pow(new U.a(18))))),Number(a["exchangeETHBalance_"+i.symbol])&&Number(a["exchangeTokenBalancem_"+i.symbol])&&(m=Y(a["exchangeETHBalance_"+i.symbol],a["exchangeTokenBalancem_"+i.symbol],i.decimals)),e[r].supply=a["TS_"+i.symbol]?a["TS_"+i.symbol]:I.Ab,e[r].exchangeTokenBalancem=a["exchangeTokenBalancem_"+i.symbol]?a["exchangeTokenBalancem_"+i.symbol]:I.Ab,e[r].exchangeETHBalance=a["exchangeETHBalance_"+i.symbol]?a["exchangeETHBalance_"+i.symbol]:I.Ab,e[r].poolTokenBalance=a["poolTokenBalance_"+i.symbol]?a["poolTokenBalance_"+i.symbol]:I.Ab,e[r].pecent=o,e[r].balance=l,e[r].Basebalance=s,e[r].market=m}n(e)})).catch((function(e){console.log(e)}))}))}function K(){var e=Object(u.a)(["\n\tborder-top: 1px solid rgba(255, 255, 255, 0.5);\n\tpadding-top: 2rem;\n\ttext-align: center;\n"]);return K=function(){return e},e}function Q(){var e=Object(u.a)(["\n\tmargin-left: 45px;\n\n\t@media (max-width: 1199px) {\n\t\tmargin-left: 24px;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tmargin-left: 0;\n\t\tmargin-right: 24px;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tmargin-right: 16px;\n\t}\n"]);return Q=function(){return e},e}function V(){var e=Object(u.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tline-height: 1.125rem;\n\tcolor: ",";\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.75rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 0.625rem;\n\t}\n"]);return V=function(){return e},e}function W(){var e=Object(u.a)(["\n\tmargin-bottom: 5px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-bottom: 0;\n\t}\n"]);return W=function(){return e},e}function X(){var e=Object(u.a)(["\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\tcolor: ",";\n\tdisplay: block;\n\tline-height: 1.25rem;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 0.75rem;\n\t}\n"]);return X=function(){return e},e}function Z(){var e=Object(u.a)(["\n\t& > .card-body {\n\t\tpadding: 30px 30px 24px;\n\n\t\t@media (max-width: 576px) {\n\t\t\tpadding: 16px;\n\t\t}\n\t}\n"]);return Z=function(){return e},e}function $(){var e=Object(u.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 24px;\n\tmargin-top: 40px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-top: 10px;\n\t\tflex-direction: column;\n\t\talign-items: stretch;\n\t}\n"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["\n\tmargin: 0;\n\tfont-size: 2.5rem;\n\tfont-weight: 700;\n\tcolor: ",";\n\tline-height: 3rem;\n\n\t@media (max-width: 1199px) {\n\t\tfont-size: 2.25rem;\n\t}\n\t@media (max-width: 991px) {\n\t\tfont-size: 2rem;\n\t\tmargin-bottom: 0.5rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 1.5rem;\n\t}\n"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\n\tmin-height: 48px;\n\theight: 48px;\n\tborder-radius: 18px;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tmin-width: 105px;\n\n\t@media (max-width: 991px) {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tline-height: 1;\n\t\tfont-size: 0.875rem;\n\t\tmin-height: 40px;\n\t\theight: 40px;\n\t\tpadding: 0;\n\t\tborder-radius: 12px;\n\t}\n"]);return te=function(){return e},e}var ne=Object(y.a)(),ae=Object(d.default)(b.a)(te()),re=d.default.h1(ee(),(function(e){return e.theme.text1})),ce=d.default.div($()),ie=Object(d.default)(k.c)(Z()),oe=d.default.span(X(),(function(e){return e.theme.text1})),le=Object(d.default)(oe)(W()),se=d.default.span(V(),(function(e){return e.theme.text3})),me=d.default.div(Q()),ue=d.default.div(K());function de(e){return"aUSDT"===e&&"FSN"===ne.symbol||"anyUSDT"===e&&"FTM"===ne.symbol||"HUSD"===e&&"HT"===ne.symbol||"USDTB"===e&&"BNB"===ne.symbol||"USDC"===e&&"ETH"===ne.symbol||"anyUSDT"===e}t.default=function(e){var t=Object(D.a)().account,n=Object(B.d)(),a=Object(E.d)(),u=Object(H.c)(),d=Object(v.a)().t,b=Object(j.useState)(""),y=Object(m.a)(b,2),k=y[0],_=y[1],A=Object(j.useState)(!1),z=Object(m.a)(A,2),F=z[0],q=z[1],I=Object(j.useState)([]),J=Object(m.a)(I,2),P=J[0],R=J[1],Y=Object(j.useState)({}),K=Object(m.a)(Y,2),Q=K[0],V=K[1],W=Object(j.useState)(),X=Object(m.a)(W,2),Z=X[0],$=X[1],ee=Object(j.useState)(0),te=Object(m.a)(ee,2),be=(te[0],te[1],Object(j.useMemo)((function(){var e=[];for(var t in u)e.push(Object(s.a)({token:t,exchangeAddress:u[t].exchangeAddress},u[t]));return e}),[u])),he=be.length,fe={};function xe(e){var t,n=[],a=new U.a(0),r=[],c=Object(l.a)(e);try{for(c.s();!(t=c.n()).done;){var i=t.value;console.log(i),i.pecent=Object(M.a)(i.pecent,18,Math.min(ne.keepDec,i.decimals)),i.balance=Object(M.a)(i.balance,i.decimals,Math.min(ne.keepDec,i.decimals)),i.Basebalance&&(a=a.plus(i.Basebalance)),de(i.symbol)&&(console.log(i.market,18,Math.min(ne.keepDec,i.decimals)),$(Number(Object(M.a)(i.market,18,Math.min(ne.keepDec,i.decimals))))),fe[i.symbol]=i,n.push(i),i.exchangeETHBalance&&i.exchangeTokenBalancem&&i.market&&r.push({coin:i.symbol,market:i.market?i.market.toString():0,baseAmount:i.exchangeETHBalance?i.exchangeETHBalance.toString():0,tokenAmount:i.exchangeTokenBalancem?i.exchangeTokenBalancem.toString():0})}}catch(o){c.e(o)}finally{c.f()}return n[0].symbol===ne.symbol&&(n[0].Basebalance=a,fe[ne.symbol].Basebalance=a),V(fe),n}function pe(){return(pe=Object(o.a)(r.a.mark((function e(t){var n,a,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0;case 2:if(!(a<=he)){e.next=12;break}return i=be,e.next=6,G(i,t);case 6:o=e.sent,n.push.apply(n,Object(c.a)(xe(o))),R(n);case 9:a++,e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(j.useEffect)((function(){be.length>0&&(P.length<=0&&R(be),function(e){pe.apply(this,arguments)}(t))}),[be,t]);var je=Object(j.useMemo)((function(){return[{dataField:"coin",text:d("cross.coin"),formatter:function(e,t,n){var a;return Object(i.jsxs)("div",{className:"d-flex align-items-center flex-row-reverse flex-lg-row",children:[Object(i.jsx)(O.a,{size:"32px",address:null===t||void 0===t?void 0:t.symbol}),Object(i.jsxs)(me,{className:"d-flex flex-column align-items-stretch justify-content-center",children:[Object(i.jsx)(le,{children:L(null===t||void 0===t||null===(a=t.symbol)||void 0===a?void 0:a.toUpperCase())}),Object(i.jsx)(se,{children:L(null===t||void 0===t?void 0:t.name)})]})]})}},{dataField:"price",text:d("cross.price"),formatter:function(e,t,n){return Object(i.jsx)(oe,{children:Object(i.jsx)(S.a,{children:L(null===t||void 0===t?void 0:t.price)})})}},{dataField:"balance",text:d("cross.balance"),formatter:function(e,n,a){return Object(i.jsx)(oe,{children:t?L(null===n||void 0===n?void 0:n.balance):"-"})}},{dataField:"totalBalance",text:d("cross.totalBalance"),formatter:function(e,n,a){return Object(i.jsx)(oe,{children:t?L(null===n||void 0===n?void 0:n.balance):"-"})}},{dataField:"action",text:d("cross.action"),formatter:function(e,t,n){return Object(i.jsx)(ae,{as:g.b,className:"btn btn-light-primary",to:"/cross/anyswap?inputCurrency=".concat(null===t||void 0===t?void 0:t.address),children:"Swap"})},isAction:!0}]}),[]);var ge=function(){if(!t)return{};var e=t?a[t]:"",n=Object.keys(u).map((function(t){var n="-",a="-",r=0;return t===ne.symbol&&e&&e[t]&&e[t].value?n=Object(M.c)(new U.a(e[t].value)):e&&e[t]&&e[t].value&&(n=Object(M.e)(new U.a(e[t].value),u[t].decimals)),Q[u[t].symbol]&&Z&&(a=u[t].symbol===ne.symbol?Object(M.d)(Z,ne.keepDec):function(e,t){if(de(t))return"1";if(!e)return"-";var n=Number(Object(M.a)(e,18,ne.keepDec));return n?Object(M.d)(Z/n,ne.keepDec):"0"}(Q[u[t].symbol].market,u[t].symbol),isNaN(n)||isNaN(a)||(r=Number(n)*Number(a))),{name:u[t].name,symbol:u[t].symbol,address:t,balance:n,isSwitch:u[t].isSwitch,price:a,tvl:r}}));if(n.sort((function(e,t){if(!isNaN(e.tvl)&&!isNaN(t.tvl)&&Number(e.tvl)>Number(t.tvl))return-1})),ne.isChangeDashboard){for(var r={},c=0,i=n.length;c<i;c++)if("ANY"===n[c].symbol){r=n[c],n.splice(c,1);break}n.unshift(r)}return n.length>0?n.filter((function(e){return!k||-1!==e.name.toLowerCase().indexOf(k.toLowerCase())||-1!==e.symbol.toLowerCase().indexOf(k.toLowerCase())||-1!==e.address.toLowerCase().indexOf(k.toLowerCase())})):[]}();return Object(i.jsx)(w.a,{networkSensitive:!1,children:Object(i.jsx)(h.a,{children:Object(i.jsxs)(f.a,{xs:12,lg:{span:10,offset:1},children:[Object(i.jsxs)(x.a,{horizontal:!0,className:"mb-5",children:[Object(i.jsx)(x.a.Item,{action:!0,href:"/#/cross/anyswap",children:d("menu.anySwap")}),Object(i.jsx)(x.a.Item,{action:!0,href:"/#/cross/bridges",children:d("menu.bridges")}),Object(i.jsx)(x.a.Item,{action:!0,href:"/#/cross/balance",active:!0,children:d("menu.crossBalance")})]}),Object(i.jsxs)(ce,{children:[Object(i.jsx)(re,{children:"Balance"}),Object(i.jsxs)(T.b,{className:"w-auto",children:[Object(i.jsx)(T.e,{children:Object(i.jsx)(T.f,{children:Object(i.jsx)(p.a,{src:N.a})})}),Object(i.jsx)(T.d,{value:k,id:"CrossBalanceSearch",placeholder:d("search"),onChange:function(e){_(e.target.value)}})]})]}),Object(i.jsx)(ie,{children:Object(i.jsxs)("div",{className:"d-flex flex-column align-items-stretch",children:[Object(i.jsx)(C,{columns:je,entities:Array.isArray(ge)?F?ge:null===ge||void 0===ge?void 0:ge.slice(0,3):[]}),!F&&Object(i.jsx)(ue,{children:Object(i.jsx)(ae,{variant:n?"outline-primary":"primary",onClick:q.bind(undefined,!0),children:"See More"})})]})})]})})})}}}]);
//# sourceMappingURL=39.54ee0d60.chunk.js.map