(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[41],{4446:function(e,n,t){},4449:function(e,n){},4592:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(63),i=t(2),o=t(30),l=t(72),s=t(4),u=t(40),d=t(22),m=t(21),b=t(2975),h=t(3003),f=t(1248),x=t(87),p=t(0),j=t(84),g=t(2977),v=t(3080),O=t(393),y=t(456),w=t(751),k=t(157),B=t(394),T=t(762),N=t(753),S=t(758),_=t.n(S),z=(t(4446),t(759));function A(e){var n=e.entities,t=e.columns;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(_.a,{wrapperClasses:"d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden cross-balance__table",bootstrap4:!0,keyField:"id",remote:!0,data:null===n?[]:n,columns:t}),Object(i.jsx)(z.a,{breakpoint:"lg",columns:t,data:n,direction:"rtl"})]})}var C=t(46),D=t(3088),E=t(3055),H=t(3062),M=t(53),F=t.n(M),U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";try{return e||n}catch(t){return n}},L=t(4556),J=t(10),q=Object(O.a)(),P={rpcUrl:q.nodeRpc,multicallAddress:q.queryToken};function R(e,n,t,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{if(e&&(n||0===n)&&t&&(a||0===a)){var c=new F.a(10).pow(new F.a(18)),i=new F.a(e.toString()),o=new F.a(t.toString());if(r){var l=i.times(c).times(new F.a(10).pow(new F.a(a))).dividedBy(new F.a(10).pow(new F.a(n))).dividedBy(o);return console.log(l),l}var s=o.times(c).times(new F.a(10).pow(new F.a(n))).dividedBy(new F.a(10).pow(new F.a(a))).dividedBy(i);return console.log(s),s}}catch(u){console.log(u)}}function Y(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return R(e,18,n,t,a)}function G(e,n){return new Promise((function(t){var a,r=[],c=Object(l.a)(e);try{var i=function(){var e=a.value;if(!e.exchangeAddress||0!==e.exchangeAddress.indexOf("0x"))return"continue";r.push.apply(r,[{target:e.exchangeAddress,call:["totalSupply()(uint256)"],returns:[["TS_"+e.symbol,function(e){return e/Math.pow(10,18)}]]},{target:e.token,call:["balanceOf(address)(uint256)",e.exchangeAddress],returns:[["exchangeTokenBalancem_"+e.symbol,function(n){return n/Math.pow(10,Number(e.decimals))}]]},{call:["getEthBalance(address)(uint256)",e.exchangeAddress],returns:[["exchangeETHBalance_"+e.symbol,function(n){return n/Math.pow(10,Number(e.decimals))}]]}]),n&&r.push({target:e.exchangeAddress,call:["balanceOf(address)(uint256)",n],returns:[["poolTokenBalance_"+e.symbol,function(n){return n/Math.pow(10,Number(e.decimals))}]]})};for(c.s();!(a=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}L.a([].concat(r),P).then((function(n){if(n.results)for(var a=n.results.original,r=0,c=e.length;r<c;r++){var i=e[r],o=J.zb,l=J.zb,s=0,u=J.zb;Number(a["TS_"+i.symbol])&&Number(a["poolTokenBalance_"+i.symbol])&&(o=a["poolTokenBalance_"+i.symbol].mul(new F.a(10).pow(new F.a(18))).div(a["TS_"+i.symbol]),Number(a["exchangeTokenBalancem_"+i.symbol])&&(l=a["exchangeTokenBalancem_"+i.symbol].mul(o).div(new F.a(10).pow(new F.a(18)))),Number(a["exchangeETHBalance_"+i.symbol])&&(s=a["exchangeETHBalance_"+i.symbol].mul(o).div(new F.a(10).pow(new F.a(18))))),Number(a["exchangeETHBalance_"+i.symbol])&&Number(a["exchangeTokenBalancem_"+i.symbol])&&(u=Y(a["exchangeETHBalance_"+i.symbol],a["exchangeTokenBalancem_"+i.symbol],i.decimals)),e[r].supply=a["TS_"+i.symbol]?a["TS_"+i.symbol]:J.zb,e[r].exchangeTokenBalancem=a["exchangeTokenBalancem_"+i.symbol]?a["exchangeTokenBalancem_"+i.symbol]:J.zb,e[r].exchangeETHBalance=a["exchangeETHBalance_"+i.symbol]?a["exchangeETHBalance_"+i.symbol]:J.zb,e[r].poolTokenBalance=a["poolTokenBalance_"+i.symbol]?a["poolTokenBalance_"+i.symbol]:J.zb,e[r].pecent=o,e[r].balance=l,e[r].Basebalance=s,e[r].market=u}t(e)})).catch((function(e){console.log(e)}))}))}function I(){var e=Object(d.a)(["\n\tborder-top: 1px solid rgba(255, 255, 255, 0.5);\n\tpadding-top: 2rem;\n\ttext-align: center;\n"]);return I=function(){return e},e}function K(){var e=Object(d.a)(["\n  margin-left: 45px;\n  \n  @media (max-width: 1199px) {\n    margin-left: 24px;\n  }\n  \n  @media (max-width: 991px) {\n    margin-left: 0;\n    margin-right: 24px;\n  }\n  \n  @media (max-width: 991px) {\n    margin-right: 16px;\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(d.a)(["\n  font-size: .875rem;\n  font-weight: 400;\n  line-height: 1.125rem;\n  color: ",";\n\n\n  @media (max-width: 991px) {\n    font-size: .75rem;\n  }\n  @media (max-width: 767px) {\n    font-size: .625rem;\n  }\n"]);return Q=function(){return e},e}function V(){var e=Object(d.a)(["\n  margin-bottom: 5px;\n\n\n  @media (max-width: 991px) {\n    margin-bottom: 0;\n  }\n"]);return V=function(){return e},e}function W(){var e=Object(d.a)(["\n  font-size: 1rem;\n  font-weight: 500;\n  color: ",";\n  display: block;\n  line-height: 1.25rem;\n  \n  @media (max-width: 991px) {\n    font-size: .875rem;\n  }\n  @media (max-width: 767px) {\n    font-size: .75rem;\n  }\n"]);return W=function(){return e},e}function X(){var e=Object(d.a)(["\n\t& > .card-body {\n\t\tpadding: 30px 30px 24px;\n\t  \n\t  \t@media (max-width: 576px) {\n\t\t  \tpadding: 16px;\n\t    }\n\t}\n"]);return X=function(){return e},e}function Z(){var e=Object(d.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 24px;\n\tmargin-top: 40px;\n\t\n\t@media(max-width: 991px) {\n\t\tmargin-top: 10px;\n\t  \tflex-direction: column;\n\t  \talign-items: stretch;\n\t}\n"]);return Z=function(){return e},e}function $(){var e=Object(d.a)(["\n\tmargin: 0;\n\tfont-size: 2.5rem;\n\tfont-weight: 700;\n\tcolor: ",";\n\tline-height: 3rem;\n\n\t\n\t@media (max-width: 1199px) {\n\t\tfont-size: 2.25rem;\n\t}\n\t@media (max-width: 991px) {\n\t\tfont-size: 2rem;\n\t  \tmargin-bottom: 0.5rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 1.5rem;\n\t}\n"]);return $=function(){return e},e}function ee(){var e=Object(d.a)(["\n  min-height: 48px;\n  height: 48px;\n  border-radius: 18px;\n  font-weight: 500;\n  font-size: 1rem;\n  min-width: 105px;\n  \n  @media (max-width: 991px) {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    line-height: 1;\n    font-size: .875rem;\n    min-height: 40px;\n    height: 40px;\n    padding: 0;\n    border-radius: 12px;\n  }\n"]);return ee=function(){return e},e}var ne=Object(O.a)(),te=Object(m.default)(b.a)(ee()),ae=m.default.h1($(),(function(e){return e.theme.text1})),re=m.default.div(Z()),ce=Object(m.default)(w.b)(X()),ie=m.default.span(W(),(function(e){return e.theme.text1})),oe=Object(m.default)(ie)(V()),le=m.default.span(Q(),(function(e){return e.theme.text3})),se=m.default.div(K()),ue=m.default.div(I());function de(e){return"aUSDT"===e&&"FSN"===ne.symbol||"anyUSDT"===e&&"FTM"===ne.symbol||"HUSD"===e&&"HT"===ne.symbol||"USDTB"===e&&"BNB"===ne.symbol||"USDC"===e&&"ETH"===ne.symbol||"anyUSDT"===e}n.default=function(e){var n=Object(C.a)().account,t=Object(k.d)(),a=Object(D.d)(),d=Object(E.c)(),m=Object(g.a)().t,b=Object(p.useState)(""),O=Object(u.a)(b,2),w=O[0],S=O[1],_=Object(p.useState)(!1),z=Object(u.a)(_,2),M=z[0],L=z[1],J=Object(p.useState)([]),q=Object(u.a)(J,2),P=q[0],R=q[1],Y=Object(p.useState)({}),I=Object(u.a)(Y,2),K=I[0],Q=I[1],V=Object(p.useState)(),W=Object(u.a)(V,2),X=W[0],Z=W[1],$=Object(p.useState)(0),ee=Object(u.a)($,2),me=(ee[0],ee[1],Object(p.useMemo)((function(){var e=[];for(var n in d)e.push(Object(s.a)({token:n,exchangeAddress:d[n].exchangeAddress},d[n]));return e}),[d])),be=me.length,he={};function fe(e){var n,t=[],a=new F.a(0),r=[],c=Object(l.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value;console.log(i),i.pecent=Object(H.a)(i.pecent,18,Math.min(ne.keepDec,i.decimals)),i.balance=Object(H.a)(i.balance,i.decimals,Math.min(ne.keepDec,i.decimals)),i.Basebalance&&(a=a.plus(i.Basebalance)),de(i.symbol)&&(console.log(i.market,18,Math.min(ne.keepDec,i.decimals)),Z(Number(Object(H.a)(i.market,18,Math.min(ne.keepDec,i.decimals))))),he[i.symbol]=i,t.push(i),i.exchangeETHBalance&&i.exchangeTokenBalancem&&i.market&&r.push({coin:i.symbol,market:i.market?i.market.toString():0,baseAmount:i.exchangeETHBalance?i.exchangeETHBalance.toString():0,tokenAmount:i.exchangeTokenBalancem?i.exchangeTokenBalancem.toString():0})}}catch(o){c.e(o)}finally{c.f()}return t[0].symbol===ne.symbol&&(t[0].Basebalance=a,he[ne.symbol].Basebalance=a),Q(he),t}function xe(){return(xe=Object(o.a)(r.a.mark((function e(n){var t,a,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0;case 2:if(!(a<=be)){e.next=12;break}return i=me,e.next=6,G(i,n);case 6:o=e.sent,t.push.apply(t,Object(c.a)(fe(o))),R(t);case 9:a++,e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){me.length>0&&(P.length<=0&&R(me),function(e){xe.apply(this,arguments)}(n))}),[me,n]);var pe=Object(p.useMemo)((function(){return[{dataField:"coin",text:m("cross.coin"),formatter:function(e,n,t){var a;return Object(i.jsxs)("div",{className:"d-flex align-items-center flex-row-reverse flex-lg-row",children:[Object(i.jsx)(v.a,{size:"32px",address:null===n||void 0===n?void 0:n.symbol}),Object(i.jsxs)(se,{className:"d-flex flex-column align-items-stretch justify-content-center",children:[Object(i.jsx)(oe,{children:U(null===n||void 0===n||null===(a=n.symbol)||void 0===a?void 0:a.toUpperCase())}),Object(i.jsx)(le,{children:U(null===n||void 0===n?void 0:n.name)})]})]})}},{dataField:"price",text:m("cross.price"),formatter:function(e,n,t){return Object(i.jsx)(ie,{children:Object(i.jsx)(N.a,{children:U(null===n||void 0===n?void 0:n.price)})})}},{dataField:"balance",text:m("cross.balance"),formatter:function(e,t,a){return Object(i.jsx)(ie,{children:n?U(null===t||void 0===t?void 0:t.balance):"-"})}},{dataField:"totalBalance",text:m("cross.totalBalance"),formatter:function(e,t,a){return Object(i.jsx)(ie,{children:n?U(null===t||void 0===t?void 0:t.balance):"-"})}},{dataField:"action",text:m("cross.action"),formatter:function(e,n,t){return Object(i.jsx)(te,{as:j.b,className:"btn btn-light-primary",to:"/cross/anyswap?inputCurrency=".concat(null===n||void 0===n?void 0:n.address),children:"Swap"})},isAction:!0}]}),[]);var je=function(){if(!n)return{};var e=n?a[n]:"",t=Object.keys(d).map((function(n){var t="-",a="-",r=0;return n===ne.symbol&&e&&e[n]&&e[n].value?t=Object(H.c)(new F.a(e[n].value)):e&&e[n]&&e[n].value&&(t=Object(H.e)(new F.a(e[n].value),d[n].decimals)),K[d[n].symbol]&&X&&(a=d[n].symbol===ne.symbol?Object(H.d)(X,ne.keepDec):function(e,n){if(de(n))return"1";if(!e)return"-";var t=Number(Object(H.a)(e,18,ne.keepDec));return t?Object(H.d)(X/t,ne.keepDec):"0"}(K[d[n].symbol].market,d[n].symbol),isNaN(t)||isNaN(a)||(r=Number(t)*Number(a))),{name:d[n].name,symbol:d[n].symbol,address:n,balance:t,isSwitch:d[n].isSwitch,price:a,tvl:r}}));if(t.sort((function(e,n){if(!isNaN(e.tvl)&&!isNaN(n.tvl)&&Number(e.tvl)>Number(n.tvl))return-1})),ne.isChangeDashboard){for(var r={},c=0,i=t.length;c<i;c++)if("ANY"===t[c].symbol){r=t[c],t.splice(c,1);break}t.unshift(r)}return t.length>0?t.filter((function(e){return!w||-1!==e.name.toLowerCase().indexOf(w.toLowerCase())||-1!==e.symbol.toLowerCase().indexOf(w.toLowerCase())||-1!==e.address.toLowerCase().indexOf(w.toLowerCase())})):[]}();return Object(i.jsx)(y.a,{notNetworkSensitive:!0,children:Object(i.jsxs)(h.a,{children:[Object(i.jsx)(f.a,{xs:12,children:Object(i.jsxs)(re,{children:[Object(i.jsx)(ae,{children:"Crosstopus Balances"}),Object(i.jsxs)(B.b,{className:"w-auto",children:[Object(i.jsx)(B.e,{children:Object(i.jsx)(B.f,{children:Object(i.jsx)(x.a,{src:T.a})})}),Object(i.jsx)(B.d,{value:w,id:"CrossBalanceSearch",placeholder:m("search"),onChange:function(e){S(e.target.value)}})]})]})}),Object(i.jsx)(f.a,{xs:12,children:Object(i.jsx)(ce,{children:Object(i.jsxs)("div",{className:"d-flex flex-column align-items-stretch",children:[Object(i.jsx)(A,{columns:pe,entities:Array.isArray(je)?M?je:null===je||void 0===je?void 0:je.slice(0,3):[]}),!M&&Object(i.jsx)(ue,{children:Object(i.jsx)(te,{variant:t?"outline-primary":"primary",onClick:L.bind(undefined,!0),children:"See More"})})]})})})]})})}}}]);
//# sourceMappingURL=41.b98513e9.chunk.js.map