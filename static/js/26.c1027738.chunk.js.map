{"version":3,"sources":["components/Row/index.tsx","components/SearchModal/styleds.tsx","components/NumericalInput/index.tsx","components/Modal/index.tsx","components/AddressInputPanel/index.js","utils/wallets/ledger/index.js","utils/web3/index.js","utils/web3/txns.js","assets/images/cross/swap.svg","utils/wallets/public/walletCreate.js","utils/wallets/ethereum/wallet.js","utils/wallets/ethUtil/index.js","utils/wallets/ledger/ledger3.js","utils/wallets/ledger/ledger-eth.js","utils/record/index.js","components/WarningTip/index.js","components/BrdigeCurrencySelectModal/CurrencyList.js","components/BrdigeCurrencySelectModal/index.js","assets/images/cross/dropdown.svg","components/BridgeInputPanel/index.js","assets/images/icon/path.svg","components/HardwareTips/index.js","pages/CrossAnySwap/index.js"],"names":["Row","styled","Box","width","align","justify","padding","border","borderRadius","RowBetween","AutoRow","div","gap","RowFixed","theme","flexRowNoWrap","TextDot","text2","Checkbox","primary","input","red1","PaddedColumn","AutoColumn","MenuItem","disabled","bg2","selected","SearchInput","bg1","text1","Separator","text3","SeparatorDark","StyledInput","error","bg3","size","reverse","noBorder","modalBG","inputRegex","RegExp","Input","React","memo","value","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","replace","test","escapeRegExp","inputMode","title","autoComplete","autoCorrect","type","pattern","minLength","maxLength","spellCheck","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","backdrop","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","maxWidth","attrs","transparentize","shadow1","css","mediaWidth","upToMedium","upToSmall","Modal","onDismiss","initialFocusRef","children","fadeTransition","useTransition","config","duration","from","opacity","enter","leave","useEffect","PaddingWidth","scrollDiv","document","createElement","className","body","appendChild","scrollbarWidth","getBoundingClientRect","clientWidth","removeChild","_getScrollbarWidth","style","paddingRight","useSpring","y","mass","tension","friction","set","bind","useGesture","onDrag","state","down","movement","velocity","direction","map","item","key","props","setTimeout","isMobile","aria-label","tabIndex","InputPanel","flexColumnNoWrap","withoutMargin","ContainerRow","InputContainer","Label","span","PATTERN","AddressInputPanel","id","label","chainId","useActiveWeb3React","useENS","address","name","handleInput","useCallback","withoutSpaces","Boolean","length","href","getEtherscanLink","fontSize","autoCapitalize","Tx","require","Ledger3","app","rlp","toSign","HDPath","rawTx","Promise","resolve","eTx","EIP155Supported","getAppConfiguration","result","splitVersion","split","parseInt","old","data","msg","info","raw","toHash","slice","txToSign","encode","signTransaction","toString","v","rv","cv","r","s","signedTx","serialize","isError","signTxLedger","then","res","Web3Fn","getNetConfig","web3Fn","providers","HttpProvider","nodeRpc","CHAINID","chainID","getWeb3ConTract","ABI","ContractAddress","EXCHANGE_ABI","eth","Contract","getWeb3BaseInfo","sessionStorage","getItem","utils","toHex","gas","gasPrice","nonce","to","count","time","Date","now","batch","BatchRequest","add","estimateGas","request","err","Number","getTransactionCount","console","log","getGasPrice","execute","getDataIntervel","setInterval","toLedgerSign","sendSignedTransaction","hash","clearInterval","hdk","walletCreate","publicKey","chainCode","walletType","path","page","moreAddr","wallets","skip","Buffer","i","derivedKey","derive","push","wallet","undefined","addr","getChecksumAddressString","ethUtil","crypto","scrypt","uuid","Wallet","priv","pub","hwType","hwTransport","this","privKey","pubKey","generate","icapDirect","randomBytes","privateToAddress","prototype","getBalance","balance","getPath","getHWType","getHWTransport","getPrivateKey","getPrivateKeyString","getPublicKey","privateToPublic","getPublicKeyString","getAddress","publicToAddress","getAddressString","toChecksumAddress","fromPrivateKey","fromParityPhrase","phrase","sha3","toV3","password","opts","salt","iv","kdf","kdfparams","dklen","c","prf","pbkdf2Sync","Error","n","p","cipher","createCipheriv","ciphertext","concat","update","final","mac","version","v4","random","Crypto","cipherparams","toJSON","checksumAddress","publisher","encrypted","fromMyEtherWallet","json","JSON","parse","locked","private","decodeCryptojsSalt","evp","evp_kdf","keysize","ivsize","decipher","createDecipheriv","decipherBuffer","fromMyEtherWalletV2","fromEthSale","encseed","seed","ethaddr","fromMyEtherWalletKey","fromV3","nonStrict","toLowerCase","nullBuff","toV3String","stringify","getV3Filename","timestamp","join","iter","block","createHash","digest","ret","tmp","walletRequirePass","ethjson","jsonArr","getWalletFromPrivKeyFile","strjson","_typeof","Symbol","iterator","obj","constructor","createKeccakHash","secp256k1","assert","BN","Object","assign","exports","MAX_INTEGER","TWO_POW256","KECCAK256_NULL_S","SHA3_NULL_S","KECCAK256_NULL","SHA3_NULL","KECCAK256_RLP_ARRAY_S","SHA3_RLP_ARRAY_S","KECCAK256_RLP_ARRAY","SHA3_RLP_ARRAY","KECCAK256_RLP_S","SHA3_RLP_S","KECCAK256_RLP","SHA3_RLP","zeros","bytes","allocUnsafe","fill","zeroAddress","bufferToHex","setLengthLeft","setLength","right","buf","toBuffer","copy","setLengthRight","unpad","stripZeros","a","first","stripHexPrefix","isBuffer","Array","isArray","isHexString","padToEven","intToBuffer","isBN","toArrayLike","toArray","bufferToInt","toNumber","fromSigned","num","fromTwos","toUnsigned","toTwos","keccak","bits","keccak256","sha256","ripemd160","padded","rlphash","isValidPrivate","privateKey","privateKeyVerify","isValidPublic","sanitize","publicKeyVerify","pubToAddress","publicKeyConvert","publicKeyCreate","importPublic","ecsign","msgHash","sig","sign","signature","recovery","hashPersonalMessage","message","prefix","ecrecover","senderPubKey","recover","toRpcSig","fromRpcSig","isValidAddress","isZeroAddress","addHexPrefix","toUpperCase","isValidChecksumAddress","generateAddress","isZero","isPrecompiled","str","isHexPrefixed","isValidSignature","homestead","SECP256K1_N_DIV_2","SECP256K1_N","gt","cmp","baToJSON","ba","array","defineProperties","self","fields","_fields","forEach","field","getter","setter","allowZero","allowLess","defineProperty","enumerable","configurable","get","default","alias","decode","d","keys","indexOf","u2f","scrambleKey","timeoutSeconds","wrapApdu","apdu","webSafe64","base64","normal64","substring","u2fCallback","response","callback","exchange","apduHex","keyHandle","challenge","window","location","origin","catch","module","LedgerEth","comm","splitPath","element","index","number","isNaN","boolDisplay","boolChaincode","buffer","writeUInt32BE","sw","readUInt16BE","publicKeyLength","addressLength","rawTxHex","offset","apdus","maxChunkSize","chunkSize","shift","localCallback","signPersonalMessage_async","messageHex","ID_CODE","recordTxns","txnData","pairs","account","outChainId","idCode","localStorage","outHash","axios","post","recordsTxnsUrl","qs","status","AlertContainer","primaryLight","AlertText","AlertButton","BS","WarningTip","useBetaMessageManager","showBetaMessage","dismissBetaMessage","xs","lg","xl","onClick","StyledBalanceText","Text","Balance","CurrencyRow","currency","onSelect","urlAdded","userAdded","symbol","Column","fontWeight","DarkGray","ml","justifySelf","Loader","CurrencyList","height","currencies","onCurrencySelect","showETH","urlAddedTokens","fixedListRef","useTheme","hasOwnProperty","customAdded","INITIAL_TOKENS_CONTEXT","itemKey","Token","ETHER","ref","itemData","itemCount","itemSize","CurrencySelectModal","onTokenSelect","hideETH","selfUseAllToken","t","isSelfSymbol","useTranslation","fixedList","useRef","useState","searchQuery","setSearchQuery","allTokens","useAllTokenDetails","useTokens","includes","allBalances","useAllBalances","tokenList","useMemo","k","formatEthBalance","BigNumber","formatTokenBalance","decimals","isSwitch","filteredTokenList","list","filter","tokenEntry","inputIsAddress","tokenEntryKey","match","escapeStringRegex","some","m","sort","b","inputRef","_onTokenSelect","flex","Form","backgroundColor","color","checksummedInput","isAddress","disableWidth","_extends","arguments","source","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","cx","cy","fillOpacity","SvgDropdown","_ref","svgRef","titleId","viewBox","xmlns","ForwardRef","InputRow","CurrencyLogoContainer","CurrencySelect","button","LabelRow","Aligner","StyledDropDown","DropDown","StyledTokenSymbol","StyledTokenName","StyledBalanceMax","NumericalInput","BridgeInputPanel","onMax","showMaxButton","disableCurrencySelect","pair","hideInput","otherCurrency","showCommonBases","errorMessage","onValueChange","renderInput","description","extraText","extraTextClickHander","disableTokenSelect","disableUnlock","selectedTokenAddress","showUnlock","isSelfLogo","isSelfName","isRange","tokenBalance","modalIsOpen","setModalIsOpen","modalIsOpenTime","setModalIsOpenTime","useAddressBalance","handleDismissSearch","min","step","e","onKeyPress","which","keyCode","preventDefault","stopPropagation","selectedCurrency","otherSelectedCurrency","Button","Wrapper","HeaderRow","HoverText","ContentWrapper","UpperSection","LogoBox","ErrorTip","ConfirmContent","TxnsInfoText","ConfirmText","ButtonConfirm","HardwareTip","HardwareTipOpen","closeHardwareTip","txnsInfo","onSure","isSelfBtn","tipInfo","coin","show","onHide","centered","Header","Title","src","PathIcon","alt","variant","BSModal","TabButton","h1","Card","DefaultCard","TabHeader","borderColor","SwapCurrencies","SubmitButtonContainer","TransactionInfo","LastSummaryText","ValueWrapper","GAS_MARGIN","calculateEtherTokenOutputFromInput","inputAmount","inputReserve","outputReserve","inputAmountWithFee","times","numerator","denominator","plus","dividedBy","calculateEtherTokenInputFromOutput","outputAmount","minus","getInitialSwapState","independentValue","exactFieldURL","exactAmountURL","dependentValue","independentField","inputCurrency","inputCurrencyURL","outputCurrencyURL","outputCurrency","initialCurrency","initToken","swapStateReducer","action","payload","newInputCurrency","newOutputCurrency","getExchangeRate","inputValue","inputDecimals","outputValue","outputDecimals","invert","factor","pow","calculateGasMargin","margin","CrossAnySwap","inputCurrencySwap","outputCurrencySwap","params","getAllQueryParams","tokenAddress","addTransaction","useTransactionAdder","initialSlippage","slippage","sending","setSending","brokenTokenWarning","setBrokenTokenWarning","deadlineFromNow","rawSlippage","rawTokenSlippage","slippageView","setSlippageView","allowedSlippageBig","tokenAllowedSlippageBig","useReducer","exactField","exactAmount","swapState","dispatchSwapState","brokenTokens","recipient","setRecipient","recipientError","swapType","getSwapType","useTokenDetails","inputSymbol","inputExchangeAddress","exchangeAddress","inputIsSwitch","outputSymbol","outputExchangeAddress","outputIsSwitch","inputExchangeContract","useExchangeContract","outputExchangeContract","contract","inputAllowance","useAddressAllowance","useExchangeReserves","inputReserveETH","reserveETH","inputReserveToken","reserveToken","outputReserveETH","outputReserveToken","inputBalance","outputBalance","inputBalanceFormatted","isInteger","amountFormatter","Math","outputBalanceFormatted","independentDecimals","dependentDecimals","independentValueParsed","setIndependentValueParsed","dependentValueFormatted","inputValueParsed","outputValueParsed","inputValueFormatted","outputValueFormatted","toFixed","independentError","setIndependentError","parsedValue","ethers","parseUnits","lte","constants","Zero","gte","MaxUint256","token","tokenAllowedSlippage","allowedSlippage","minimum","maximum","lt","ZERO","calculateSlippageBounds","dependentValueMinumum","dependentValueMaximum","inputError","setInputError","setShowUnlock","inputValueCalculation","amount","calculatedDependentValue","reserveETHFirst","reserveTokenFirst","reserveETHSecond","reserveTokenSecond","intermediateValue","exchangeRate","marketRate","firstRate","secondRate","getMarketRate","percentSlippage","abs","percentSlippageFormatted","highSlippageWarning","parseEther","isValid","estimatedText","formatBalance","isDisabled","setIsDisableed","onSwapValid","onSwap","deadline","ceil","txnsType","supportWallet","setIsHardwareError","setIsHardwareTip","setHardwareTxnsInfo","contractAddress","web3Contract","methods","ethToTokenTransferInput","encodeABI","ethToTokenSwapInput","tokenToEthTransferInput","tokenToEthSwapInput","tokenToTokenTransferInput","One","toHexString","tokenToTokenSwapInput","ethToTokenTransferOutput","ethToTokenSwapOutput","tokenToEthTransferOutput","tokenToEthSwapOutput","tokenToTokenTransferOutput","tokenToTokenSwapOutput","setIsViewTxnsDtil","estimate","method","args","estimatedGasLimit","code","toast","gasLimit","customSlippageError","toggleWalletModal","useWalletModalToggle","newInputDetected","newOutputDetected","setShowInputWarning","setShowOutputWarning","isHardwareTip","isHardwareError","hardwareTxnsInfo","notNetworkSensitive","coinType","Body","valueToSet","selectedTokens","SwapIcon","val","dirSwitchFn"],"mappings":"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","file":"static/js/26.c1027738.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport { Box } from \"rebass/styled-components\";\n\nconst Row = styled(Box)<{\n\twidth?: string;\n\talign?: string;\n\tjustify?: string;\n\tpadding?: string;\n\tborder?: string;\n\tborderRadius?: string;\n}>`\n\twidth: ${({ width }) => width ?? \"100%\"};\n\tdisplay: flex;\n\tpadding: 0;\n\talign-items: ${({ align }) => align ?? \"center\"};\n\tjustify-content: ${({ justify }) => justify ?? \"flex-start\"};\n\tpadding: ${({ padding }) => padding};\n\tborder: ${({ border }) => border};\n\tborder-radius: ${({ borderRadius }) => borderRadius};\n`;\n\nexport const RowBetween = styled(Row)`\n\tjustify-content: space-between;\n`;\n\nexport const RowFlat = styled.div`\n\tdisplay: flex;\n\talign-items: flex-end;\n`;\n\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\n\tflex-wrap: wrap;\n\tmargin: ${({ gap }) => gap && `-${gap}`};\n\tjustify-content: ${({ justify }) => justify && justify};\n\n\t& > * {\n\t\tmargin: ${({ gap }) => gap} !important;\n\t}\n`;\n\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\n\twidth: fit-content;\n\tmargin: ${({ gap }) => gap && `-${gap}`};\n`;\n\nexport default Row;\n","import styled from \"styled-components\";\nimport { AutoColumn } from \"../Column\";\nimport { RowBetween, RowFixed } from \"../Row\";\n\nexport const ModalInfo = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tpadding: 1rem 1rem;\n\tmargin: 0.25rem 0.5rem;\n\tjustify-content: center;\n\tflex: 1;\n\tuser-select: none;\n`;\n\nexport const TextDot = styled.div`\n\theight: 3px;\n\twidth: 3px;\n\tbackground-color: ${({ theme }) => theme.text2};\n\tborder-radius: 50%;\n`;\n\nexport const FadedSpan = styled(RowFixed)`\n\tcolor: ${({ theme }) => theme.primary};\n\tfont-size: 14px;\n`;\n\nexport const Checkbox = styled.input`\n\tborder: 1px solid ${({ theme }) => theme.red1};\n\theight: 20px;\n\tmargin: 0;\n`;\n\nexport const PaddedColumn = styled(AutoColumn)`\n\tpadding: 30px 30px 20px;\n`;\n\nexport const MenuItem = styled(RowBetween)`\n\tpadding: 4px 20px;\n\theight: 56px;\n\tdisplay: grid;\n\tgrid-template-columns: auto minmax(auto, 1fr) auto minmax(0, 72px);\n\tgrid-gap: 16px;\n\tcursor: ${({ disabled }) => !disabled && \"pointer\"};\n\tpointer-events: ${({ disabled }) => disabled && \"none\"};\n\t:hover {\n\t\tbackground-color: ${({ theme, disabled }) => !disabled && theme.bg2};\n\t}\n\topacity: ${({ disabled, selected }) => (disabled || selected ? 0.5 : 1)};\n`;\n\nexport const SearchInput = styled.input`\n\tposition: relative;\n\tdisplay: flex;\n\tpadding: 16px;\n\talign-items: center;\n\twidth: 100%;\n\twhite-space: nowrap;\n\tbackground: ${({ theme }) => theme.bg1};\n\toutline: none;\n\tborder-radius: 20px;\n\tcolor: ${({ theme }) => theme.text1};\n\tborder: 1px solid ${({ theme }) => theme.bg1};\n\t-webkit-appearance: none;\n\n\tfont-size: 18px;\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t}\n\ttransition: border 100ms;\n\t:focus {\n\t\tborder: 1px solid ${({ theme }) => theme.primary};\n\t\toutline: none;\n\t}\n`;\nexport const Separator = styled.div`\n\twidth: 100%;\n\theight: 1px;\n\tbackground-color: ${({ theme }) => theme.text3};\n`;\n\nexport const SeparatorDark = styled.div`\n\twidth: 100%;\n\theight: 1px;\n\tbackground-color: ${({ theme }) => theme.bg2};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { escapeRegExp } from \"../../utils\";\n\nconst StyledInput = styled.input<{\n\terror?: boolean;\n\tfontSize?: string;\n\talign?: string;\n\tnoBorder?: boolean;\n\treverse?: boolean;\n\tsize?: string;\n}>`\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\twidth: 0;\n\tposition: relative;\n\tfont-weight: 500;\n\tfont-family: inherit;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg3};\n\tfont-size: 1rem;\n\ttext-align: ${({ align }) => align && align};\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: ${({ size }) => (size === \"sm\" ? \"48px\" : \"56px\")};\n\tborder-bottom-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-top-right-radius: ${({ reverse }) => (reverse ? \"0\" : `1.125rem`)};\n\tborder-bottom-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tborder-top-left-radius: ${({ reverse }) => (reverse ? \"1.125rem\" : `0`)};\n\tpadding-right: 0.625rem;\n\tpadding-left: ${({ noBorder, reverse }) => (reverse ? \"1.375rem\" : noBorder ? \"0.625rem\" : `1.5rem`)};\n\t-webkit-appearance: textfield;\n\tborder-left: ${({ theme, noBorder }) => (noBorder ? \"none\" : `3px solid ${theme.modalBG}`)};\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type=\"number\"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n`;\n\nconst inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`); // match escaped \".\" characters via in a non-capturing group\n\nexport const Input = React.memo(function InnerInput({\n\tvalue,\n\tonUserInput,\n\tplaceholder,\n\tsize,\n\t...rest\n}: {\n\tvalue: string | number;\n\tonUserInput: (input: string) => void;\n\terror?: boolean;\n\tfontSize?: string;\n\tsize?: string;\n\talign?: \"right\" | \"left\";\n} & Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"onChange\" | \"as\">) {\n\tconst enforcer = (nextUserInput: string) => {\n\t\tif (nextUserInput === \"\" || inputRegex.test(escapeRegExp(nextUserInput))) {\n\t\t\tonUserInput(nextUserInput);\n\t\t}\n\t};\n\n\treturn (\n\t\t<StyledInput\n\t\t\t{...rest}\n\t\t\tvalue={value}\n\t\t\tonChange={(event) => {\n\t\t\t\t// replace commas with periods, because uniswap exclusively uses period as the decimal separator\n\t\t\t\tenforcer(event.target.value.replace(/,/g, \".\"));\n\t\t\t}}\n\t\t\t// universal input options\n\t\t\tinputMode=\"decimal\"\n\t\t\ttitle=\"Token Amount\"\n\t\t\tautoComplete=\"off\"\n\t\t\tautoCorrect=\"off\"\n\t\t\tsize={size}\n\t\t\t// text-specific options\n\t\t\ttype=\"text\"\n\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\tplaceholder={placeholder || \"0.0\"}\n\t\t\tminLength={1}\n\t\t\tmaxLength={79}\n\t\t\tspellCheck=\"false\"\n\t\t/>\n\t);\n});\n\nexport default Input;\n\n// const inputRegex = RegExp(`^\\\\d*(?:\\\\\\\\[.])?\\\\d*$`) // match escaped \".\" characters via in a non-capturing group\n","import React, { useEffect } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { animated, useTransition, useSpring } from \"react-spring\";\nimport { DialogOverlay, DialogContent } from \"@reach/dialog\";\nimport { isMobile } from \"react-device-detect\";\nimport \"@reach/dialog/styles.css\";\nimport { transparentize } from \"polished\";\nimport { useGesture } from \"react-use-gesture\";\n\nconst AnimatedDialogOverlay = animated(DialogOverlay);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n\t&[data-reach-dialog-overlay] {\n\t\tz-index: 1100;\n\t\toverflow: hidden;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\tbackground-color: ${({ theme }) => theme.backdrop};\n\t}\n`;\n\nconst AnimatedDialogContent = animated(DialogContent);\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, maxWidth, ...rest }) => (\n\t<AnimatedDialogContent {...rest} />\n)).attrs({\n\t\"aria-label\": \"dialog\",\n})`\n\toverflow-y: ${({ mobile }) => (mobile ? \"scroll\" : \"hidden\")};\n\n\t&[data-reach-dialog-content] {\n\t\tmargin: 0 0 2rem 0;\n\t\tbackground-color: ${({ theme }) => theme.modalBG};\n\t\tbox-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n\t\tpadding: 0;\n\t\twidth: 50vw;\n\t\toverflow-x: hidden;\n\t\tdisplay: flex;\n\t\tborder-radius: 10px;\n\t\toverflow-y: ${({ mobile }) => (mobile ? \"scroll\" : \"hidden\")};\n\t\talign-self: ${({ mobile }) => (mobile ? \"flex-end\" : \"center\")};\n\n\t\t${({ maxWidth }) =>\n\t\t\tmaxWidth &&\n\t\t\tcss`\n\t\t\t\tmax-width: ${maxWidth}px;\n\t\t\t`}\n\t\t${({ maxHeight }) =>\n\t\t\tmaxHeight &&\n\t\t\tcss`\n\t\t\t\tmax-height: ${maxHeight}vh;\n\t\t\t`}\n\t\t${({ minHeight }) =>\n\t\t\tminHeight &&\n\t\t\tcss`\n\t\t\t\tmin-height: ${minHeight}vh;\n\t\t\t`}\n\t\t${({ theme }) => theme.mediaWidth.upToMedium`\n\t\t\twidth: 65vw;\n\t\t\tmargin: 0;\n\t\t`}\n\t\t${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n\t\t\twidth:  85vw;\n\t\t\t${\n\t\t\t\tmobile &&\n\t\t\t\tcss`\n\t\t\t\t\twidth: 100vw;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t\t`\n\t\t\t}\n\t\t`}\n\t}\n`;\n\ninterface ModalProps {\n\tisOpen: boolean;\n\tonDismiss: () => void;\n\tminHeight?: number | false;\n\tmaxHeight?: number;\n\tmaxWidth?: number;\n\tinitialFocusRef?: React.RefObject<any>;\n\tchildren?: React.ReactNode;\n}\n\nexport default function Modal({\n\tisOpen,\n\tonDismiss,\n\tminHeight = false,\n\tmaxHeight = 90,\n\tmaxWidth = 420,\n\tinitialFocusRef,\n\tchildren,\n}: ModalProps) {\n\tconst fadeTransition = useTransition(isOpen, null, {\n\t\tconfig: { duration: 200 },\n\t\tfrom: { opacity: 0 },\n\t\tenter: { opacity: 1 },\n\t\tleave: { opacity: 0 },\n\t});\n\n\tconst _getScrollbarWidth = () => {\n\t\tconst scrollDiv = document.createElement(\"div\");\n\t\tscrollDiv.className = \"modal-scrollbar-measure\";\n\t\tdocument.body.appendChild(scrollDiv);\n\t\tconst scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n\t\tdocument.body.removeChild(scrollDiv);\n\t\treturn scrollbarWidth;\n\t};\n\n\tuseEffect(() => {\n\t\tif (isOpen) {\n\t\t\tconst PaddingWidth = _getScrollbarWidth();\n\t\t\tdocument.body.style.paddingRight = `${PaddingWidth}px`;\n\t\t}\n\t}, [isOpen]);\n\n\tconst [, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }));\n\tconst bind = useGesture({\n\t\tonDrag: (state) => {\n\t\t\tset({\n\t\t\t\ty: state.down ? state.movement[1] : 0,\n\t\t\t});\n\t\t\tif (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n\t\t\t\tonDismiss();\n\t\t\t}\n\t\t},\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t{fadeTransition.map(\n\t\t\t\t({ item, key, props }) =>\n\t\t\t\t\titem && (\n\t\t\t\t\t\t<StyledDialogOverlay\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tstyle={props}\n\t\t\t\t\t\t\tonDismiss={() => {\n\t\t\t\t\t\t\t\tonDismiss();\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tdocument.body.style.paddingRight = `0`;\n\t\t\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tinitialFocusRef={initialFocusRef}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StyledDialogContent\n\t\t\t\t\t\t\t\t{...(isMobile\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t...bind(),\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\taria-label=\"dialog content\"\n\t\t\t\t\t\t\t\tminHeight={minHeight}\n\t\t\t\t\t\t\t\tmaxHeight={maxHeight}\n\t\t\t\t\t\t\t\tmaxWidth={maxWidth}\n\t\t\t\t\t\t\t\tmobile={isMobile}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n\t\t\t\t\t\t\t\t{!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</StyledDialogContent>\n\t\t\t\t\t\t</StyledDialogOverlay>\n\t\t\t\t\t)\n\t\t\t)}\n\t\t</>\n\t);\n}\n","import React, { useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport useENS from \"../../hooks/useENS\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { ExternalLink } from \"../../theme\";\nimport { AutoColumn } from \"../Column\";\nimport { RowBetween } from \"../Row\";\nimport { getEtherscanLink } from \"../../utils\";\n\nconst InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap}\n\tposition: relative;\n\tz-index: 1;\n\twidth: 100%;\n\tmargin-bottom: ${({ withoutMargin }) => (withoutMargin ? \".5rem\" : \"2.75rem\")};\n\n\t@media (max-width: 767px) {\n\t\tmargin-bottom: ${({ withoutMargin }) => (withoutMargin ? \".5rem\" : \"1.5rem\")};\n\t}\n`;\n\nconst ContainerRow = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 1.25rem;\n\tborder: 1px solid ${({ error, theme }) => (error ? theme.red1 : theme.bg2)};\n\ttransition: border-color 300ms ${({ error }) => (error ? \"step-end\" : \"step-start\")},\n\t\tcolor 500ms ${({ error }) => (error ? \"step-end\" : \"step-start\")};\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tpadding: 1rem;\n\theight: 56px;\n`;\n\nconst InputContainer = styled.div`\n\tflex: 1;\n`;\n\nconst Input = styled.input`\n\tfont-size: 1rem;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\ttransition: color 300ms ${({ error }) => (error ? \"step-end\" : \"step-start\")};\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tfont-weight: 500;\n\twidth: 100%;\n\tpadding: 0px;\n\t-webkit-appearance: textfield;\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t\tfont-weight: 400;\n\t}\n`;\n\nconst Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1.5rem;\n\t}\n`;\n\nconst PATTERN = /^[13][a-km-zA-HJ-NP-Z1-9]{25,80}$|^(bc1)[0-9A-Za-z]{25,80}$|^(0x[a-fA-F0-9]{40})$|^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/;\n\nexport default function AddressInputPanel({\n\tid,\n\tvalue,\n\tonChange,\n\twithoutMargin = false,\n\tlabel = \"Recipient\",\n\tplaceholder = \"Wallet Address or ENS name\",\n}) {\n\tconst { chainId } = useActiveWeb3React();\n\tconst { address, name } = useENS(value);\n\n\tconst handleInput = useCallback(\n\t\t(event) => {\n\t\t\tconst input = event.target.value;\n\t\t\tconst withoutSpaces = input.replace(/\\s+/g, \"\");\n\t\t\tonChange(withoutSpaces);\n\t\t},\n\t\t[onChange]\n\t);\n\n\tconst error = Boolean(value?.length > 0 && !PATTERN.test(value));\n\n\treturn (\n\t\t<InputPanel id={id} withoutMargin={withoutMargin}>\n\t\t\t<InputContainer>\n\t\t\t\t<AutoColumn gap=\"md\">\n\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t<Label>{label}</Label>\n\t\t\t\t\t\t{address && chainId && (\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\thref={getEtherscanLink(chainId, name ?? address, \"address\")}\n\t\t\t\t\t\t\t\tstyle={{ fontSize: \"14px\" }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t(View on Etherscan)\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</RowBetween>\n\t\t\t\t\t<ContainerRow error={error}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tclassName=\"recipient-address-input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tautoCorrect=\"off\"\n\t\t\t\t\t\t\tautoCapitalize=\"off\"\n\t\t\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\tpattern={PATTERN}\n\t\t\t\t\t\t\tonChange={handleInput}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ContainerRow>\n\t\t\t\t</AutoColumn>\n\t\t\t</InputContainer>\n\t\t</InputPanel>\n\t);\n}\n","import walletCreate from '../public/walletCreate.js'\n\n// import React, { useState, useReducer, useEffect, useContext, createContext } from 'react'\n// import { AbstractConnector } from '@web3-react/abstract-connector';\n// import { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\n// import { NetworkContextName } from '../../constants'\n// import {setAccount} from '../../../hooks'\n// import {LedgerConnect} from './ledgerConnect'\n// const ethUtil = require('ethereumjs-util')\nconst Tx  = require(\"ethereumjs-tx\")\nconst Ledger3 = require(\"./ledger3\")\nconst LedgerEth = require(\"./ledger-eth\")\nconst ledger = new Ledger3(\"w0w\")\nconst app = new LedgerEth(ledger)\nconst rlp = require('rlp')\nfunction getLedgerAddressArr (HDPath, page) {\n  return new Promise(resolve => {\n    let data = { msg: 'Error', info: []}\n    app.getAddress(HDPath, (res, err) => {\n      let addressArr = []\n      if (err) {\n        data.error = err.toString()\n      } else {\n        addressArr = walletCreate(res[\"publicKey\"], res[\"chainCode\"], \"ledger\", HDPath, page)\n        data.msg = 'Success'\n        data.info = addressArr\n      }\n      resolve(data)\n    }, false, true)\n  })\n}\n\nfunction signTxLedger (app, eTx, rawTx, HDPath, old) {\n  return new Promise(resolve => {\n    let data = { msg: 'Error', info: ''}\n    eTx.raw[6] = rawTx.chainId\n    eTx.raw[7] = eTx.raw[8] = 0\n    let toHash = old ? eTx.raw.slice(0, 6) : eTx.raw\n    let txToSign = rlp.encode(toHash)\n    app.signTransaction(HDPath, txToSign.toString('hex'), (result, error) => {\n      // console.log(result)\n      // console.log(error)\n      if (typeof error != \"undefined\") {\n        // error = error.errorCode ? u2f.getErrorByCode(error.errorCode) : error\n        data = { error: error}\n      } else {\n        let v = result['v'].toString(16);\n        // console.log(result['v'])\n        // console.log(v)\n        // console.log(parseInt(v))\n        if (!old) {\n          // EIP155 support. check/recalc signature v value.\n          let rv = parseInt(v, 16)\n          let cv = rawTx.chainId * 2 + 35\n          if (rv !== cv && (rv & cv) !== rv) {\n            cv += 1 // add signature v bit.\n            // console.log(cv)\n          }\n          v = cv.toString(16);\n        }\n        rawTx.v = \"0x\" + v;\n        rawTx.r = \"0x\" + result['r'];\n        rawTx.s = \"0x\" + result['s'];\n        eTx = new Tx(rawTx);\n        // rawTx.rawTx = JSON.stringify(rawTx);\n        rawTx.signedTx = '0x' + eTx.serialize().toString('hex');\n        rawTx.isError = false\n        data = { msg: 'Success', info: rawTx}\n      }\n      resolve(data)\n    })\n  })\n}\n\nfunction toSign (HDPath, rawTx) {\n  return new Promise(resolve => {\n    let eTx = new Tx(rawTx)\n    let EIP155Supported = false\n    app.getAppConfiguration((result, error) => {\n      // console.log(result)\n      // console.log(error)\n      if (typeof error != \"undefined\") {\n        // this.$$.errTip(error)\n        return\n      }\n      let splitVersion = result['version'].split('.');\n      if (parseInt(splitVersion[0]) > 1) {\n          EIP155Supported = true;\n      } else if (parseInt(splitVersion[1]) > 0) {\n          EIP155Supported = true;\n      } else if (parseInt(splitVersion[2]) > 2) {\n          EIP155Supported = true;\n      }\n      signTxLedger(app, eTx, rawTx, HDPath, !EIP155Supported).then(res => {\n        resolve(res)\n      })\n    })\n  })\n}\n\nexport {\n  getLedgerAddressArr,\n  toSign\n}","\nimport getNetConfig from '../../config'\nconst Web3Fn = require('web3')\nconst config = getNetConfig();\nconst web3Fn = new Web3Fn(new Web3Fn.providers.HttpProvider(config.nodeRpc))\n\n\nexport default web3Fn","import web3Fn from './index'\nimport EXCHANGE_ABI from '../../constants/abis/exchange.json'\nimport {toSign as toLedgerSign} from '../wallets/ledger/index'\nimport getNetConfig from  '../../config'\n\nconst config = getNetConfig();\n\nconst CHAINID = config.chainID\n\nexport function getWeb3ConTract (ABI, ContractAddress) {\n  // console.log(web3Fn)\n  ABI = ABI ? ABI : EXCHANGE_ABI\n  // return new web3Fn.eth.contract(EXCHANGE_ABI, ContractAddress)\n  // let contract = web3Fn.eth.contract(ABI) \n  return new web3Fn.eth.Contract(ABI, ContractAddress)\n}\n\n\nexport function getWeb3BaseInfo (ContractAddress, input, address, value) {\n  let walletType = sessionStorage.getItem('walletType')\n  let HDPath = sessionStorage.getItem('HDPath')\n  let data = {\n    chainId: web3Fn.utils.toHex(CHAINID),\n    from: address,\n    gas: '',\n    gasPrice: \"\",\n    nonce: \"\",\n    to: ContractAddress,\n    value: value ? value : \"0x0\",\n    data: input\n  }\n  // console.log(data)\n  return new Promise(resolve => {\n    let count = 0, time = Date.now()\n    const batch = new web3Fn.BatchRequest()\n    // batch.add(web3Fn.eth.estimateGas.request({to: ContractAddress}, (err, res) => {\n    batch.add(web3Fn.eth.estimateGas.request(data, (err, res) => {\n      if (err) {\n        // console.log(err)\n        data.gas = web3Fn.utils.toHex(210000)\n        count ++\n      } else {\n        data.gas = web3Fn.utils.toHex(parseInt(Number(res) * 1.2))\n        count ++\n      }\n    }))\n    batch.add(web3Fn.eth.getTransactionCount.request(address, (err, res) => {\n      if (err) {\n        console.log(err)\n      } else {\n        // console.log(2)\n        data.nonce = web3Fn.utils.toHex(res)\n        count ++\n      }\n    }))\n    batch.add(web3Fn.eth.getGasPrice.request((err, res) => {\n      if (err) {\n        console.log(err)\n      } else {\n        // console.log(res)\n        // console.log(Number(res))\n        data.gasPrice = web3Fn.utils.toHex(res)\n        count ++\n      }\n    }))\n    batch.execute()\n    let getDataIntervel = setInterval(() => {\n      if (count >= 3 && ( (Date.now() - time) <= 30000 )) {\n        // this.dataPage = data\n        // this.getInputData()\n        console.log(data)\n        toLedgerSign(HDPath, data).then(res => {\n          if (res.msg === 'Success') {\n            web3Fn.eth.sendSignedTransaction(res.info.signedTx, (err, hash) => {\n              // console.log(hash)\n              if (err) {\n                resolve({\n                  msg: 'Error',\n                  error: err\n                })\n              } else {\n                data.hash = hash\n                resolve({\n                  msg: 'Success',\n                  info: data\n                })\n              }\n            })\n          } else {\n            resolve({\n              msg: 'Error',\n              error: res.error\n            })\n          }\n        })\n        clearInterval(getDataIntervel)\n      } else if (count < 3 && ( (Date.now() - time) > 30000 )) {\n        resolve({\n          msg: 'Error',\n          error: \"\"\n        })\n        clearInterval(getDataIntervel)\n      }\n    }, 1000)\n  })\n}","export default __webpack_public_path__ + \"static/media/swap.a249e251.svg\";","// const wallet = require('../ethereum/wallet')\nimport wallet from '../ethereum/wallet'\nconst HDKey = require('hdkey')\nconst hdk = new HDKey()\n\n\nfunction walletCreate (publicKey, chainCode, walletType, path, page) {\n  page = page ? page : 0\n  let moreAddr = []\n  let wallets = []\n  let skip = page * 5\n  hdk.publicKey = new Buffer(publicKey, \"hex\")\n  hdk.chainCode = new Buffer(chainCode, \"hex\")\n  for (let i = skip; i < (skip + 5); i++) {\n    let derivedKey = hdk.derive(\"m/\" + i)\n    if (walletType === 'ledger') {\n      wallets.push(new wallet(undefined, derivedKey.publicKey, path + \"/\" + i, walletType))\n    } else {\n      wallets.push(new wallet(undefined, derivedKey.publicKey, path + \"/\" + i, walletType))\n    }\n    moreAddr.push({addr: wallets[i - skip].getChecksumAddressString(), path: path + \"/\" + i})\n  }\n  return moreAddr\n}\n\nexport default walletCreate","\n// var ethUtil = require('ethereumjs-util')\nvar ethUtil = require('../ethUtil')\nethUtil.crypto = require(\"crypto\");\nethUtil.Tx = require(\"ethereumjs-tx\");\nethUtil.scrypt = require(\"scryptsy\");\nethUtil.uuid = require(\"uuid\");\nvar Wallet = function (priv, pub, path, hwType, hwTransport) {\n  if (typeof priv != \"undefined\") {\n    this.privKey = priv.length === 32 ? priv : Buffer(priv, 'hex')\n  }\n  this.pubKey = pub;\n  this.path = path;\n  this.hwType = hwType;\n  this.hwTransport = hwTransport;\n  this.type = \"default\";\n}\nWallet.generate = function (icapDirect) {\n  if (icapDirect) {\n    while (true) {\n      var privKey = ethUtil.crypto.randomBytes(32)\n      if (ethUtil.privateToAddress(privKey)[0] === 0) {\n        return new Wallet(privKey)\n      }\n    }\n  } else {\n    return new Wallet(ethUtil.crypto.randomBytes(32))\n  }\n}\n\nWallet.prototype.getBalance = function () {\n  return this.balance;\n}\nWallet.prototype.getPath = function () {\n  return this.path;\n}\nWallet.prototype.getHWType = function () {\n  return this.hwType;\n}\nWallet.prototype.getHWTransport = function () {\n  return this.hwTransport;\n}\nWallet.prototype.getPrivateKey = function () {\n  return this.privKey\n}\nWallet.prototype.getPrivateKeyString = function () {\n  if (typeof this.privKey != \"undefined\") {\n    return this.getPrivateKey().toString('hex')\n  } else {\n    return \"\";\n  }\n}\nWallet.prototype.getPublicKey = function () {\n  if (typeof this.pubKey == \"undefined\") {\n    return ethUtil.privateToPublic(this.privKey)\n  } else {\n    return this.pubKey;\n  }\n}\nWallet.prototype.getPublicKeyString = function () {\n  if (typeof this.pubKey == \"undefined\") {\n    return '0x' + this.getPublicKey().toString('hex')\n  } else {\n    return \"0x\" + this.pubKey.toString('hex')\n  }\n}\nWallet.prototype.getAddress = function () {\n  if (typeof this.pubKey == \"undefined\") {\n    return ethUtil.privateToAddress(this.privKey)\n  } else {\n    return ethUtil.publicToAddress(this.pubKey, true)\n  }\n}\nWallet.prototype.getAddressString = function () {\n  return '0x' + this.getAddress().toString('hex')\n}\nWallet.prototype.getChecksumAddressString = function () {\n  return ethUtil.toChecksumAddress(this.getAddressString())\n}\nWallet.fromPrivateKey = function (priv) {\n  return new Wallet(priv)\n}\nWallet.fromParityPhrase = function (phrase) {\n  var hash = ethUtil.sha3(new Buffer(phrase));\n  for (var i = 0; i < 16384; i++) hash = ethUtil.sha3(hash);\n  while (ethUtil.privateToAddress(hash)[0] !== 0) hash = ethUtil.sha3(hash);\n  return new Wallet(hash);\n}\nWallet.prototype.toV3 = function (password, opts) {\n  opts = opts || {}\n  var salt = opts.salt || ethUtil.crypto.randomBytes(32)\n  var iv = opts.iv || ethUtil.crypto.randomBytes(16)\n  var derivedKey\n  var kdf = opts.kdf || 'scrypt'\n  var kdfparams = {\n    dklen: opts.dklen || 32,\n    salt: salt.toString('hex')\n  }\n  if (kdf === 'pbkdf2') {\n    kdfparams.c = opts.c || 262144\n    kdfparams.prf = 'hmac-sha256'\n    derivedKey = ethUtil.crypto.pbkdf2Sync(new Buffer(password), salt, kdfparams.c, kdfparams.dklen, 'sha256')\n  } else if (kdf === 'scrypt') {\n    // FIXME: support progress reporting callback\n    kdfparams.n = opts.n || 262144\n    kdfparams.r = opts.r || 8\n    kdfparams.p = opts.p || 1\n    derivedKey = ethUtil.scrypt(new Buffer(password), salt, kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen)\n  } else {\n    throw new Error('Unsupported kdf')\n  }\n  var cipher = ethUtil.crypto.createCipheriv(opts.cipher || 'aes-128-ctr', derivedKey.slice(0, 16), iv)\n  if (!cipher) {\n    throw new Error('Unsupported cipher')\n  }\n  var ciphertext = Buffer.concat([cipher.update(this.privKey), cipher.final()])\n  var mac = ethUtil.sha3(Buffer.concat([derivedKey.slice(16, 32), new Buffer(ciphertext, 'hex')]))\n  return {\n    version: 3,\n    id: ethUtil.uuid.v4({\n      random: opts.uuid || ethUtil.crypto.randomBytes(16)\n    }),\n    address: this.getAddress().toString('hex'),\n    Crypto: {\n      ciphertext: ciphertext.toString('hex'),\n      cipherparams: {\n        iv: iv.toString('hex')\n      },\n      cipher: opts.cipher || 'aes-128-ctr',\n      kdf: kdf,\n      kdfparams: kdfparams,\n      mac: mac.toString('hex')\n    }\n  }\n}\nWallet.prototype.toJSON = function () {\n  return {\n    address: this.getAddressString(),\n    checksumAddress: this.getChecksumAddressString(),\n    privKey: this.getPrivateKeyString(),\n    pubKey: this.getPublicKeyString(),\n    publisher: '',\n    encrypted: false,\n    version: 2\n  }\n}\nWallet.fromMyEtherWallet = function (input, password) {\n  var json = (typeof input === 'object') ? input : JSON.parse(input)\n  var privKey\n  if (!json.locked) {\n    if (json.private.length !== 64) {\n      throw new Error('Invalid private key length')\n    }\n    privKey = new Buffer(json.private, 'hex')\n  } else {\n    if (typeof password !== 'string') {\n      throw new Error('Password required')\n    }\n    if (password.length < 7) {\n      throw new Error('Password must be at least 7 characters')\n    }\n    var cipher = json.encrypted ? json.private.slice(0, 128) : json.private\n    cipher = Wallet.decodeCryptojsSalt(cipher)\n    var evp = Wallet.evp_kdf(new Buffer(password), cipher.salt, {\n      keysize: 32,\n      ivsize: 16\n    })\n    var decipher = ethUtil.crypto.createDecipheriv('aes-256-cbc', evp.key, evp.iv)\n    privKey = Wallet.decipherBuffer(decipher, new Buffer(cipher.ciphertext))\n    privKey = new Buffer((privKey.toString()), 'hex')\n  }\n  var wallet = new Wallet(privKey)\n  if (wallet.getAddressString() !== json.address) {\n    throw new Error('Invalid private key or address')\n  }\n  return wallet\n}\nWallet.fromMyEtherWalletV2 = function (input) {\n  var json = (typeof input === 'object') ? input : JSON.parse(input);\n  if (json.privKey.length !== 64) {\n    throw new Error('Invalid private key length');\n  };\n  var privKey = new Buffer(json.privKey, 'hex');\n  return new Wallet(privKey);\n}\nWallet.fromEthSale = function (input, password) {\n  var json = (typeof input === 'object') ? input : JSON.parse(input)\n  var encseed = new Buffer(json.encseed, 'hex')\n  var derivedKey = ethUtil.crypto.pbkdf2Sync(Buffer(password), Buffer(password), 2000, 32, 'sha256').slice(0, 16)\n  var decipher = ethUtil.crypto.createDecipheriv('aes-128-cbc', derivedKey, encseed.slice(0, 16))\n  var seed = Wallet.decipherBuffer(decipher, encseed.slice(16))\n  var wallet = new Wallet(ethUtil.sha3(seed))\n  if (wallet.getAddress().toString('hex') !== json.ethaddr) {\n    throw new Error('Decoded key mismatch - possibly wrong passphrase')\n  }\n  return wallet\n}\nWallet.fromMyEtherWalletKey = function (input, password) {\n  var cipher = input.slice(0, 128)\n  cipher = Wallet.decodeCryptojsSalt(cipher)\n  var evp = Wallet.evp_kdf(new Buffer(password), cipher.salt, {\n    keysize: 32,\n    ivsize: 16\n  })\n  var decipher = ethUtil.crypto.createDecipheriv('aes-256-cbc', evp.key, evp.iv)\n  var privKey = Wallet.decipherBuffer(decipher, new Buffer(cipher.ciphertext))\n  privKey = new Buffer((privKey.toString()), 'hex')\n  return new Wallet(privKey)\n}\nWallet.fromV3 = function (input, password, nonStrict) {\n  var json = (typeof input === 'object') ? input : JSON.parse(nonStrict ? input.toLowerCase() : input)\n  if (json.version !== 3) {\n    throw new Error('Not a V3 wallet')\n  }\n  var derivedKey\n  var kdfparams\n  if (json.crypto.kdf === 'scrypt') {\n    kdfparams = json.crypto.kdfparams\n    derivedKey = ethUtil.scrypt(new Buffer(password), new Buffer(kdfparams.salt, 'hex'), kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen)\n  } else if (json.crypto.kdf === 'pbkdf2') {\n    kdfparams = json.crypto.kdfparams\n    if (kdfparams.prf !== 'hmac-sha256') {\n      throw new Error('Unsupported parameters to PBKDF2')\n    }\n    derivedKey = ethUtil.crypto.pbkdf2Sync(new Buffer(password), new Buffer(kdfparams.salt, 'hex'), kdfparams.c, kdfparams.dklen, 'sha256')\n  } else {\n    throw new Error('Unsupported key derivation scheme')\n  }\n  var ciphertext = new Buffer(json.crypto.ciphertext, 'hex')\n  var mac = ethUtil.sha3(Buffer.concat([derivedKey.slice(16, 32), ciphertext]))\n  if (mac.toString('hex') !== json.crypto.mac) {\n    throw new Error('Key derivation failed - possibly wrong passphrase')\n  }\n  var decipher = ethUtil.crypto.createDecipheriv(json.crypto.cipher, derivedKey.slice(0, 16), new Buffer(json.crypto.cipherparams.iv, 'hex'))\n  var seed = Wallet.decipherBuffer(decipher, ciphertext, 'hex')\n  while (seed.length < 32) {\n    var nullBuff = new Buffer([0x00]);\n    seed = Buffer.concat([nullBuff, seed]);\n  }\n  return new Wallet(seed)\n}\nWallet.prototype.toV3String = function (password, opts) {\n  return JSON.stringify(this.toV3(password, opts))\n}\nWallet.prototype.getV3Filename = function (timestamp) {\n  var ts = timestamp ? new Date(timestamp) : new Date()\n  return ['UTC--', ts.toJSON().replace(/:/g, '-'), '--', this.getAddress().toString('hex')].join('')\n}\nWallet.decipherBuffer = function (decipher, data) {\n  return Buffer.concat([decipher.update(data), decipher.final()])\n}\nWallet.decodeCryptojsSalt = function (input) {\n  var ciphertext = new Buffer(input, 'base64')\n  if (ciphertext.slice(0, 8).toString() === 'Salted__') {\n    return {\n      salt: ciphertext.slice(8, 16),\n      ciphertext: ciphertext.slice(16)\n    }\n  } else {\n    return {\n      ciphertext: ciphertext\n    }\n  }\n}\nWallet.evp_kdf = function (data, salt, opts) {\n  // A single EVP iteration, returns `D_i`, where block equlas to `D_(i-1)`\n\n  function iter(block) {\n    var hash = ethUtil.crypto.createHash(opts.digest || 'md5')\n    hash.update(block)\n    hash.update(data)\n    hash.update(salt)\n    block = hash.digest()\n    for (var i = 1; i < (opts.count || 1); i++) {\n      hash = ethUtil.crypto.createHash(opts.digest || 'md5')\n      hash.update(block)\n      block = hash.digest()\n    }\n    return block\n  }\n  var keysize = opts.keysize || 16\n  var ivsize = opts.ivsize || 16\n  var ret = []\n  var i = 0\n  while (Buffer.concat(ret).length < (keysize + ivsize)) {\n    ret[i] = iter((i === 0) ? new Buffer(0) : ret[i - 1])\n    i++\n  }\n  var tmp = Buffer.concat(ret)\n  return {\n    key: tmp.slice(0, keysize),\n    iv: tmp.slice(keysize, keysize + ivsize)\n  }\n}\nWallet.walletRequirePass = function (ethjson) {\n  let jsonArr\n    try {\n      jsonArr = JSON.parse(ethjson)\n    } catch (err) {\n      let errtxt1 = 'This is not a valid wallet file. '\n      throw errtxt1\n    }\n    if (jsonArr.encseed != null) {\n      return true\n    } else if (jsonArr.Crypto != null || jsonArr.crypto != null) {\n      return true\n    } else if (jsonArr.hash != null && jsonArr.locked) {\n      return true\n    } else if (jsonArr.hash != null && !jsonArr.locked) {\n      return false\n    } else if (jsonArr.publisher === 'MyEtherWallet' && !jsonArr.encrypted) {\n      return false\n    } else {\n      let errtxt2 = 'Sorry! We don\\'t recognize this type of wallet file. '\n      throw errtxt2\n    }\n}\nWallet.getWalletFromPrivKeyFile = function (strjson, password) {\n  var jsonArr = JSON.parse(strjson);\n  if (jsonArr.encseed != null) return Wallet.fromEthSale(strjson, password);\n  else if (jsonArr.Crypto != null || jsonArr.crypto != null) return Wallet.fromV3(strjson, password, true);\n  else if (jsonArr.hash != null) return Wallet.fromMyEtherWallet(strjson, password);\n  else if (jsonArr.publisher === '') return Wallet.fromMyEtherWalletV2(strjson);\n  else {\n    let errtxt2 = 'Sorry! We don\\'t recognize this type of wallet file. '\n    throw errtxt2\n  }\n}\n// module.exports = Wallet;\nexport default Wallet\n","\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar secp256k1 = require('secp256k1');\nvar assert = require('assert');\nvar rlp = require('rlp');\nvar BN = require('bn.js');\nvar createHash = require('create-hash');\nvar Buffer = require('safe-buffer').Buffer;\nObject.assign(exports, require('ethjs-util'));\n\n/**\n * the max integer that this VM can handle (a ```BN```)\n * @var {BN} MAX_INTEGER\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n\n/**\n * 2^256 (a ```BN```)\n * @var {BN} TWO_POW256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n\n/**\n * Keccak-256 hash of null (a ```String```)\n * @var {String} KECCAK256_NULL_S\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nexports.SHA3_NULL_S = exports.KECCAK256_NULL_S;\n\n/**\n * Keccak-256 hash of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_NULL\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\nexports.SHA3_NULL = exports.KECCAK256_NULL;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```String```)\n * @var {String} KECCAK256_RLP_ARRAY_S\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\nexports.SHA3_RLP_ARRAY_S = exports.KECCAK256_RLP_ARRAY_S;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP_ARRAY\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\nexports.SHA3_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY;\n\n/**\n * Keccak-256 hash of the RLP of null  (a ```String```)\n * @var {String} KECCAK256_RLP_S\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\nexports.SHA3_RLP_S = exports.KECCAK256_RLP_S;\n\n/**\n * Keccak-256 hash of the RLP of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\nexports.SHA3_RLP = exports.KECCAK256_RLP;\n\n/**\n * [`BN`](https://github.com/indutny/bn.js)\n * @var {Function}\n */\nexports.BN = BN;\n\n/**\n * [`rlp`](https://github.com/ethereumjs/rlp)\n * @var {Function}\n */\nexports.rlp = rlp;\n\n/**\n * [`secp256k1`](https://github.com/cryptocoinjs/secp256k1-node/)\n * @var {Object}\n */\nexports.secp256k1 = secp256k1;\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nexports.zeros = function (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0);\n};\n\n/**\n  * Returns a zero address\n  * @method zeroAddress\n  * @return {String}\n  */\nexports.zeroAddress = function () {\n  var addressLength = 20;\n  var zeroAddress = exports.zeros(addressLength);\n  return exports.bufferToHex(zeroAddress);\n};\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method lsetLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nexports.setLengthLeft = exports.setLength = function (msg, length, right) {\n  var buf = exports.zeros(length);\n  msg = exports.toBuffer(msg);\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf);\n      return buf;\n    }\n    return msg.slice(0, length);\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length);\n      return buf;\n    }\n    return msg.slice(-length);\n  }\n};\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nexports.setLengthRight = function (msg, length) {\n  return exports.setLength(msg, length, true);\n};\n\n/**\n * Trims leading zeros from a `Buffer` or an `Array`\n * @param {Buffer|Array|String} a\n * @return {Buffer|Array|String}\n */\nexports.unpad = exports.stripZeros = function (a) {\n  a = exports.stripHexPrefix(a);\n  var first = a[0];\n  while (a.length > 0 && first.toString() === '0') {\n    a = a.slice(1);\n    first = a[0];\n  }\n  return a;\n};\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nexports.toBuffer = function (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (exports.isHexString(v)) {\n        v = Buffer.from(exports.padToEven(exports.stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = exports.intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n};\n\n/**\n * Converts a `Buffer` to a `Number`\n * @param {Buffer} buf\n * @return {Number}\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n  return new BN(exports.toBuffer(buf)).toNumber();\n};\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nexports.bufferToHex = function (buf) {\n  buf = exports.toBuffer(buf);\n  return '0x' + buf.toString('hex');\n};\n\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param {Buffer} num\n * @return {BN}\n */\nexports.fromSigned = function (num) {\n  return new BN(num).fromTwos(256);\n};\n\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param {BN} num\n * @return {Buffer}\n */\nexports.toUnsigned = function (num) {\n  return Buffer.from(num.toTwos(256).toArray());\n};\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nexports.keccak = function (a, bits) {\n  a = exports.toBuffer(a);\n  if (!bits) bits = 256;\n\n  return createKeccakHash('keccak' + bits).update(a).digest();\n};\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256)\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.keccak256 = function (a) {\n  return exports.keccak(a);\n};\n\n/**\n * Creates SHA-3 (Keccak) hash of the input [OBSOLETE]\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the SHA-3 width\n * @return {Buffer}\n */\nexports.sha3 = exports.keccak;\n\n/**\n * Creates SHA256 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.sha256 = function (a) {\n  a = exports.toBuffer(a);\n  return createHash('sha256').update(a).digest();\n};\n\n/**\n * Creates RIPEMD160 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Boolean} padded whether it should be padded to 256 bits or not\n * @return {Buffer}\n */\nexports.ripemd160 = function (a, padded) {\n  a = exports.toBuffer(a);\n  var hash = createHash('rmd160').update(a).digest();\n  if (padded === true) {\n    return exports.setLength(hash, 32);\n  } else {\n    return hash;\n  }\n};\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.rlphash = function (a) {\n  return exports.keccak(rlp.encode(a));\n};\n\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n * @param {Buffer} privateKey\n * @return {Boolean}\n */\nexports.isValidPrivate = function (privateKey) {\n  return secp256k1.privateKeyVerify(privateKey);\n};\n\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param {Buffer} publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Boolean}\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n  if (publicKey.length === 64) {\n    // Convert to SEC1 for secp256k1\n    return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n  }\n\n  if (!sanitize) {\n    return false;\n  }\n\n  return secp256k1.publicKeyVerify(publicKey);\n};\n\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param {Buffer} pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Buffer}\n */\nexports.pubToAddress = exports.publicToAddress = function (pubKey, sanitize) {\n  pubKey = exports.toBuffer(pubKey);\n  if (sanitize && pubKey.length !== 64) {\n    pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n  }\n  assert(pubKey.length === 64);\n  // Only take the lower 160bits of the hash\n  return exports.keccak(pubKey).slice(-20);\n};\n\n/**\n * Returns the ethereum public key of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nvar privateToPublic = exports.privateToPublic = function (privateKey) {\n  privateKey = exports.toBuffer(privateKey);\n  // skip the type flag and use the X, Y points\n  return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n\n/**\n * Converts a public key to the Ethereum format.\n * @param {Buffer} publicKey\n * @return {Buffer}\n */\nexports.importPublic = function (publicKey) {\n  publicKey = exports.toBuffer(publicKey);\n  if (publicKey.length !== 64) {\n    publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n  }\n  return publicKey;\n};\n\n/**\n * ECDSA sign\n * @param {Buffer} msgHash\n * @param {Buffer} privateKey\n * @return {Object}\n */\nexports.ecsign = function (msgHash, privateKey) {\n  var sig = secp256k1.sign(msgHash, privateKey);\n\n  var ret = {};\n  ret.r = sig.signature.slice(0, 32);\n  ret.s = sig.signature.slice(32, 64);\n  ret.v = sig.recovery + 27;\n  return ret;\n};\n\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n * @param message\n * @returns {Buffer} hash\n */\nexports.hashPersonalMessage = function (message) {\n  var prefix = exports.toBuffer('\\x19Ethereum Signed Message:\\n' + message.length.toString());\n  return exports.keccak(Buffer.concat([prefix, message]));\n};\n\n/**\n * ECDSA public key recovery from signature\n * @param {Buffer} msgHash\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {Buffer} publicKey\n */\nexports.ecrecover = function (msgHash, v, r, s) {\n  var signature = Buffer.concat([exports.setLength(r, 32), exports.setLength(s, 32)], 64);\n  var recovery = v - 27;\n  if (recovery !== 0 && recovery !== 1) {\n    throw new Error('Invalid signature v value');\n  }\n  var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n  return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {String} sig\n */\nexports.toRpcSig = function (v, r, s) {\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (v !== 27 && v !== 28) {\n    throw new Error('Invalid recovery id');\n  }\n\n  // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n  // FIXME: this might change in the future - https://github.com/ethereum/go-ethereum/issues/2053\n  return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r, 32), exports.setLengthLeft(s, 32), exports.toBuffer(v - 27)]));\n};\n\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n * @param {String} sig\n * @return {Object}\n */\nexports.fromRpcSig = function (sig) {\n  sig = exports.toBuffer(sig);\n\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (sig.length !== 65) {\n    throw new Error('Invalid signature length');\n  }\n\n  var v = sig[64];\n  // support both versions of `eth_sign` responses\n  if (v < 27) {\n    v += 27;\n  }\n\n  return {\n    v: v,\n    r: sig.slice(0, 32),\n    s: sig.slice(32, 64)\n  };\n};\n\n/**\n * Returns the ethereum address of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nexports.privateToAddress = function (privateKey) {\n  return exports.publicToAddress(privateToPublic(privateKey));\n};\n\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too\n * @param {String} address\n * @return {Boolean}\n */\nexports.isValidAddress = function (address) {\n  return (/^0x[0-9a-fA-F]{40}$/.test(address)\n  );\n};\n\n/**\n  * Checks if a given address is a zero address\n  * @method isZeroAddress\n  * @param {String} address\n  * @return {Boolean}\n  */\nexports.isZeroAddress = function (address) {\n  var zeroAddress = exports.zeroAddress();\n  return zeroAddress === exports.addHexPrefix(address);\n};\n\n/**\n * Returns a checksummed address\n * @param {String} address\n * @return {String}\n */\nexports.toChecksumAddress = function (address) {\n  address = exports.stripHexPrefix(address).toLowerCase();\n  var hash = exports.keccak(address).toString('hex');\n  var ret = '0x';\n\n  for (var i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Checks if the address is a valid checksummed address\n * @param {Buffer} address\n * @return {Boolean}\n */\nexports.isValidChecksumAddress = function (address) {\n  return exports.isValidAddress(address) && exports.toChecksumAddress(address) === address;\n};\n\n/**\n * Generates an address of a newly created contract\n * @param {Buffer} from the address which is creating this new address\n * @param {Buffer} nonce the nonce of the from account\n * @return {Buffer}\n */\nexports.generateAddress = function (from, nonce) {\n  from = exports.toBuffer(from);\n  nonce = new BN(nonce);\n\n  if (nonce.isZero()) {\n    // in RLP we want to encode null in the case of zero nonce\n    // read the RLP documentation for an answer if you dare\n    nonce = null;\n  } else {\n    nonce = Buffer.from(nonce.toArray());\n  }\n\n  // Only take the lower 160bits of the hash\n  return exports.rlphash([from, nonce]).slice(-20);\n};\n\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium)\n * @param {Buffer|String} address\n * @return {Boolean}\n */\nexports.isPrecompiled = function (address) {\n  var a = exports.unpad(address);\n  return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\"\n * @param {String} str\n * @return {String}\n */\nexports.addHexPrefix = function (str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return exports.isHexPrefixed(str) ? str : '0x' + str;\n};\n\n/**\n * Validate ECDSA signature\n * @method isValidSignature\n * @param {Buffer} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @param {Boolean} [homestead=true]\n * @return {Boolean}\n */\n\nexports.isValidSignature = function (v, r, s, homestead) {\n  var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n  var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n\n  if (r.length !== 32 || s.length !== 32) {\n    return false;\n  }\n\n  if (v !== 27 && v !== 28) {\n    return false;\n  }\n\n  r = new BN(r);\n  s = new BN(s);\n\n  if (r.isZero() || r.gt(SECP256K1_N) || s.isZero() || s.gt(SECP256K1_N)) {\n    return false;\n  }\n\n  if (homestead === false && new BN(s).cmp(SECP256K1_N_DIV_2) === 1) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Converts a `Buffer` or `Array` to JSON\n * @param {Buffer|Array} ba\n * @return {Array|String|null}\n */\nexports.baToJSON = function (ba) {\n  if (Buffer.isBuffer(ba)) {\n    return '0x' + ba.toString('hex');\n  } else if (ba instanceof Array) {\n    var array = [];\n    for (var i = 0; i < ba.length; i++) {\n      array.push(exports.baToJSON(ba[i]));\n    }\n    return array;\n  }\n};\n\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param {Object} self the `Object` to define properties on\n * @param {Array} fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param {*} data data to be validated against the definitions\n */\nexports.defineProperties = function (self, fields, data) {\n  self.raw = [];\n  self._fields = [];\n\n  // attach the `toJSON`\n  self.toJSON = function (label) {\n    if (label) {\n      var obj = {};\n      self._fields.forEach(function (field) {\n        obj[field] = '0x' + self[field].toString('hex');\n      });\n      return obj;\n    }\n    return exports.baToJSON(this.raw);\n  };\n\n  self.serialize = function serialize() {\n    return rlp.encode(self.raw);\n  };\n\n  fields.forEach(function (field, i) {\n    self._fields.push(field.name);\n    function getter() {\n      return self.raw[i];\n    }\n    function setter(v) {\n      v = exports.toBuffer(v);\n\n      if (v.toString('hex') === '00' && !field.allowZero) {\n        v = Buffer.allocUnsafe(0);\n      }\n\n      if (field.allowLess && field.length) {\n        v = exports.stripZeros(v);\n        assert(field.length >= v.length, 'The field ' + field.name + ' must not have more ' + field.length + ' bytes');\n      } else if (!(field.allowZero && v.length === 0) && field.length) {\n        assert(field.length === v.length, 'The field ' + field.name + ' must have byte length of ' + field.length);\n      }\n\n      self.raw[i] = v;\n    }\n\n    Object.defineProperty(self, field.name, {\n      enumerable: true,\n      configurable: true,\n      get: getter,\n      set: setter\n    });\n\n    if (field.default) {\n      self[field.name] = field.default;\n    }\n\n    // attach alias\n    if (field.alias) {\n      Object.defineProperty(self, field.alias, {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n      });\n    }\n  });\n\n  // if the constuctor is passed data\n  if (data) {\n    if (typeof data === 'string') {\n      data = Buffer.from(exports.stripHexPrefix(data), 'hex');\n    }\n\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n\n    if (Array.isArray(data)) {\n      if (data.length > self._fields.length) {\n        throw new Error('wrong number of fields in data');\n      }\n\n      // make sure all the items are buffers\n      data.forEach(function (d, i) {\n        self[self._fields[i]] = exports.toBuffer(d);\n      });\n    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n      var keys = Object.keys(data);\n      fields.forEach(function (field) {\n        if (keys.indexOf(field.name) !== -1) self[field.name] = data[field.name];\n        if (keys.indexOf(field.alias) !== -1) self[field.alias] = data[field.alias];\n      });\n    } else {\n      throw new Error('invalid data');\n    }\n  }\n};","/********************************************************************************\n *   Ledger Communication toolkit\n *   (c) 2016 Ledger\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ********************************************************************************/\n\nconst u2f = require(\"u2f-api\");\nvar Ledger3 = function(scrambleKey, timeoutSeconds) {\n  this.scrambleKey = new Buffer(scrambleKey, \"ascii\");\n  this.timeoutSeconds = timeoutSeconds ? timeoutSeconds : 10000 ;\n  // this.timeoutSeconds = timeoutSeconds  ;\n};\n\nLedger3.wrapApdu = function(apdu, key) {\n  var result = new Buffer(apdu.length);\n  for (var i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n  return result;\n};\n\n// Convert from normal to web-safe, strip trailing \"=\"s\nLedger3.webSafe64 = function(base64) {\n  return base64\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=+$/, \"\");\n};\n\n// Convert from web-safe to normal, add trailing \"=\"s\nLedger3.normal64 = function(base64) {\n  return (\n    base64.replace(/-/g, \"+\").replace(/_/g, \"/\") +\n    \"==\".substring(0, (3 * base64.length) % 4)\n  );\n};\n\nLedger3.prototype.u2fCallback = function(response, callback) {\n  if (typeof response[\"signatureData\"] != \"undefined\") {\n    var data = new Buffer(\n      Ledger3.normal64(response[\"signatureData\"]),\n      \"base64\"\n    );\n    callback(data.toString(\"hex\", 5));\n  } else {\n    callback(undefined, response);\n  }\n};\n\n// callback is function(response, error)\nLedger3.prototype.exchange = function(apduHex, callback) {\n  var apdu = new Buffer(apduHex, \"hex\");\n  var keyHandle = Ledger3.wrapApdu(apdu, this.scrambleKey);\n  var challenge = new Buffer(\n    \"0000000000000000000000000000000000000000000000000000000000000000\",\n    \"hex\"\n  );\n  var key = {};\n  key[\"appId\"] = window.location.origin;\n  key[\"challenge\"] = Ledger3.webSafe64(challenge.toString(\"base64\"));\n  key[\"version\"] = \"U2F_V2\";\n  key[\"keyHandle\"] = Ledger3.webSafe64(keyHandle.toString(\"base64\"));\n  var self = this;\n  var localCallback = function(result) {\n    // console.log(result)\n    self.u2fCallback(result, callback);\n  };\n  // console.log(this)\n  // console.log(this.timeoutSeconds)\n  u2f.sign([key], this.timeoutSeconds).then(localCallback).catch(err => {\n    // console.log(err)\n    callback(undefined, err)\n  })\n};\n\nmodule.exports = Ledger3;\n// export default Ledger3\n","/********************************************************************************\n*   Ledger Communication toolkit\n*   (c) 2016 Ledger\n*\n*  Licensed under the Apache License, Version 2.0 (the \"License\");\n*  you may not use this file except in compliance with the License.\n*  You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n*  Unless required by applicable law or agreed to in writing, software\n*  distributed under the License is distributed on an \"AS IS\" BASIS,\n*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n*  See the License for the specific language governing permissions and\n*  limitations under the License.\n********************************************************************************/\n\nlet LedgerEth = function(comm) {\n\tthis.comm = comm;\n}\n\nLedgerEth.splitPath = function(path) {\n\tlet result = [];\n\tlet components = path.split('/');\n\tcomponents.forEach(function (element, index) {\n\t\tlet number = parseInt(element, 10);\n\t\tif (isNaN(number)) {\n\t\t\treturn;\n\t\t}\n\t\tif ((element.length > 1) && (element[element.length - 1] === \"'\")) {\n\t\t\tnumber += 0x80000000;\n\t\t}\n\t\tresult.push(number);\n\t});\n\treturn result;\n}\n\n// callback is function(response, error)\nLedgerEth.prototype.getAddress = function(path, callback, boolDisplay, boolChaincode) {\n\tlet splitPath = LedgerEth.splitPath(path);\n\tlet buffer = new Buffer(5 + 1 + splitPath.length * 4);\n\tbuffer[0] = 0xe0;\n\tbuffer[1] = 0x02;\n\tbuffer[2] = (boolDisplay ? 0x01 : 0x00);\n\tbuffer[3] = (boolChaincode ? 0x01 : 0x00);\n\tbuffer[4] = 1 + splitPath.length * 4;\n\tbuffer[5] = splitPath.length;\n\tsplitPath.forEach(function (element, index) {\n\t\tbuffer.writeUInt32BE(element, 6 + 4 * index);\n\t});\n\tlet self = this;\n\tlet localCallback = function(response, error) {\n\t\tif (typeof error !== \"undefined\") {\n\t\t\tcallback(undefined, error);\n\t\t}\n\t\telse {\n\t\t\tlet result = {};\n\t\t\tresponse = new Buffer(response, 'hex');\n\t\t\tlet sw = response.readUInt16BE(response.length - 2);\n\t\t\tif (sw !== 0x9000) {\n\t\t\t\tcallback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure the right application is selected ?\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet publicKeyLength = response[0];\n\t\t\tlet addressLength = response[1 + publicKeyLength];\n\t\t\tresult['publicKey'] = response.slice(1, 1 + publicKeyLength).toString('hex');\n\t\t\tresult['address'] = \"0x\" + response.slice(1 + publicKeyLength + 1, 1 + publicKeyLength + 1 + addressLength).toString('ascii');\n\t\t\tif (boolChaincode) {\n\t\t\t\tresult['chainCode'] = response.slice(1 + publicKeyLength + 1 + addressLength, 1 + publicKeyLength + 1 + addressLength + 32).toString('hex');\n\t\t\t}\n\t\t\tcallback(result);\n\t\t}\n\t};\n\tthis.comm.exchange(buffer.toString('hex'), localCallback);\n}\n\n// callback is function(response, error)\nLedgerEth.prototype.signTransaction = function(path, rawTxHex, callback) {\n\tlet splitPath = LedgerEth.splitPath(path);\n\tlet offset = 0;\n\tlet rawTx = new Buffer(rawTxHex, 'hex');\n\tlet apdus = [];\n\twhile (offset !== rawTx.length) {\n\t\tlet maxChunkSize = (offset === 0 ? (150 - 1 - splitPath.length * 4) : 150)\n\t\tlet chunkSize = (offset + maxChunkSize > rawTx.length ? rawTx.length - offset : maxChunkSize);\n\t\tlet buffer = new Buffer(offset === 0 ? 5 + 1 + splitPath.length * 4 + chunkSize : 5 + chunkSize);\n\t\tbuffer[0] = 0xe0;\n\t\tbuffer[1] = 0x04;\n\t\tbuffer[2] = (offset === 0 ? 0x00 : 0x80);\n\t\tbuffer[3] = 0x00;\n\t\tbuffer[4] = (offset === 0 ? 1 + splitPath.length * 4 + chunkSize : chunkSize);\n\t\tif (offset === 0) {\n\t\t\tbuffer[5] = splitPath.length;\n\t\t\tsplitPath.forEach(function (element, index) {\n\t\t\t\tbuffer.writeUInt32BE(element, 6 + 4 * index);\n\t\t\t});\n\t\t\trawTx.copy(buffer, 6 + 4 * splitPath.length, offset, offset + chunkSize);\n\t\t}\n\t\telse {\n\t\t\trawTx.copy(buffer, 5, offset, offset + chunkSize);\n\t\t}\n\t\tapdus.push(buffer.toString('hex'));\n\t\toffset += chunkSize;\n\t}\n\tlet self = this;\n\tlet localCallback = function(response, error) {\n\t\tif (typeof error !== \"undefined\") {\n\t\t\tcallback(undefined, error);\n\t\t}\n\t\telse {\n\t\t\tresponse = new Buffer(response, 'hex');\n\t\t\tlet sw = response.readUInt16BE(response.length - 2);\n\t\t\tif (sw !== 0x9000) {\n        callback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure contract data is on ?\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (apdus.length === 0) {\n\t\t\t\t\tlet result = {};\n\t\t\t\t\tresult['v'] = response.slice(0, 1).toString('hex');\n\t\t\t\t\tresult['r'] = response.slice(1, 1 + 32).toString('hex');\n\t\t\t\t\tresult['s'] = response.slice(1 + 32, 1 + 32 + 32).toString('hex');\n\t\t\t\t\tcallback(result);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tself.comm.exchange(apdus.shift(), localCallback);\n\t\t\t}\n\t\t}\n\t};\n\tself.comm.exchange(apdus.shift(), localCallback);\n}\n\n// callback is function(response, error)\nLedgerEth.prototype.getAppConfiguration = function(callback) {\n\tlet buffer = new Buffer(5);\n\tbuffer[0] = 0xe0;\n\tbuffer[1] = 0x06;\n\tbuffer[2] = 0x00;\n\tbuffer[3] = 0x00;\n\tbuffer[4] = 0x00;\n\tlet localCallback = function(response, error) {\n\t\tif (typeof error !== \"undefined\") {\n\t\t\tcallback(undefined, error);\n\t\t}\n\t\telse {\n\t\t\tresponse = new Buffer(response, 'hex');\n\t\t\tlet result = {};\n\t\t\tlet sw = response.readUInt16BE(response.length - 2);\n\t\t\tif (sw !== 0x9000) {\n\t\t\t\tcallback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure the right application is selected ?\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult['arbitraryDataEnabled'] = (response[0] & 0x01);\n\t\t\tresult['version'] = \"\" + response[1] + '.' + response[2] + '.' + response[3];\n\t\t\tcallback(result);\n\t\t}\n\t};\n\tthis.comm.exchange(buffer.toString('hex'), localCallback);\n}\n\nLedgerEth.prototype.signPersonalMessage_async = function(path, messageHex, callback) {\n  let splitPath = LedgerEth.splitPath(path);\n  let offset = 0;\n  let message = new Buffer(messageHex, 'hex');\n  let apdus = [];\n  let response = [];\n  let self = this;\n  while (offset !== message.length) {\n    let maxChunkSize = (offset === 0 ? (150 - 1 - splitPath.length * 4 - 4) : 150)\n    let chunkSize = (offset + maxChunkSize > message.length ? message.length - offset : maxChunkSize);\n    let buffer = new Buffer(offset === 0 ? 5 + 1 + splitPath.length * 4 + 4 + chunkSize : 5 + chunkSize);\n    buffer[0] = 0xe0;\n    buffer[1] = 0x08;\n    buffer[2] = (offset === 0 ? 0x00 : 0x80);\n    buffer[3] = 0x00;\n    buffer[4] = (offset === 0 ? 1 + splitPath.length * 4 + 4 + chunkSize : chunkSize);\n    if (offset === 0) {\n      buffer[5] = splitPath.length;\n      splitPath.forEach(function (element, index) {\n        buffer.writeUInt32BE(element, 6 + 4 * index);\n      });\n      buffer.writeUInt32BE(message.length, 6 + 4 * splitPath.length);\n      message.copy(buffer, 6 + 4 * splitPath.length + 4, offset, offset + chunkSize);\n    }\n    else {\n      message.copy(buffer, 5, offset, offset + chunkSize);\n    }\n    apdus.push(buffer.toString('hex'));\n    offset += chunkSize;\n  }\n  let localCallback = function(response, error) {\n    if (typeof error !== \"undefined\") {\n      callback(undefined, error);\n    }\n    else {\n      response = new Buffer(response, 'hex');\n      let sw = response.readUInt16BE(response.length - 2);\n      if (sw !== 0x9000) {\n        callback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure the right application is selected ?\");\n        return;\n      }\n      if (apdus.length === 0) {\n          let result = {};\n          result['v'] = response.slice(0, 1).toString('hex');\n          result['r'] = response.slice(1, 1 + 32).toString('hex');\n          result['s'] = response.slice(1 + 32, 1 + 32 + 32).toString('hex');\n          callback(result);\n      }\n      else {\n        self.comm.exchange(apdus.shift(), localCallback);\n      }\n    }\n  };\n  self.comm.exchange(apdus.shift(), localCallback);\n}\n\nmodule.exports = LedgerEth;\n// export default LedgerEth\n\n","import axios from 'axios'\nimport qs from \"qs\"\nimport getNetConfig from '../../config'\n\nconst ID_CODE = 'ID_CODE'\nconst config = getNetConfig();\n\nexport function recordTxns (txnData, type, pairs, account, to, outChainId) {\n  let idCode = localStorage.getItem(ID_CODE) ? localStorage.getItem(ID_CODE) : ''\n  let hash = txnData.hash, outHash = ''\n  if (type === 'DEPOSIT') {\n    hash = ''\n    outHash = txnData.hash\n  }\n  axios.post(config.recordsTxnsUrl, qs.stringify({\n    hash: hash,\n    from: account,\n    to: to,\n    pairs: pairs,\n    chainId: config.chainID,\n    outHash: outHash,\n    outChainId: outChainId ? outChainId : '',\n    type: type,\n    idCode: idCode,\n    status: 0,\n    timestamp: Date.now(),\n  })).then(res => {\n    console.log(res)\n  })\n}\n\n","import { Button as BS, Col } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport { useBetaMessageManager } from \"../../contexts/LocalStorage\";\n\nconst AlertContainer = styled.div`\n\tborder-radius: 18px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 4px 4px 4px 64px;\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\n\t@media (max-width: 1199px) {\n\t\tpadding-left: 48px;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tpadding-left: 36px;\n\t}\n\n\t@media (max-width: 767px) {\n\t\tpadding-left: 16px;\n\t}\n`;\n\nconst AlertText = styled.span`\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tcolor: ${({ theme }) => theme.primary};\n\tline-height: 21px;\n\tpadding-right: 1rem;\n\tpadding-top: 9px;\n\tpadding-bottom: 9px;\n`;\n\nconst AlertButton = styled(BS)`\n\tmin-height: 48px;\n\theight: 48px;\n\tborder-radius: 18px;\n\tfont-weight: 500;\n\tmin-width: 105px;\n`;\n\nconst WarningTip = (props) => {\n\tconst [showBetaMessage, dismissBetaMessage] = useBetaMessageManager();\n\n\treturn (\n\t\tshowBetaMessage && (\n\t\t\t<Col xs={12} lg={{ span: 10, offset: 1 }} xl={{ span: 8, offset: 2 }}>\n\t\t\t\t<AlertContainer>\n\t\t\t\t\t<AlertText>This project is in Beta. Use at your own risk.</AlertText>\n\t\t\t\t\t<AlertButton onClick={dismissBetaMessage}>Agree</AlertButton>\n\t\t\t\t</AlertContainer>\n\t\t\t</Col>\n\t\t)\n\t);\n};\n\nexport default WarningTip;\n","import { ETHER, Token } from \"@uniswap/sdk\";\nimport React, { useCallback } from \"react\";\nimport { FixedSizeList } from \"react-window\";\nimport { Text } from \"rebass\";\nimport styled from \"styled-components\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { TYPE } from \"../../theme\";\nimport Column from \"../Column\";\nimport { RowBetween, RowFixed } from \"../Row\";\nimport Loader from \"../Loader\";\nimport useTheme from \"../../hooks/useTheme\";\nimport TokenLogo from \"../CrossTokenLogo\";\nimport getNetConfig from \"../../config\";\nimport { INITIAL_TOKENS_CONTEXT } from \"../../contexts/Tokens\";\n\nconst config = getNetConfig();\n\nfunction currencyKey(currency) {\n\treturn currency instanceof Token ? currency.address : currency === ETHER ? \"ETHER\" : \"\";\n}\n\nconst StyledBalanceText = styled(Text)`\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tmax-width: 5rem;\n\ttext-overflow: ellipsis;\n`;\n\nfunction Balance({ balance }) {\n\treturn <StyledBalanceText>{balance}</StyledBalanceText>;\n}\n\nconst MenuItem = styled(RowBetween)`\n\tpadding: 4px 20px;\n\theight: 56px;\n\tdisplay: grid;\n\tgrid-template-columns: auto minmax(auto, 1fr) auto;\n\tgrid-gap: 16px;\n\tcursor: ${({ disabled }) => !disabled && \"pointer\"};\n\tpointer-events: ${({ disabled }) => disabled && \"none\"};\n\t:hover {\n\t\tbackground-color: ${({ theme, disabled }) => !disabled && theme.bg2};\n\t}\n\topacity: ${({ disabled, selected }) => (disabled || selected ? 0.5 : 1)};\n`;\n\nfunction CurrencyRow({ currency, onSelect, urlAdded, userAdded, style }) {\n\tconst { account } = useActiveWeb3React();\n\treturn (\n\t\t<MenuItem style={style} className={`cross-token-item-${currency.symbol}`} onClick={onSelect}>\n\t\t\t<TokenLogo address={currency.symbol} size={\"24px\"} />\n\t\t\t<Column>\n\t\t\t\t<Text title={currency.name} fontWeight={500}>\n\t\t\t\t\t{currency.symbol}\n\t\t\t\t</Text>\n\t\t\t\t<TYPE.DarkGray ml=\"0px\" fontSize={\"12px\"} fontWeight={300}>\n\t\t\t\t\t{currency.name} {userAdded && \"• Added by user\"}\n\t\t\t\t\t{urlAdded && \"• Added by url\"}\n\t\t\t\t</TYPE.DarkGray>\n\t\t\t</Column>\n\t\t\t<RowFixed style={{ justifySelf: \"flex-end\" }}>\n\t\t\t\t{currency.balance ? <Balance balance={currency.balance} /> : account ? <Loader /> : \"-\"}\n\t\t\t</RowFixed>\n\t\t</MenuItem>\n\t);\n}\n\nexport default function CurrencyList({\n\theight,\n\tcurrencies,\n\tonCurrencySelect,\n\tshowETH,\n\turlAddedTokens,\n\tfixedListRef\n}) {\n\tconst { chainId } = useActiveWeb3React();\n\tconst theme = useTheme();\n\n\n\tconst Row = useCallback(\n\t\t({ data, index, style }) => {\n\t\t\tconst currency = data[index];\n\t\t\tconst address = currency.address;\n\n\t\t\tconst urlAdded = urlAddedTokens && urlAddedTokens.hasOwnProperty(address);\n\t\t\tconst customAdded =\n\t\t\t\taddress !== config.symbol &&\n\t\t\t\tINITIAL_TOKENS_CONTEXT[chainId] &&\n\t\t\t\t!INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(address) &&\n\t\t\t\t!urlAdded;\n\n\t\t\tif (!showETH && address === config.symbol) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst handleSelect = () => onCurrencySelect(address);\n\n\t\t\treturn (\n\t\t\t\t<CurrencyRow\n\t\t\t\t\tstyle={style}\n\t\t\t\t\tcurrency={currency}\n\t\t\t\t\turlAdded={urlAdded}\n\t\t\t\t\tuserAdded={customAdded}\n\t\t\t\t\tonSelect={handleSelect}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\t[\n\t\t\tchainId,\n\t\t\tonCurrencySelect,\n\t\t\ttheme.text1,\n\t\t]\n\t);\n\n\tconst itemKey = useCallback((index, data) => currencyKey(data[index]), []);\n\n\treturn (\n\t\t<FixedSizeList\n\t\t\theight={height}\n\t\t\tref={fixedListRef}\n\t\t\twidth=\"100%\"\n\t\t\titemData={currencies}\n\t\t\titemCount={currencies.length}\n\t\t\titemSize={56}\n\t\t\titemKey={itemKey}\n\t\t>\n\t\t\t{Row}\n\t\t</FixedSizeList>\n\t);\n}\n","import { useTranslation } from \"react-i18next\";\nimport useTheme from \"../../hooks/useTheme\";\nimport React, { useMemo, useRef, useState } from \"react\";\nimport { useAllTokenDetails } from \"../../contexts/Tokens\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useAllBalances } from \"../../contexts/Balances\";\nimport { formatEthBalance, formatTokenBalance } from \"../../utils/cross\";\nimport BigNumber from \"bignumber.js\";\nimport escapeStringRegex from \"escape-string-regexp\";\nimport { isAddress } from \"../../utils\";\nimport Modal from \"../Modal\";\nimport Column from \"../Column\";\nimport { PaddedColumn, Separator } from \"../SearchModal/styleds\";\nimport { FormControl } from \"../Form\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport CurrencyList from \"./CurrencyList\";\nimport getNetConfig from \"../../config\";\n\nconst config = getNetConfig();\n\nfunction CurrencySelectModal({\n\tisOpen,\n\tonDismiss,\n\tonTokenSelect,\n\turlAddedTokens,\n\thideETH,\n\tselfUseAllToken,\n\tisSelfSymbol,\n}) {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\n\tconst fixedList = useRef();\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\n\tlet allTokens = useAllTokenDetails(),\n\t\tuseTokens = {};\n\tif (selfUseAllToken.length > 0) {\n\t\tfor (let obj in allTokens) {\n\t\t\tif (selfUseAllToken.includes(obj)) continue;\n\t\t\tuseTokens[obj] = allTokens[obj];\n\t\t}\n\t\tallTokens = useTokens;\n\t}\n\n\tconst { account } = useActiveWeb3React();\n\n\tconst allBalances = useAllBalances();\n\n\tconst tokenList = useMemo(() => {\n\t\treturn Object.keys(allTokens).map((k) => {\n\t\t\tlet balance;\n\t\t\t// only update if we have data\n\t\t\tif (\n\t\t\t\tk === config.symbol &&\n\t\t\t\tallBalances[account] &&\n\t\t\t\tallBalances[account][k] &&\n\t\t\t\tallBalances[account][k].value\n\t\t\t) {\n\t\t\t\tbalance = formatEthBalance(new BigNumber(allBalances[account][k].value));\n\t\t\t} else if (allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n\t\t\t\tbalance = formatTokenBalance(new BigNumber(allBalances[account][k].value), allTokens[k].decimals);\n\t\t\t}\n\t\t\t// console.log(allTokens[k].decimals)\n\t\t\t// console.log(balance)\n\t\t\treturn {\n\t\t\t\tname: allTokens[k].name,\n\t\t\t\tsymbol: allTokens[k].symbol,\n\t\t\t\taddress: k,\n\t\t\t\tbalance: balance,\n\t\t\t\tisSwitch: allTokens[k].isSwitch,\n\t\t\t};\n\t\t});\n\t}, [allBalances, allTokens, account]);\n\n\tconst filteredTokenList = useMemo(() => {\n\t\tconst list = tokenList.filter((tokenEntry) => {\n\t\t\tconst inputIsAddress = searchQuery.slice(0, 2) === \"0x\";\n\n\t\t\t// check the regex for each field\n\t\t\tconst regexMatches = Object.keys(tokenEntry).map((tokenEntryKey) => {\n\t\t\t\t// if address field only search if input starts with 0x.\n\t\t\t\tif (tokenEntryKey === \"address\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tinputIsAddress &&\n\t\t\t\t\t\ttypeof tokenEntry[tokenEntryKey] === \"string\" &&\n\t\t\t\t\t\t!!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), \"i\"))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\ttypeof tokenEntry[tokenEntryKey] === \"string\" &&\n\t\t\t\t\t!!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), \"i\"))\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn regexMatches.some((m) => m);\n\t\t});\n\t\t// If the user has not inputted anything, preserve previous sort\n\t\tif (searchQuery === \"\") return list;\n\t\treturn list.sort((a, b) => {\n\t\t\treturn a.symbol.toLowerCase() === searchQuery.toLowerCase() ? -1 : 1;\n\t\t});\n\t}, [tokenList, searchQuery]);\n\n\tconst inputRef = useRef();\n\n\tfunction _onTokenSelect(address) {\n\t\tconsole.log(address);\n\t\tsetSearchQuery(\"\");\n\t\tonTokenSelect(address);\n\t\tonDismiss();\n\t}\n\n\tfunction onInput(event) {\n\t\tconst input = event.target.value;\n\t\tconst checksummedInput = isAddress(input);\n\t\tsetSearchQuery(checksummedInput || input);\n\t}\n\n\tfunction clearInputAndDismiss() {\n\t\tsetSearchQuery(\"\");\n\t\tonDismiss();\n\t}\n\n\treturn (\n\t\t<Modal isOpen={isOpen} onDismiss={clearInputAndDismiss} maxHeight={80} minHeight={80}>\n\t\t\t<Column style={{ width: \"100%\", flex: \"1 1\", minHeight: \"100px\" }}>\n\t\t\t\t<PaddedColumn gap=\"14px\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tsize={\"lg\"}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: theme.bg2,\n\t\t\t\t\t\t\tcolor: theme.text1,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid=\"token-search-input\"\n\t\t\t\t\t\tplaceholder={t(\"tokenSearchPlaceholder\")}\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tonChange={onInput}\n\t\t\t\t\t/>\n\t\t\t\t</PaddedColumn>\n\t\t\t\t<Separator />\n\n\t\t\t\t<div style={{ flex: \"1\" }}>\n\t\t\t\t\t<AutoSizer disableWidth>\n\t\t\t\t\t\t{({ height }) => (\n\t\t\t\t\t\t\t<CurrencyList\n\t\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\t\tcurrencies={filteredTokenList}\n\t\t\t\t\t\t\t\tonCurrencySelect={_onTokenSelect}\n\t\t\t\t\t\t\t\turlAddedTokens={urlAddedTokens}\n\t\t\t\t\t\t\t\tfixedListRef={fixedList}\n\t\t\t\t\t\t\t\tshowETH={!hideETH}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</AutoSizer>\n\t\t\t\t</div>\n\t\t\t</Column>\n\t\t</Modal>\n\t);\n}\n\nexport default CurrencySelectModal;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  opacity: 0.8\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 12,\n  fill: \"currentColor\",\n  fillOpacity: 0.15\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.0002 9.17019C16.8128 8.98394 16.5594 8.87939 16.2952 8.87939C16.031 8.87939 15.7776 8.98394 15.5902 9.17019L12.0002 12.7102L8.46019 9.17019C8.27283 8.98394 8.01938 8.87939 7.75519 8.87939C7.49101 8.87939 7.23756 8.98394 7.05019 9.17019C6.95646 9.26315 6.88207 9.37375 6.8313 9.49561C6.78053 9.61747 6.75439 9.74818 6.75439 9.88019C6.75439 10.0122 6.78053 10.1429 6.8313 10.2648C6.88207 10.3866 6.95646 10.4972 7.05019 10.5902L11.2902 14.8302C11.3832 14.9239 11.4938 14.9983 11.6156 15.0491C11.7375 15.0998 11.8682 15.126 12.0002 15.126C12.1322 15.126 12.2629 15.0998 12.3848 15.0491C12.5066 14.9983 12.6172 14.9239 12.7102 14.8302L17.0002 10.5902C17.0939 10.4972 17.1683 10.3866 17.2191 10.2648C17.2699 10.1429 17.296 10.0122 17.296 9.88019C17.296 9.74818 17.2699 9.61747 17.2191 9.49561C17.1683 9.37375 17.0939 9.26315 17.0002 9.17019Z\",\n  fill: \"currentColor\"\n}));\n\nfunction SvgDropdown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropdown);\nexport default __webpack_public_path__ + \"static/media/dropdown.9d3490eb.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useCallback} from \"react\";\nimport styled from \"styled-components\";\nimport CurrencySearchModal from \"../BrdigeCurrencySelectModal\";\nimport { RowBetween } from \"../Row\";\nimport { Input as DefaultNumericalInput } from \"../NumericalInput\";\nimport { ReactComponent as DropDown } from \"../../assets/images/cross/dropdown.svg\";\n\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport {useTokenContract} from \"../../hooks/useContract\";\nimport {useAllTokenDetails, useTokenDetails} from \"../../contexts/Tokens\";\nimport {useAddressBalance} from \"../../contexts/Balances\";\nimport TokenLogo from \"../CrossTokenLogo\";\n\nconst InputRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tpadding: 0.75rem 0;\n  \n\t@media (min-width: 992px) {\n      \tpadding: 3px 0;\n\t}\n  \n  \t@media(max-width: 380px) {\n\t  \tflex-direction: column;\n\t  \talign-items: stretch;\n\t  \t\n    }\n`;\n\nconst CurrencyLogoContainer = styled.div`\n\twidth: 32px;\n \theight: 32px;\n  \n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t}\n`\n\nconst Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1.25rem;\n\t}\n`;\n\nconst CurrencySelect = styled.button`\n\talign-items: center;\n\theight: 56px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\tcolor: ${({ theme }) => theme.primary};\n\tborder-radius: 18px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tmin-width: 116px;\n\twidth: 116px;\n  \ttransition: 0.3s ease all;\n\n\t@media (min-width: 768px) {\n\t\theight: 80px;\n\t\tmin-width: 178px;\n\t\twidth: 178px;\n\t\tpadding: 0.25rem 0.625rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 500;\n\t}\n  \n\t@media (min-width: 992px) {\n\t\tmin-width: 255px;\n\t\twidth: 255px;\n\t\tpadding: 4px 1.5rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 500;\n\t}\n  \n  \n\n\n  \t@media(max-width: 380px) {\n\t    width: 100%;\n\t}\n\n\t:focus,\n\t:hover {\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t    color: #202020;\n\t\toutline: none;\n\t}\n`;\n\nconst LabelRow = styled.div`\n\t${({ theme }) => theme.flexRowNoWrap};\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n`;\n\nconst InputContainer = styled.div`\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n`;\n\nconst Aligner = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n  \ttext-align: left;\n`;\n\nconst StyledDropDown = styled(DropDown)`\n  \tmargin-top: 4px;\n  \tmargin-left: 4px;\n  \theight: 24px;\n  \twidth: 24px;\n  \n\t@media (max-width: 991px) {\n\t  \tmargin-top: 0;\n\t}\n  \n\t@media (max-width: 576px) {\n\t\tmargin-left: 4px;\n      \theight: 16px;\n      \twidth: 16px;\n\t}\n`;\n\n\nconst InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap};\n\tposition: relative;\n\tz-index: 1;\n\tmargin-bottom: ${({ withoutMargin }) => (withoutMargin ? \"0.5rem\" : \"1rem\")};\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: ${({ withoutMargin }) => (withoutMargin ? \"0.5rem\" : \"1.75rem\")};\n\t}\n`;\n\nconst StyledTokenSymbol = styled.span`\n\tmargin-right: auto;\n  \tpadding-left: 0.875rem;\n\tfont-size: 0.875rem;\n  \tline-height: 18px;\n  \tdisplay: block;\n  \tmargin-bottom: 3px;\n\n\t@media (min-width: 768px) {\n      \tpadding-left: 1rem;\n      \tfont-size: 1rem;\n      \tline-height: 21px;\n\t}\n`;\n\nconst StyledTokenName = styled.span`\n\tmargin-right: auto;\n\tpadding-left: 0.875rem;\n\tfont-size: 0.75rem;\n  \tline-height: 15px;\n  \tmargin-bottom: 3px;\n  \tdisplay: none;\n\n\t@media (min-width: 768px) {\n\t\tpadding-left: 1rem;\n      \tfont-size: 0.875rem;\n      \tline-height: 18px;\n      display: block;\n\t}\n`;\n\nconst StyledBalanceMax = styled.button`\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\tborder: none;\n\tborder-radius: 10px;\n\tfont-size: 1rem;\n\tpadding: 0.25rem 0.625rem;\n\theight: 32px;\n\tmax-height: 32px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\tcolor: ${({ theme }) => theme.primary};\n\tposition: absolute;\n\tbottom: calc(100% + 10px);\n\tright: 0;\n\ttransition: all ease 0.3s;\n\n\t@media (min-width: 768px) {\n\t\theight: 40px;\n\t\tmax-height: 40px;\n\t\tpadding: 0.5rem;\n\t\ttop: 8px;\n\t\tright: 8px;\n\t}\n\n\t:hover {\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t\tcolor: ${({ theme }) => theme.bg2};\n\t}\n\n\t:focus {\n\t\toutline: none;\n\t}\n`;\n\nconst NumericalInput = styled.input`\n\n  color: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n  width: 0;\n  position: relative;\n  font-family: inherit;\n  outline: none;\n  flex: 1 1 auto;\n  background-color: ${({ theme }) => theme.bg3};\n  text-align: ${({ align }) => align && align};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-appearance: textfield;\n  border-radius: 18px;\n  height: 56px;\n  font-size: 1rem;\n  font-weight: 500;\n  padding: 1rem 20px;\n  border: none;\n  margin-right: 40px;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ${({ theme }) => theme.text3};\n  }\n  \n  @media (min-width: 768px) {\n    padding-right: 4.5625rem;\n  }\n  \n  @media (max-width: 767px) {\n    margin-right: 24px;\n  }\n  \n  @media (max-width: 576px) {\n    margin-right: 16px;\n  }\n\n  @media(max-width: 380px) {\n    margin-right: 0;\n    margin-bottom: 12px;\n  }\n`\n\nexport default function BridgeInputPanel({\n\tvalue,\n\tonUserInput,\n\tonMax,\n\tshowMaxButton,\n\tlabel = \"Input\",\n\tonCurrencySelect,\n\tcurrency,\n\tdisableCurrencySelect = false,\n\tpair = null, // used for double token logo\n\thideInput = false,\n\totherCurrency,\n\tid,\n\tshowCommonBases,\n\twithoutMargin = false,\n\tonValueChange = () => {},\n\tallBalances,\n\trenderInput,\n\tdescription,\n\textraText,\n\textraTextClickHander = () => {},\n\terrorMessage,\n\tdisableUnlock,\n\tdisableTokenSelect,\n\tselectedTokenAddress = '',\n\tshowUnlock,\n\turlAddedTokens,\n\thideETH = false,\n\tisSelfSymbol,\n\tisSelfLogo,\n\tisSelfName,\n\tselfUseAllToken = [],\n\tisRange = false,\n\ttokenBalance = 0\n}) {\n\tconst { t } = useTranslation();\n\n\tconst [modalIsOpen, setModalIsOpen] = useState(false)\n\tconst [modalIsOpenTime, setModalIsOpenTime] = useState(1)\n\tconst { account } = useActiveWeb3React();\n\n\n\tlet allTokens = useAllTokenDetails()\n\n\tconst userTokenBalance = useAddressBalance(account, selectedTokenAddress)\n\n\tconst [valueRange, setValueRange] = useState('')\n\n\tconst handleDismissSearch = useCallback(() => {\n\t\tsetModalIsOpen(false);\n\t}, [setModalIsOpen]);\n\n\treturn (\n\t\t<InputPanel id={id} withoutMargin={withoutMargin}>\n\t\t\t<div>\n\t\t\t\t{!hideInput && (\n\t\t\t\t\t<LabelRow>\n\t\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t\t<Label>{label}</Label>\n\t\t\t\t\t\t</RowBetween>\n\t\t\t\t\t</LabelRow>\n\t\t\t\t)}\n\t\t\t\t<InputRow\n\t\t\t\t\tstyle={hideInput ? { padding: \"0\", borderRadius: \"0.42rem\" } : {}}\n\t\t\t\t\tselected={disableCurrencySelect}\n\t\t\t\t>\n\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t<NumericalInput\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tstep=\"0.000000000000000001\"\n\t\t\t\t\t\t\t\terror={!!errorMessage}\n\t\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\t\tvalue={isNaN(value) ? '' : value}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tonUserInput(e.target.value)\n\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tconst charCode = e.which ? e.which : e.keyCode\n\n\t\t\t\t\t\t\t\t\t// Prevent 'minus' character\n\t\t\t\t\t\t\t\t\tif (charCode === 45) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{account && currency && showMaxButton && label !== \"To\" && (\n\t\t\t\t\t\t\t\t<StyledBalanceMax onClick={onMax}>{t(\"max\")}</StyledBalanceMax>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t)}\n\t\t\t\t\t<CurrencySelect\n\t\t\t\t\t\tselected={!!selectedTokenAddress}\n\t\t\t\t\t\tclassName=\"open-currency-select-button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (!disableTokenSelect) {\n\t\t\t\t\t\t\t\tif (modalIsOpenTime) {\n\t\t\t\t\t\t\t\t\tsetModalIsOpenTime(0)\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tsetModalIsOpenTime(1)\n\t\t\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t\t\t\tsetModalIsOpen(true)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Aligner>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisSelfSymbol ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{selectedTokenAddress && (\n\t\t\t\t\t\t\t\t\t\t\tisSelfLogo ?\n\t\t\t\t\t\t\t\t\t\t\t\t<CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TokenLogo address={isSelfLogo} size={'100%'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t<CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TokenLogo address={allTokens[selectedTokenAddress].symbol} size={'100%'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tisSelfSymbol ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-stretch flex-column flex-grow-1 text-align-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTokenSymbol>{isSelfSymbol}</StyledTokenSymbol>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTokenName>{isSelfName ? isSelfName : allTokens[selectedTokenAddress].name}</StyledTokenName>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\tt('selectToken')\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) :  (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{selectedTokenAddress && (\n\t\t\t\t\t\t\t\t\t\t\t<CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t<TokenLogo address={allTokens[selectedTokenAddress] && allTokens[selectedTokenAddress].symbol ? allTokens[selectedTokenAddress].symbol : ''} size={'100%'} />\n\t\t\t\t\t\t\t\t\t\t\t</CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tallTokens[selectedTokenAddress] && allTokens[selectedTokenAddress].symbol ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-stretch flex-column flex-grow-1 text-align-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTokenSymbol>{allTokens[selectedTokenAddress].symbol}</StyledTokenSymbol>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledTokenName>{allTokens[selectedTokenAddress].name}</StyledTokenName>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\tt('selectToken')\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!disableCurrencySelect && <StyledDropDown selected={!!currency} />}\n\t\t\t\t\t\t</Aligner>\n\t\t\t\t\t</CurrencySelect>\n\t\t\t\t</InputRow>\n\t\t\t</div>\n\t\t\t{!disableCurrencySelect && onCurrencySelect && (\n\t\t\t\t<CurrencySearchModal\n\t\t\t\t\tisOpen={modalIsOpen}\n\t\t\t\t\tonDismiss={handleDismissSearch}\n\t\t\t\t\tonTokenSelect={onCurrencySelect}\n\t\t\t\t\tselectedCurrency={currency}\n\t\t\t\t\tselfUseAllToken={selfUseAllToken}\n\t\t\t\t\tisSelfSymbol={isSelfSymbol}\n\t\t\t\t\totherSelectedCurrency={otherCurrency}\n\t\t\t\t\tshowCommonBases={showCommonBases}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</InputPanel>\n\t);\n}\n\n","export default __webpack_public_path__ + \"static/media/path.1cff2142.svg\";","import React from 'react'\nimport styled from 'styled-components'\nimport { Button as BS } from 'react-bootstrap';\n\nimport {Modal} from '../Modal/bootstrap'\nimport TokenLogo from '../CrossTokenLogo'\nimport PathIcon from '../../assets/images/icon/path.svg'\nimport { useTranslation } from 'react-i18next'\n\nconst Button = styled(BS)`\n\theight: 48px;\n  min-height: 48px;\n  min-width: 125px;\n`\n\n\nconst Wrapper = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  background-color: ${({ theme }) => theme.backgroundColor};\n`\n\nconst HeaderRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  padding: 1.5rem 1.5rem;\n  font-weight: 500;\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary : 'inherit')};\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 1rem;\n  `};\n`\nconst HoverText = styled.div`\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  background-color: ${({ theme }) => theme.backgroundColor};\n  padding: 2rem;\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 1rem`};\n`\n\nconst UpperSection = styled.div`\n  position: relative;\n  width: 100%;\n\n  h5 {\n    margin: 0 0 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n`\n\nconst LogoBox = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  width: 46px;\n  height: 46px;\n  object-fit: contain;\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  border: solid 0.5px rgba(0, 0, 0, 0.1);\n  border-radius:100%;\n  margin: auto;\n\n  img{\n    height: 24px;\n    width: 24px;\n    display:block;\n  }\n`\n\nconst ErrorTip = styled.div`\n  text-align:center;\n`\n\nconst ConfirmContent = styled.div`\n  width: 100%;\n`\nconst TxnsInfoText = styled.div`\n  font-size: 22px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1;\n  letter-spacing: -0.0625rem;\n  text-align: center;\n  color: ${({ theme }) => theme.text1};\n  margin-top: 1rem;\n`\n\nconst ConfirmText = styled.div`\n  width: 100%;\n  font-size: 0.75rem;\n  font-weight: bold;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1;\n  letter-spacing: normal;\n  text-align: center;\n  color: #734be2;\n  padding: 1.25rem 0;\n  border-top: 0.0625rem solid rgba(0, 0, 0, 0.08);\n  margin-top:1.25rem\n`\n\nconst ButtonConfirm = styled(Button)`\n\tmax-width: 272px;\n\theight: 48px;\n\tline-height:1;\n\tmargin:auto;\n\tfont-size:1rem;\n`\n\nexport default function HardwareTip({\n    HardwareTipOpen,\n    closeHardwareTip = () => {},\n    error = false,\n    txnsInfo,\n    onSure = () => {},\n    isSelfBtn = false,\n    title,\n    tipInfo,\n    coin\n}) {\n\n\tconst { t } = useTranslation()\n\n\treturn (\n\t\t<Modal\n\t\t\tshow={HardwareTipOpen}\n\t\t\tonHide={closeHardwareTip}\n\t\t\tcentered={true}\n\t\t>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{\n\t\t\t\t\terror ? 'Error' : (title ? title : t('ConfirmTransaction'))\n\t\t\t\t}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Wrapper>\n\t\t\t\t<UpperSection>\n\t\t\t\t\t<HeaderRow>\n\t\t\t\t\t\t<HoverText>{\n\t\t\t\t\t\t\terror ? 'Error' : (title ? title : \"Confirm Transaction\")\n\t\t\t\t\t\t}</HoverText>\n\t\t\t\t\t</HeaderRow>\n\t\t\t\t\t<ContentWrapper>\n\t\t\t\t\t\t<LogoBox>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcoin ? (\n\t\t\t\t\t\t\t\t\t<TokenLogo address={coin} size={'24px'}/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<img src={PathIcon} alt={'logo'} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</LogoBox>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror ? (\n\t\t\t\t\t\t\t\t<ErrorTip>\n\t\t\t\t\t\t\t\t\t<h3>Sign Failed!</h3>\n\t\t\t\t\t\t\t\t\t<p>Please make sure your Ledger unlocked, open Ethereum app with contract data setting allowed</p>\n\t\t\t\t\t\t\t\t</ErrorTip>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ConfirmContent>\n\t\t\t\t\t\t\t\t\t{txnsInfo ? (\n\t\t\t\t\t\t\t\t\t\t<TxnsInfoText>{txnsInfo}</TxnsInfoText>\n\t\t\t\t\t\t\t\t\t) : (<></>)}\n\n\t\t\t\t\t\t\t\t\t<ConfirmText size={'0.75rem'}>\n\t\t\t\t\t\t\t\t\t\t{tipInfo ? tipInfo : \"Please confirm transaction on your Ledger\"}\n\t\t\t\t\t\t\t\t\t</ConfirmText>\n\t\t\t\t\t\t\t\t</ConfirmContent>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{isSelfBtn ? (\n\t\t\t\t\t\t\t<ButtonConfirm onClick={onSure} variant={'primary'}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</ButtonConfirm>\n\t\t\t\t\t\t) : ''}\n\t\t\t\t\t</ContentWrapper>\n\t\t\t\t</UpperSection>\n\t\t\t</Wrapper>\n\t\t</Modal>\n\t)\n}","import styled from 'styled-components';\nimport { Row, Col, Button as BS } from 'react-bootstrap';\nimport SVG from \"react-inlinesvg\";\nimport {ETHER} from \"@uniswap/sdk\";\nimport {useCallback, useEffect, useReducer, useState} from \"react\";\n\nimport EXCHANGE_ABI from '../../constants/abis/exchange.json';\nimport Page from \"../../components/Page\";\nimport DefaultCard from \"../../components/Card\";\nimport BridgeInputPanel from \"../../components/BridgeInputPanel\";\nimport SwapIcon from '../../assets/images/cross/swap.svg';\nimport AddressInputPanel from \"../../components/AddressInputPanel\";\nimport BigNumber from \"bignumber.js\";\nimport {brokenTokens, ZERO} from \"../../constants\";\nimport getNetConfig from \"../../config\";\nimport {useTranslation} from \"react-i18next\";\nimport {useActiveWeb3React} from \"../../hooks\";\nimport {useBetaMessageManager} from \"../../contexts/LocalStorage\";\nimport {amountFormatter, getAllQueryParams, useExchangeContract} from \"../../utils/cross\";\nimport {useTransactionAdder} from \"../../state/transactions/hooks\";\nimport {INITIAL_TOKENS_CONTEXT, useTokenDetails} from \"../../contexts/Tokens\";\nimport {useAddressAllowance} from \"../../contexts/Allowances\";\nimport {useAddressBalance, useExchangeReserves} from \"../../contexts/Balances\";\nimport {ethers} from \"ethers\";\nimport {getWeb3BaseInfo, getWeb3ConTract} from \"../../utils/web3/txns\";\nimport {recordTxns} from \"../../utils/record\";\nimport {isAddress} from \"../../utils\";\nimport {useWalletModalToggle} from \"../../state/application/hooks\";\nimport HardwareTip from \"../../components/HardwareTips\";\nimport {Modal as BSModal} from \"../../components/Modal/bootstrap\";\nimport WarningTip from \"../../components/WarningTip\";\nimport {toast} from \"react-hot-toast\";\n\nconst config = getNetConfig();\n\n// const BridgeType = {\n// \t\"SWAP\": \"SWAP\",\n// \t\"SEND\": \"SEND\"\n// }\n\nconst Modal = styled(BSModal)`\n  \t& .modal-dialog {\n\t\tmax-width: 800px;\t  \n    }\n  \n\t& .modal-body {\n\t  padding: 20px 30px 30px;\n\t}\n\t& .modal-header {\n\t  padding: 30px;\n\t}\n`\n\nconst TabButton = styled(BS)`\n  min-height: 48px;\n  height: 48px;\n  border-radius: 18px;\n  font-weight: 500;\n  font-size: 1rem;\n  min-width: 127px;\n  \n  @media (max-width: 991px) {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    line-height: 1;\n    font-size: .875rem;\n    min-height: 40px;\n    height: 40px;\n    padding: 0;\n    border-radius: 12px;\n    min-width: 105px;\n  }\n`\n\nconst Button = styled(BS)`\n  min-height: 48px;\n  height: 48px;\n  min-width: 205px;\n`\n\n// const AlertButton = styled(BS)`\n//   min-height: 48px;\n//   height: 48px;\n//   border-radius: 18px;\n//   font-weight: 500;\n//   min-width: 105px;\n// `\n\nconst Title = styled.h1`\n\tmargin: 0;\n\tfont-size: 2.5rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n\tline-height: 3rem;\n\n\t\n\t@media (max-width: 1199px) {\n\t\tfont-size: 2.25rem;\n\t}\n\t@media (max-width: 991px) {\n\t\tfont-size: 2rem;\n\t  \tmargin-bottom: 0.5rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 1.5rem;\n\t}\n`\n\nconst Header = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20px;\n\tmargin-top: 24px;\n\t\n\t@media(max-width: 991px) {\n\t\tmargin-top: 10px;\n\t  \tflex-direction: column;\n\t  \talign-items: stretch;\n\t}\n`\n\nconst Card = styled(DefaultCard)`\n  margin-bottom: 1rem;\n  \n  & > .card-body {\n    padding: 36px 64px 24px;\n\n    @media (max-width: 991px) {\n      padding: 24px;\n    }\n\n    @media (max-width: 576px) {\n      padding: 16px;\n    }\n  }\n`\n\n// const SlippageCard = styled(DefaultCard)`\n//   margin-bottom: 1rem;\n  \n//   & > .card-body {\n//     padding: 0 64px;\n//     min-height: 56px;\n\n//     @media (max-width: 991px) {\n//       padding: 0 24px;\n//     }\n\n//     @media (max-width: 576px) {\n//       padding: 0 16px;\n//     }\n//   }\n// `\n\nconst TabHeader = styled.div`\n  display: grid;\n  grid-column-gap: 25px;\n  grid-template-columns: 127px 127px;\n  border-radius: 20px;\n  \n  @media (max-width: 991px) {\n    padding: 8px;\n    background-color: ${({ theme }) => theme.modalBG};\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 16px;\n    border: 1px solid ${({ theme }) => theme.borderColor};\n  }\n  \n  @media (max-width: 576px) {\n    grid-template-columns: 1fr;\n    grid-row-gap: 12px;\n    grid-column-gap: 0;\n  }\n`\n\nconst SwapCurrencies = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n  cursor: pointer;\n\n\n  @media (max-width: 576px) {\n    padding: 8px;\n  }\n`\n\nconst SubmitButtonContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  margin-top: 32px;\n  \n  @media (max-width: 1199px) {\n    margin-top: 28px;\n  }\n  \n  @media (max-width: 991px) {\n    margin-top: 24px;\n  }\n  \n  @media (max-width: 767px) {\n    margin-top: 16px;\n    align-items: stretch;\n  }\n`\n\n// const AlertContainer = styled.div`\n//   border-radius: 18px;\n//   display: flex;\n//   align-items: center;\n//   justify-content: space-between;\n//   padding: 4px 4px 4px 64px;\n//   background-color: ${({ theme }) => theme.primaryLight};\n  \n//   @media (max-width: 1199px) {\n//     padding-left: 48px;\n//   }\n\n//   @media (max-width: 991px) {\n//     padding-left: 36px;\n//   }\n\n//   @media (max-width: 767px) {\n//     padding-left: 16px;\n//   }\n// `\n\n// const AlertText = styled.span`\n//   font-weight: 500;\n//   font-size: 1rem;\n//   color: ${({ theme }) => theme.primary};\n//   line-height: 21px;\n//   padding-right: 1rem;\n// `\n\nconst TransactionInfo = styled.div`\n  padding: 0 0 1.5625rem;\n  border-bottom: 0.0625rem solid ${({ theme }) => theme.text3};\n  @media screen and (max-width: 960px) {\n    padding: 0 0.625rem 0.625rem;\n    height: auto;\n  }\n`\n\nconst LastSummaryText = styled.div`\n  display: flex;\n  justify-content:  flex-start;\n  align-items:center;\n  font-size: 0.75rem;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.17;\n  letter-spacing: normal;\n  color: ${({ theme }) => theme.text1};\n  height: 32px;\n  margin-bottom: 0.625rem;\n\n  .icon {\n    width: 32px;\n    height: 32px;\n    padding: 8px;\n    object-fit: contain;\n    border: solid 0.5px ${({ theme }) => theme.text2};\n    background-color: ${({ theme }) => theme.text2};\n    border-radius: 100%;\n    margin-right: 0.625rem;\n    \n    img {\n      height: 100%;\n      display:block;\n    }\n  }\n`\n\nconst ValueWrapper = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.375rem 0.3rem 0.375rem 0.3rem;\n  background-color: ${({ theme }) => theme.bg1};\n  border-radius: 1rem;\n  font-variant: tabular-nums;\n`\n\nconst INPUT = 0\nconst OUTPUT = 1\nconst ETH_TO_TOKEN = 0\nconst TOKEN_TO_ETH = 1\nconst TOKEN_TO_TOKEN = 2\n\n// denominated in bips\nconst ALLOWED_SLIPPAGE_DEFAULT = 50\nconst TOKEN_ALLOWED_SLIPPAGE_DEFAULT = 50\n\n// 15 minutes, denominated in seconds\nconst DEFAULT_DEADLINE_FROM_NOW = 60 * 15\n\n// % above the calculated gas cost that we actually send, denominated in bips\nconst GAS_MARGIN = new BigNumber(1000)\n\nfunction calculateSlippageBounds(value, token = false, tokenAllowedSlippage, allowedSlippage) {\n\tif (value) {\n\t\tconst offset = value.times(token ? tokenAllowedSlippage : allowedSlippage).dividedBy(new BigNumber(10000))\n\t\tconst minimum = value.minus(offset)\n\t\tconst maximum = value.plus(offset)\n\t\treturn {\n\t\t\tminimum: minimum.lt(ZERO) ? ZERO : new BigNumber(minimum.toFixed(0)),\n\t\t\tmaximum: maximum.gt(new BigNumber(2).pow(256)) ? new BigNumber(2).pow(256) : new BigNumber(maximum.toFixed(0))\n\t\t}\n\t} else {\n\t\treturn {}\n\t}\n}\n\nfunction getSwapType(inputCurrency, outputCurrency) {\n\tif (!inputCurrency || !outputCurrency) {\n\t\treturn null\n\t} else if (inputCurrency === config.symbol) {\n\t\treturn ETH_TO_TOKEN\n\t} else if (outputCurrency === config.symbol) {\n\t\treturn TOKEN_TO_ETH\n\t} else {\n\t\treturn TOKEN_TO_TOKEN\n\t}\n}\n\n// this mocks the getInputPrice function, and calculates the required output\nfunction calculateEtherTokenOutputFromInput(inputAmount, inputReserve, outputReserve) {\n\tconst inputAmountWithFee = inputAmount.times(new BigNumber(997))\n\tconst numerator = inputAmountWithFee.times(outputReserve)\n\tconst denominator = inputReserve.times(new BigNumber(1000)).plus(inputAmountWithFee)\n\treturn numerator.dividedBy(denominator)\n}\n\n// this mocks the getOutputPrice function, and calculates the required input\nfunction calculateEtherTokenInputFromOutput(outputAmount, inputReserve, outputReserve) {\n\tconst numerator = inputReserve.times(outputAmount).times(new BigNumber(1000))\n\tconst denominator = outputReserve.minus(outputAmount).times(new BigNumber(997))\n\treturn numerator.dividedBy(denominator).plus(new BigNumber(1))\n}\n\nfunction getInitialSwapState(state) {\n\treturn {\n\t\tindependentValue: state.exactFieldURL && state.exactAmountURL ? state.exactAmountURL : '', // this is a user input\n\t\tdependentValue: '', // this is a calculated number\n\t\tindependentField: state.exactFieldURL === 'output' ? OUTPUT : INPUT,\n\t\tinputCurrency: state.inputCurrencyURL ? state.inputCurrencyURL : state.outputCurrencyURL === config.symbol ? '' : config.symbol,\n\t\toutputCurrency: state.outputCurrencyURL\n\t\t\t? state.outputCurrencyURL === config.symbol\n\t\t\t\t? !state.inputCurrencyURL || (state.inputCurrencyURL && state.inputCurrencyURL !== config.symbol)\n\t\t\t\t\t? config.symbol\n\t\t\t\t\t: ''\n\t\t\t\t: state.outputCurrencyURL\n\t\t\t: state.initialCurrency\n\t\t\t\t? state.initialCurrency\n\t\t\t\t: config.initToken\n\t}\n}\n\nfunction swapStateReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'FLIP_INDEPENDENT': {\n\t\t\tconst { independentField, inputCurrency, outputCurrency } = state\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdependentValue: '',\n\t\t\t\tindependentField: independentField === INPUT ? OUTPUT : INPUT,\n\t\t\t\tinputCurrency: outputCurrency,\n\t\t\t\toutputCurrency: inputCurrency\n\t\t\t}\n\t\t}\n\t\tcase 'SELECT_CURRENCY': {\n\t\t\tconst { inputCurrency, outputCurrency } = state\n\t\t\tconst { field, currency } = action.payload\n\n\t\t\tconst newInputCurrency = field === INPUT ? currency : inputCurrency\n\t\t\tconst newOutputCurrency = field === OUTPUT ? currency : outputCurrency\n\n\t\t\tif (newInputCurrency === newOutputCurrency) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tinputCurrency: field === INPUT ? currency : '',\n\t\t\t\t\toutputCurrency: field === OUTPUT ? currency : ''\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tinputCurrency: newInputCurrency,\n\t\t\t\t\toutputCurrency: newOutputCurrency\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcase 'UPDATE_INDEPENDENT': {\n\t\t\tconst { field, value } = action.payload\n\t\t\tconst { dependentValue, independentValue } = state\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tindependentValue: value,\n\t\t\t\tdependentValue: value === independentValue ? dependentValue : '',\n\t\t\t\tindependentField: field\n\t\t\t}\n\t\t}\n\t\tcase 'UPDATE_DEPENDENT': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdependentValue: action.payload\n\t\t\t}\n\t\t}\n\t\tdefault: {\n\t\t\treturn getInitialSwapState()\n\t\t}\n\t}\n}\n\nfunction getExchangeRate(inputValue, inputDecimals, outputValue, outputDecimals, invert = false) {\n\ttry {\n\t\tif (\n\t\t\tinputValue &&\n\t\t\t(inputDecimals || inputDecimals === 0) &&\n\t\t\toutputValue &&\n\t\t\t(outputDecimals || outputDecimals === 0)\n\t\t) {\n\t\t\tconst factor = new BigNumber(10).pow(new BigNumber(18))\n\t\t\tif (invert) {\n\t\t\t\treturn inputValue\n\t\t\t\t\t.times(factor)\n\t\t\t\t\t.times(new BigNumber(10).pow(new BigNumber(outputDecimals)))\n\t\t\t\t\t.dividedBy(new BigNumber(10).pow(new BigNumber(inputDecimals)))\n\t\t\t\t\t.dividedBy(outputValue)\n\t\t\t} else {\n\t\t\t\treturn outputValue\n\t\t\t\t\t.times(factor)\n\t\t\t\t\t.times(new BigNumber(10).pow(new BigNumber(inputDecimals)))\n\t\t\t\t\t.dividedBy(new BigNumber(10).pow(new BigNumber(outputDecimals)))\n\t\t\t\t\t.dividedBy(inputValue)\n\t\t\t}\n\t\t}\n\t} catch {}\n}\n\nfunction calculateGasMargin(value, margin) {\n\tconst offset = value.times(margin).dividedBy(new BigNumber(10000))\n\treturn value.plus(offset)\n}\n\nfunction getMarketRate(\n\tswapType,\n\tinputReserveETH,\n\tinputReserveToken,\n\tinputDecimals,\n\toutputReserveETH,\n\toutputReserveToken,\n\toutputDecimals,\n\tinvert = false\n) {\n\tif (swapType === ETH_TO_TOKEN) {\n\t\treturn getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals, invert)\n\t} else if (swapType === TOKEN_TO_ETH) {\n\t\treturn getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18, invert)\n\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\tconst factor = new BigNumber(10).pow(new BigNumber(18))\n\t\tconst firstRate = getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18)\n\t\tconst secondRate = getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals)\n\t\ttry {\n\t\t\treturn !!(firstRate && secondRate) ? firstRate.times(secondRate).dividedBy(factor) : undefined\n\t\t} catch {}\n\t}\n}\n\n\nconst CrossAnySwap = props => {\n\n\t// @todo: remove old data\n\tconst [inputCurrencySwap, setInputCurrency] = useState(ETHER);\n\tconst [outputCurrencySwap, setOutputCurrency] = useState(undefined);\n\n\tconst { t } = useTranslation()\n\tconst { account, chainId, error } = useActiveWeb3React();\n\tconst [showBetaMessage] = useBetaMessageManager()\n\tlet walletType = sessionStorage.getItem('walletType')\n\n\tlet params = getAllQueryParams()\n\tparams = params ? params : {}\n\n\tconst urlAddedTokens = {}\n\tif (params && params.inputCurrency) {\n\t\turlAddedTokens[params.inputCurrency] = true\n\t}\n\tif (params && params.outputCurrency) {\n\t\turlAddedTokens[params.outputCurrency] = true\n\t}\n\tif (params && params.tokenAddress) {\n\t\turlAddedTokens[params.tokenAddress] = true\n\t}\n\n\tconst addTransaction = useTransactionAdder()\n\n\tconst initialSlippage = (token = false) => {\n\t\tlet slippage = Number.parseInt(params.slippage)\n\t\tif (!isNaN(slippage) && (slippage === 0 || slippage >= 1)) {\n\t\t\treturn slippage // round to match custom input availability\n\t\t}\n\t\t// check for token <-> token slippage option\n\t\treturn token ? TOKEN_ALLOWED_SLIPPAGE_DEFAULT : ALLOWED_SLIPPAGE_DEFAULT\n\t}\n\tconst initialRecipient = () => {\n\t\tif (sending && params.recipient) {\n\t\t\treturn params.recipient\n\t\t}\n\t\treturn ''\n\t}\n\n\n\tconst [sending, setSending] = useState(false)\n\n\tconst [brokenTokenWarning, setBrokenTokenWarning] = useState()\n\n\tconst [deadlineFromNow, setDeadlineFromNow] = useState(DEFAULT_DEADLINE_FROM_NOW)\n\n\tconst [rawSlippage, setRawSlippage] = useState(() => initialSlippage())\n\tconst [rawTokenSlippage, setRawTokenSlippage] = useState(() => initialSlippage(true))\n\n\tconst [slippageView, setSlippageView] = useState(false)\n\n\tconst allowedSlippageBig = new BigNumber(rawSlippage)\n\tconst tokenAllowedSlippageBig = new BigNumber(rawTokenSlippage)\n\n\tconst [swapState, dispatchSwapState] = useReducer(\n\t\tswapStateReducer,\n\t\t{\n\t\t\tinitialCurrency: undefined,\n\t\t\tinputCurrencyURL: params.inputCurrency,\n\t\t\toutputCurrencyURL: params.outputCurrency || params.tokenAddress,\n\t\t\texactFieldURL: params.exactField,\n\t\t\texactAmountURL: params.exactAmount\n\t\t},\n\t\tgetInitialSwapState\n\t)\n\n\tconst { independentValue, dependentValue, independentField, inputCurrency, outputCurrency } = swapState\n\n\tuseEffect(() => {\n\t\tsetBrokenTokenWarning(false)\n\t\tfor (let i = 0; i < brokenTokens.length; i++) {\n\t\t\tif (\n\t\t\t\tbrokenTokens[i].toLowerCase() === outputCurrency.toLowerCase() ||\n\t\t\t\tbrokenTokens[i].toLowerCase() === inputCurrency.toLowerCase()\n\t\t\t) {\n\t\t\t\tsetBrokenTokenWarning(true)\n\t\t\t}\n\t\t}\n\t}, [outputCurrency, inputCurrency])\n\n\tconst [recipient, setRecipient] = useState({\n\t\taddress: initialRecipient(),\n\t\tname: ''\n\t})\n\tconst [recipientError, setRecipientError] = useState(null)\n\n\t// get swap type from the currency types\n\tconst swapType = getSwapType(inputCurrency, outputCurrency)\n\n\n\t// get decimals and exchange address for each of the currency types\n\tconst { symbol: inputSymbol, decimals: inputDecimals, exchangeAddress: inputExchangeAddress, isSwitch: inputIsSwitch } = useTokenDetails(\n\t\tinputCurrency\n\t)\n\tconst { symbol: outputSymbol, decimals: outputDecimals, exchangeAddress: outputExchangeAddress, isSwitch: outputIsSwitch } = useTokenDetails(\n\t\toutputCurrency\n\t)\n\n\tconst inputExchangeContract = useExchangeContract(inputExchangeAddress)\n\tconst outputExchangeContract = useExchangeContract(outputExchangeAddress)\n\tconst contract = swapType === ETH_TO_TOKEN ? outputExchangeContract : inputExchangeContract\n\n\t// get input allowance\n\tconst inputAllowance = useAddressAllowance(account, inputCurrency, inputExchangeAddress)\n\n\t// fetch reserves for each of the currency types\n\tconst { reserveETH: inputReserveETH, reserveToken: inputReserveToken } = useExchangeReserves(inputCurrency)\n\tconst { reserveETH: outputReserveETH, reserveToken: outputReserveToken } = useExchangeReserves(outputCurrency)\n\n\t// get balances for each of the currency types\n\tconst inputBalance = useAddressBalance(account, inputCurrency)\n\tconst outputBalance = useAddressBalance(account, outputCurrency)\n\tconst inputBalanceFormatted = !!(inputBalance && Number.isInteger(inputDecimals))\n\t\t? amountFormatter(inputBalance, inputDecimals, Math.min(6, inputDecimals))\n\t\t: ''\n\tconst outputBalanceFormatted = !!(outputBalance && Number.isInteger(outputDecimals))\n\t\t? amountFormatter(outputBalance, outputDecimals, Math.min(6, outputDecimals))\n\t\t: ''\n\n\t// compute useful transforms of the data above\n\tconst independentDecimals = independentField === INPUT ? inputDecimals : outputDecimals\n\tconst dependentDecimals = independentField === OUTPUT ? inputDecimals : outputDecimals\n\n\t// declare/get parsed and formatted versions of input/output values\n\tconst [independentValueParsed, setIndependentValueParsed] = useState()\n\tconst dependentValueFormatted = !!(dependentValue && (dependentDecimals || dependentDecimals === 0))\n\t\t? amountFormatter(dependentValue, dependentDecimals, dependentDecimals, false)\n\t\t// ? amountFormatter(dependentValue, dependentDecimals, Math.min(6, dependentDecimals), false)\n\t\t: ''\n\tconst inputValueParsed = independentField === INPUT ? independentValueParsed : dependentValue\n\tconst outputValueParsed = independentField === OUTPUT ? independentValueParsed : dependentValue\n\tlet inputValueFormatted = independentField === INPUT ? independentValue : dependentValueFormatted\n\tlet outputValueFormatted = independentField === OUTPUT ? independentValue : dependentValueFormatted\n\tif (independentField) {\n\t\tinputValueFormatted *= 1 + 0.001\n\t\tinputValueFormatted = Number(inputValueFormatted.toFixed(dependentDecimals)) ? Number(inputValueFormatted.toFixed(Math.min(8, dependentDecimals))) : ''\n\t} else {\n\t\toutputValueFormatted *= 1 - 0.001\n\t\toutputValueFormatted = Number(outputValueFormatted.toFixed(dependentDecimals)) ? Number(outputValueFormatted.toFixed(Math.min(8, dependentDecimals))) : ''\n\n\t}\n\t// validate + parse independent value\n\tconst [independentError, setIndependentError] = useState()\n\tuseEffect(() => {\n\t\tif (independentValue && (independentDecimals || independentDecimals === 0)) {\n\t\t\ttry {\n\t\t\t\tconst parsedValue = new BigNumber(ethers.utils.parseUnits(independentValue, independentDecimals).toString());\n\n\t\t\t\tif (parsedValue.lte(ethers.constants.Zero.toString()) || parsedValue.gte(ethers.constants.MaxUint256.toString())) {\n\t\t\t\t\tthrow Error()\n\t\t\t\t} else {\n\t\t\t\t\tsetIndependentValueParsed(new BigNumber(parsedValue.toFixed(0)))\n\t\t\t\t\tsetIndependentError(null)\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\tsetIndependentError(t('inputNotValid'))\n\t\t\t}\n\n\t\t\treturn () => {\n\t\t\t\tsetIndependentValueParsed()\n\t\t\t\tsetIndependentError()\n\t\t\t}\n\t\t}\n\t}, [independentValue, independentDecimals, t])\n\n\t// calculate slippage from target rate\n\tconst { minimum: dependentValueMinumum, maximum: dependentValueMaximum } = calculateSlippageBounds(\n\t\tdependentValue,\n\t\tswapType === TOKEN_TO_TOKEN,\n\t\ttokenAllowedSlippageBig,\n\t\tallowedSlippageBig\n\t)\n\n\t// validate input allowance + balance\n\tconst [inputError, setInputError] = useState()\n\tconst [showUnlock, setShowUnlock] = useState(false)\n\tuseEffect(() => {\n\t\tconst inputValueCalculation = independentField === INPUT ? independentValueParsed : dependentValueMaximum\n\t\tif (inputBalance && (inputAllowance || inputCurrency === config.symbol) && inputValueCalculation) {\n\t\t\tif (inputBalance.lt(inputValueCalculation)) {\n\t\t\t\tsetInputError('Insufficient balance')\n\t\t\t} else if (inputCurrency !== config.symbol && inputAllowance.lt(inputValueCalculation.toFixed(0))) {\n\t\t\t\tsetInputError(\"Approve\")\n\t\t\t\tsetShowUnlock(true)\n\t\t\t} else {\n\t\t\t\tsetInputError(null)\n\t\t\t\tsetShowUnlock(false)\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tsetInputError()\n\t\t\t\tsetShowUnlock(false)\n\t\t\t}\n\t\t}\n\t}, [independentField, independentValueParsed, dependentValueMaximum, inputBalance, inputCurrency, inputAllowance, t])\n\n\t// calculate dependent value\n\tuseEffect(() => {\n\t\tconst amount = independentValueParsed\n\n\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\tconst reserveETH = outputReserveETH\n\t\t\tconst reserveToken = outputReserveToken\n\n\t\t\tif (amount && reserveETH && reserveToken) {\n\t\t\t\ttry {\n\t\t\t\t\tconst calculatedDependentValue =\n\t\t\t\t\t\tindependentField === INPUT\n\t\t\t\t\t\t\t? calculateEtherTokenOutputFromInput(amount, reserveETH, reserveToken)\n\t\t\t\t\t\t\t: calculateEtherTokenInputFromOutput(amount, reserveETH, reserveToken)\n\n\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\tthrow Error()\n\t\t\t\t\t}\n\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: 'UPDATE_DEPENDENT',\n\t\t\t\t\t\tpayload: calculatedDependentValue\n\t\t\t\t\t})\n\t\t\t\t} catch {\n\t\t\t\t\tsetIndependentError(t('insufficientLiquidity'))\n\t\t\t\t}\n\t\t\t\treturn () => {\n\t\t\t\t\tdispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\tconst reserveETH = inputReserveETH\n\t\t\tconst reserveToken = inputReserveToken\n\n\t\t\tif (amount && reserveETH && reserveToken) {\n\t\t\t\ttry {\n\t\t\t\t\tconst calculatedDependentValue =\n\t\t\t\t\t\tindependentField === INPUT\n\t\t\t\t\t\t\t? calculateEtherTokenOutputFromInput(amount, reserveToken, reserveETH)\n\t\t\t\t\t\t\t: calculateEtherTokenInputFromOutput(amount, reserveToken, reserveETH)\n\n\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\tthrow Error()\n\t\t\t\t\t}\n\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: 'UPDATE_DEPENDENT',\n\t\t\t\t\t\tpayload: calculatedDependentValue\n\t\t\t\t\t})\n\t\t\t\t} catch {\n\t\t\t\t\tsetIndependentError(t('insufficientLiquidity'))\n\t\t\t\t}\n\t\t\t\treturn () => {\n\t\t\t\t\tdispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\tconst reserveETHFirst = inputReserveETH\n\t\t\tconst reserveTokenFirst = inputReserveToken\n\n\t\t\tconst reserveETHSecond = outputReserveETH\n\t\t\tconst reserveTokenSecond = outputReserveToken\n\n\t\t\tif (amount && reserveETHFirst && reserveTokenFirst && reserveETHSecond && reserveTokenSecond) {\n\t\t\t\ttry {\n\t\t\t\t\tif (independentField === INPUT) {\n\t\t\t\t\t\tconst intermediateValue = calculateEtherTokenOutputFromInput(amount, reserveTokenFirst, reserveETHFirst)\n\t\t\t\t\t\tif (intermediateValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst calculatedDependentValue = calculateEtherTokenOutputFromInput(\n\t\t\t\t\t\t\tintermediateValue,\n\t\t\t\t\t\t\treserveETHSecond,\n\t\t\t\t\t\t\treserveTokenSecond\n\t\t\t\t\t\t)\n\t\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\ttype: 'UPDATE_DEPENDENT',\n\t\t\t\t\t\t\tpayload: calculatedDependentValue\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst intermediateValue = calculateEtherTokenInputFromOutput(amount, reserveETHSecond, reserveTokenSecond)\n\t\t\t\t\t\tif (intermediateValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst calculatedDependentValue = calculateEtherTokenInputFromOutput(\n\t\t\t\t\t\t\tintermediateValue,\n\t\t\t\t\t\t\treserveTokenFirst,\n\t\t\t\t\t\t\treserveETHFirst\n\t\t\t\t\t\t)\n\t\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\ttype: 'UPDATE_DEPENDENT',\n\t\t\t\t\t\t\tpayload: calculatedDependentValue\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} catch {\n\t\t\t\t\tsetIndependentError(\"Insufficient liquidity\")\n\t\t\t\t}\n\t\t\t\treturn () => {\n\t\t\t\t\tdispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [\n\t\tindependentValueParsed,\n\t\tswapType,\n\t\toutputReserveETH,\n\t\toutputReserveToken,\n\t\tinputReserveETH,\n\t\tinputReserveToken,\n\t\tindependentField,\n\t\tt\n\t])\n\n\n\tconst [inverted, setInverted] = useState(false)\n\tconst exchangeRate = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals)\n\tconst exchangeRateInverted = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals, true)\n\n\tconst marketRate = getMarketRate(\n\t\tswapType,\n\t\tinputReserveETH,\n\t\tinputReserveToken,\n\t\tinputDecimals,\n\t\toutputReserveETH,\n\t\toutputReserveToken,\n\t\toutputDecimals\n\t)\n\n\tconst percentSlippage =\n\t\texchangeRate && marketRate && !marketRate.isZero()\n\t\t\t? exchangeRate\n\t\t\t\t.minus(marketRate)\n\t\t\t\t.abs()\n\t\t\t\t.times(new BigNumber(10).pow(new BigNumber(18)))\n\t\t\t\t.dividedBy(marketRate)\n\t\t\t\t.minus(new BigNumber(3).times(new BigNumber(10).pow(new BigNumber(15))))\n\t\t\t: undefined\n\tconst percentSlippageFormatted = percentSlippage && amountFormatter(percentSlippage, 16, 2)\n\tconst slippageWarning =\n\t\tpercentSlippage &&\n\t\tpercentSlippage.gte(ethers.utils.parseEther('.05').toString()) &&\n\t\tpercentSlippage.lt(ethers.utils.parseEther('.2').toString()) // [5% - 20%)\n\tconst highSlippageWarning = percentSlippage && percentSlippage.gte(ethers.utils.parseEther('.2').toString()) // [20+%\n\n\tconst isValid = sending\n\t\t? exchangeRate && inputError === null && independentError === null && recipientError === null && deadlineFromNow\n\t\t: exchangeRate && inputError === null && independentError === null && deadlineFromNow\n\n\tconst estimatedText = `(${t('estimated')})`\n\tfunction formatBalance(value) {\n\t\treturn `Balance: ${value}`\n\t}\n\n\tconst [isDisabled, setIsDisableed] = useState(true)\n\n\tconst onSwapValid = useCallback(() => {\n\t\tif (!isNaN(percentSlippageFormatted) && Number(percentSlippageFormatted) >= 5) {\n\t\t\tsetSlippageView(true)\n\t\t} else {\n\t\t\tonSwap()\n\t\t}\n\t}, [percentSlippageFormatted, onSwap])\n\n\tasync function onSwap() {\n\t\tif (!isDisabled) return\n\t\tsetIsDisableed(false)\n\t\tsetTimeout(() => {\n\t\t\tsetIsDisableed(true)\n\t\t}, 3000)\n\t\tconst deadline = Math.ceil(Date.now() / 1000) + deadlineFromNow\n\n\t\tlet estimate, method, args, value\n\t\tlet txnsType = sending ? 'SEND' : 'SWAP'\n\n\n\t\t// if (config.supportWallet.includes(walletType)) {\n\t\tif (config.supportWallet.includes(walletType)) {\n\t\t\tsetIsHardwareError(false)\n\t\t\tsetIsHardwareTip(true)\n\t\t\tsetHardwareTxnsInfo(inputValueFormatted + inputSymbol)\n\t\t\tlet contractAddress = swapType === ETH_TO_TOKEN ? outputExchangeAddress : inputExchangeAddress\n\t\t\tlet web3Contract = getWeb3ConTract(EXCHANGE_ABI, contractAddress)\n\t\t\tlet data = ''\n\t\t\tif (independentField === INPUT) {\n\n\t\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(independentValueParsed).toFixed(0);\n\t\t\t\t\tdata = sending ?\n\t\t\t\t\t\t// web3Contract.ethToTokenTransferInput.getData(dependentValueMinumum.toString(), deadline, recipient.address)\n\t\t\t\t\t\tweb3Contract.methods.ethToTokenTransferInput(dependentValueMinumum.toString(), deadline, recipient.address).encodeABI()\n\t\t\t\t\t\t:\n\t\t\t\t\t\t// web3Contract.ethToTokenSwapInput.getData(dependentValueMinumum.toString(), deadline)\n\t\t\t\t\t\tweb3Contract.methods.ethToTokenSwapInput(dependentValueMinumum.toString(), deadline).encodeABI()\n\t\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t\t\tdata = sending ?\n\t\t\t\t\t\t// web3Contract.tokenToEthTransferInput.getData(independentValueParsed.toString(), dependentValueMinumum.toString(), deadline, recipient.address)\n\t\t\t\t\t\tweb3Contract.methods.tokenToEthTransferInput(independentValueParsed.toString(), dependentValueMinumum.toString(), deadline, recipient.address).encodeABI()\n\t\t\t\t\t\t:\n\t\t\t\t\t\t// web3Contract.tokenToEthSwapInput.getData(independentValueParsed.toString(), dependentValueMinumum.toString(), deadline)\n\t\t\t\t\t\tweb3Contract.methods.tokenToEthSwapInput(independentValueParsed.toString(), dependentValueMinumum.toString(), deadline).encodeABI()\n\t\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t\t\tdata = sending ?\n\t\t\t\t\t\t// web3Contract.tokenToTokenTransferInput.getData(\n\t\t\t\t\t\t// independentValueParsed?.toString(),\n\t\t\t\t\t\t// dependentValueMinumum.toString(),\n\t\t\t\t\t\t// ethers.constants.One.toHexString(),\n\t\t\t\t\t\t// deadline,\n\t\t\t\t\t\t// recipient.address,\n\t\t\t\t\t\t// outputCurrency)\n\t\t\t\t\t\tweb3Contract.methods.tokenToTokenTransferInput(\n\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\tethers.constants.One.toHexString(),\n\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\t\toutputCurrency).encodeABI()\n\t\t\t\t\t\t:\n\t\t\t\t\t\t// web3Contract.tokenToTokenSwapInput.getData(independentValueParsed?.toString(), dependentValueMinumum.toString(), ethers.constants.One.toHexString(), deadline, outputCurrency)\n\t\t\t\t\t\tweb3Contract.methods.tokenToTokenSwapInput(independentValueParsed?.toString(), dependentValueMinumum.toString(), ethers.constants.One.toHexString(), deadline, outputCurrency).encodeABI()\n\t\t\t\t}\n\t\t\t} else if (independentField === OUTPUT) {\n\n\t\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(dependentValueMaximum.toFixed(0))\n\t\t\t\t\tdata = sending ?\n\t\t\t\t\t\t// web3Contract.ethToTokenTransferOutput.getData(independentValueParsed?.toString(), deadline, recipient.address)\n\t\t\t\t\t\tweb3Contract.methods.ethToTokenTransferOutput(independentValueParsed?.toString(), deadline, recipient.address).encodeABI()\n\t\t\t\t\t\t:\n\t\t\t\t\t\tweb3Contract.methods.ethToTokenSwapOutput(independentValueParsed?.toString(), deadline).encodeABI()\n\t\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t\t\tdata = sending ?\n\t\t\t\t\t\t// web3Contract.tokenToEthTransferOutput.getData(independentValueParsed?.toString(), dependentValueMaximum.toString(), deadline, recipient.address)\n\t\t\t\t\t\tweb3Contract.methods.tokenToEthTransferOutput(independentValueParsed?.toString(), dependentValueMaximum.toString(), deadline, recipient.address).encodeABI()\n\t\t\t\t\t\t:\n\t\t\t\t\t\t// web3Contract.tokenToEthSwapOutput.getData(independentValueParsed?.toString(), dependentValueMaximum.toString(), deadline)\n\t\t\t\t\t\tweb3Contract.methods.tokenToEthSwapOutput(independentValueParsed?.toString(), dependentValueMaximum.toString(), deadline).encodeABI()\n\t\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t\t\tdata = sending ?\n\t\t\t\t\t\tweb3Contract.methods.tokenToTokenTransferOutput(\n\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\tethers.constants.MaxUint256.toHexString(),\n\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t\t).encodeABI()\n\t\t\t\t\t\t:\n\t\t\t\t\t\t// web3Contract.tokenToTokenSwapOutput.getData(independentValueParsed?.toString(), dependentValueMaximum.toString(), ethers.constants.MaxUint256.toHexString(), deadline, outputCurrency)\n\t\t\t\t\t\tweb3Contract.methods.tokenToTokenSwapOutput(independentValueParsed?.toString(), dependentValueMaximum.toString(), ethers.constants.MaxUint256.toHexString(), deadline, outputCurrency).encodeABI()\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = swapType === ETH_TO_TOKEN ? value.toString() : 0\n\t\t\tgetWeb3BaseInfo(contractAddress, data, account, value).then(res => {\n\t\t\t\tif (res.msg === 'Success') {\n\t\t\t\t\taddTransaction(res.info)\n\t\t\t\t\trecordTxns(res.info, txnsType, inputSymbol + '/' + outputSymbol, account, recipient.address)\n\t\t\t\t\tsetIsHardwareTip(false)\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\t\t\tpayload: { value: '', field: INPUT }\n\t\t\t\t\t})\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\t\t\tpayload: { value: '', field: OUTPUT }\n\t\t\t\t\t})\n\t\t\t\t\tsetIsViewTxnsDtil(false)\n\t\t\t\t} else {\n\t\t\t\t\tsetIsHardwareError(true)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tif (independentField === INPUT) {\n\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\testimate = sending ? contract.estimateGas.ethToTokenTransferInput : contract.estimateGas.ethToTokenSwapInput\n\t\t\t\tmethod = sending ? contract.ethToTokenTransferInput : contract.ethToTokenSwapInput\n\t\t\t\targs = sending ? [dependentValueMinumum.toString(), deadline, recipient.address] : [dependentValueMinumum.toString(), deadline]\n\t\t\t\tvalue = new BigNumber(independentValueParsed.toFixed(0));\n\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\testimate = sending ? contract.estimateGas.tokenToEthTransferInput : contract.estimateGas.tokenToEthSwapInput\n\t\t\t\tmethod = sending ? contract.tokenToEthTransferInput : contract.tokenToEthSwapInput\n\t\t\t\targs = sending\n\t\t\t\t\t? [independentValueParsed.toString(), dependentValueMinumum.toString(), deadline, recipient.address]\n\t\t\t\t\t: [independentValueParsed.toString(), dependentValueMinumum.toString(), deadline]\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\n\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\testimate = sending ? contract.estimateGas.tokenToTokenTransferInput : contract.estimateGas.tokenToTokenSwapInput\n\t\t\t\tmethod = sending ? contract.tokenToTokenTransferInput : contract.tokenToTokenSwapInput\n\t\t\t\targs = sending\n\t\t\t\t\t? [\n\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\tethers.constants.One,\n\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t]\n\t\t\t\t\t: [independentValueParsed.toString(), dependentValueMinumum.toString(), ethers.constants.One, deadline, outputCurrency]\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t}\n\t\t} else if (independentField === OUTPUT) {\n\n\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\testimate = sending ? contract.estimateGas.ethToTokenTransferOutput : contract.estimateGas.ethToTokenSwapOutput\n\t\t\t\tmethod = sending ? contract.ethToTokenTransferOutput : contract.ethToTokenSwapOutput\n\t\t\t\targs = sending ? [independentValueParsed.toString(), deadline, recipient.address] : [independentValueParsed.toString(), deadline]\n\t\t\t\tvalue = new BigNumber(dependentValueMaximum.toFixed(0));\n\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\testimate = sending ? contract.estimateGas.tokenToEthTransferOutput : contract.estimateGas.tokenToEthSwapOutput\n\t\t\t\tmethod = sending ? contract.tokenToEthTransferOutput : contract.tokenToEthSwapOutput\n\t\t\t\targs = sending\n\t\t\t\t\t? [independentValueParsed.toString(), dependentValueMaximum.toString(), deadline, recipient.address]\n\t\t\t\t\t: [independentValueParsed.toString(), dependentValueMaximum.toString(), deadline]\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\testimate = sending ? contract.estimateGas.tokenToTokenTransferOutput : contract.estimateGas.tokenToTokenSwapOutput\n\t\t\t\tmethod = sending ? contract.tokenToTokenTransferOutput : contract.tokenToTokenSwapOutput\n\t\t\t\targs = sending\n\t\t\t\t\t? [\n\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\tethers.constants.MaxUint256,\n\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t]\n\t\t\t\t\t: [independentValueParsed.toString(), dependentValueMaximum.toString(), ethers.constants.MaxUint256, deadline, outputCurrency]\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString())\n\t\t\t}\n\t\t}\n\n\t\tlet estimatedGasLimit\n\t\ttry {\n\t\t\testimatedGasLimit = await estimate(...args, { value: value.toFixed(0) })\n\t\t} catch(e) {\n\t\t\tconst errorCode = e?.code;\n\t\t\tif(errorCode === -32000) {\n\t\t\t\ttoast.error(\"Insufficient funds for gas.\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\testimatedGasLimit = new BigNumber(40000);\n\t\t}\n\n\n\t\tmethod(...args, {\n\t\t\tvalue: value.toFixed(0),\n\t\t\tgasLimit: calculateGasMargin(estimatedGasLimit, GAS_MARGIN).toFixed(0)\n\t\t}).then(response => {\n\t\t\taddTransaction(response)\n\t\t\trecordTxns(response, txnsType, inputSymbol + '/' + outputSymbol, account, recipient.address)\n\t\t\tdispatchSwapState({\n\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\tpayload: { value: '', field: INPUT }\n\t\t\t})\n\t\t\tdispatchSwapState({\n\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\tpayload: { value: '', field: OUTPUT }\n\t\t\t})\n\t\t\tsetIsViewTxnsDtil(false)\n\t\t}).catch(err => {\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\n\tconst [customSlippageError, setcustomSlippageError] = useState('')\n\n\tconst toggleWalletModal = useWalletModalToggle()\n\n\tconst newInputDetected =\n\t\tinputCurrency !== config.symbol && inputCurrency && !INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(inputCurrency)\n\n\tconst newOutputDetected =\n\t\toutputCurrency !== config.symbol && outputCurrency && !INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(outputCurrency)\n\n\tconst [showInputWarning, setShowInputWarning] = useState(false)\n\tconst [showOutputWarning, setShowOutputWarning] = useState(false)\n\n\tconst [isHardwareTip, setIsHardwareTip] = useState(false)\n\tconst [isHardwareError, setIsHardwareError] = useState(false)\n\tconst [hardwareTxnsInfo, setHardwareTxnsInfo] = useState('')\n\tconst [isViewTxnsDtil, setIsViewTxnsDtil] = useState(false)\n\n\n\tuseEffect(() => {\n\t\tif (newInputDetected) {\n\t\t\tsetShowInputWarning(true)\n\t\t} else {\n\t\t\tsetShowInputWarning(false)\n\t\t}\n\t}, [newInputDetected, setShowInputWarning])\n\n\tuseEffect(() => {\n\t\tif (newOutputDetected) {\n\t\t\tsetShowOutputWarning(true)\n\t\t} else {\n\t\t\tsetShowOutputWarning(false)\n\t\t}\n\t}, [newOutputDetected, setShowOutputWarning])\n\n\tconsole.log(recipientError);\n\n\treturn (\n\t\t<Page notNetworkSensitive={true}>\n\t\t\t<Row>\n\t\t\t\t<Col xs={12} lg={{ span: 10, offset: 1 }} xl={{ span: 8, offset: 2 }}>\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Title>{!sending ? \"Swap\" : \"Send\"}</Title>\n\n\t\t\t\t\t\t<TabHeader>\n\t\t\t\t\t\t\t<TabButton\n\t\t\t\t\t\t\t\tonClick={setSending?.bind(this, false)}\n\t\t\t\t\t\t\t\tvariant={!sending ? 'primary' : 'light-primary'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSwap\n\t\t\t\t\t\t\t</TabButton>\n\t\t\t\t\t\t\t<TabButton\n\t\t\t\t\t\t\t\tonClick={setSending?.bind(this, true)}\n\t\t\t\t\t\t\t\tvariant={sending ? 'primary' : 'light-primary'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t</TabButton>\n\t\t\t\t\t\t</TabHeader>\n\t\t\t\t\t</Header>\n\t\t\t\t</Col>\n\t\t\t\t<HardwareTip\n\t\t\t\t\tHardwareTipOpen={isHardwareTip}\n\t\t\t\t\tcloseHardwareTip={() => {\n\t\t\t\t\t\tsetIsHardwareTip(false)\n\t\t\t\t\t}}\n\t\t\t\t\terror={isHardwareError}\n\t\t\t\t\ttxnsInfo={hardwareTxnsInfo}\n\t\t\t\t\tcoinType={inputSymbol}\n\t\t\t\t/>\n\t\t\t\t<Modal show={slippageView} onHide={setSlippageView.bind(this, false)} centered>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t<TransactionInfo>\n\t\t\t\t\t\t\t<LastSummaryText>\n\t\t\t\t\t\t\t\t{t('youAreSelling')}{' '}\n\t\t\t\t\t\t\t\t<ValueWrapper>\n\t\t\t\t\t\t\t\t\t{`${amountFormatter(\n\t\t\t\t\t\t\t\t\t\t\tindependentValueParsed,\n\t\t\t\t\t\t\t\t\t\t\tindependentDecimals,\n\t\t\t\t\t\t\t\t\t\t\tMath.min(6, independentDecimals)\n\t\t\t\t\t\t\t\t\t\t)} ${inputSymbol}`}\n\t\t\t\t\t\t\t\t</ValueWrapper>{' '}\n\t\t\t\t\t\t\t\t{t('forAtLeast')}\n\t\t\t\t\t\t\t\t<ValueWrapper>\n\t\t\t\t\t\t\t\t\t{`${amountFormatter(\n\t\t\t\t\t\t\t\t\t\t\tdependentValueMinumum,\n\t\t\t\t\t\t\t\t\t\t\tdependentDecimals,\n\t\t\t\t\t\t\t\t\t\t\tMath.min(6, dependentDecimals)\n\t\t\t\t\t\t\t\t\t\t)} ${outputSymbol}`}\n\t\t\t\t\t\t\t\t</ValueWrapper>\n\t\t\t\t\t\t\t</LastSummaryText>\n\t\t\t\t\t\t\t<LastSummaryText>\n\t\t\t\t\t\t\t\t{t('priceChange')} <ValueWrapper>{`${percentSlippageFormatted}%`}</ValueWrapper>\n\t\t\t\t\t\t\t</LastSummaryText>\n\t\t\t\t\t\t</TransactionInfo>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t</Modal>\n\t\t\t\t<Col xs={12} lg={{ span: 10, offset: 1 }} xl={{ span: 8, offset: 2 }}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t<BridgeInputPanel\n\t\t\t\t\t\t\t\t\ttitle={t('input')}\n\t\t\t\t\t\t\t\t\turlAddedTokens={urlAddedTokens}\n\t\t\t\t\t\t\t\t\tdescription={inputValueFormatted && independentField === OUTPUT ? estimatedText : ''}\n\t\t\t\t\t\t\t\t\textraText={inputBalanceFormatted && formatBalance(inputBalanceFormatted)}\n\t\t\t\t\t\t\t\t\textraTextClickHander={() => {\n\t\t\t\t\t\t\t\t\t\tif (inputBalance && inputDecimals) {\n\t\t\t\t\t\t\t\t\t\t\tconst valueToSet = inputCurrency === config.symbol ? inputBalance.minus(ethers.utils.parseEther('.1').toString()) : inputBalance\n\t\t\t\t\t\t\t\t\t\t\tif (valueToSet.gt(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: amountFormatter(valueToSet, inputDecimals, inputDecimals, false),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield: INPUT\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonCurrencySelect={inputCurrency => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'SELECT_CURRENCY',\n\t\t\t\t\t\t\t\t\t\t\tpayload: { currency: inputCurrency, field: INPUT }\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonUserInput={inputValue => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\t\t\t\t\t\t\t\tpayload: { value: inputValue, field: INPUT }\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tshowUnlock={showUnlock}\n\t\t\t\t\t\t\t\t\tselectedTokens={[inputCurrency, outputCurrency]}\n\t\t\t\t\t\t\t\t\tselectedTokenAddress={inputCurrency}\n\t\t\t\t\t\t\t\t\tvalue={inputValueFormatted}\n\t\t\t\t\t\t\t\t\terrorMessage={inputError ? inputError : independentField === INPUT ? independentError : ''}\n\t\t\t\t\t\t\t\t\tlabel={\"Input\"}\n\t\t\t\t\t\t\t\t\twithoutMargin={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={12} className={'d-flex align-items-center justify-content-center'}>\n\t\t\t\t\t\t\t\t<SwapCurrencies onClick={() => {\n\t\t\t\t\t\t\t\t\tdispatchSwapState({ type: 'FLIP_INDEPENDENT' })\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<SVG src={SwapIcon} width={24} height={24}/>\n\t\t\t\t\t\t\t\t</SwapCurrencies>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t<BridgeInputPanel\n\t\t\t\t\t\t\t\t\tlabel={\"Output\"}\n\t\t\t\t\t\t\t\t\tcurrency={outputCurrencySwap}\n\t\t\t\t\t\t\t\t\totherCurrency={inputCurrencySwap}\n\t\t\t\t\t\t\t\t\tid={'bridge-output-currency'}\n\t\t\t\t\t\t\t\t\tshowCommonBases={false}\n\t\t\t\t\t\t\t\t\twithoutMargin={true}\n\t\t\t\t\t\t\t\t\tdescription={outputValueFormatted && independentField === INPUT ? estimatedText : ''}\n\t\t\t\t\t\t\t\t\textraText={outputBalanceFormatted && formatBalance(outputBalanceFormatted)}\n\t\t\t\t\t\t\t\t\turlAddedTokens={urlAddedTokens}\n\t\t\t\t\t\t\t\t\tonCurrencySelect={outputCurrency => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'SELECT_CURRENCY',\n\t\t\t\t\t\t\t\t\t\t\tpayload: { currency: outputCurrency, field: OUTPUT }\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonUserInput={outputValue => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'UPDATE_INDEPENDENT',\n\t\t\t\t\t\t\t\t\t\t\tpayload: { value: outputValue, field: OUTPUT }\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tselectedTokens={[inputCurrency, outputCurrency]}\n\t\t\t\t\t\t\t\t\tselectedTokenAddress={outputCurrency}\n\t\t\t\t\t\t\t\t\tvalue={outputValueFormatted}\n\t\t\t\t\t\t\t\t\terrorMessage={independentField === OUTPUT ? independentError : ''}\n\t\t\t\t\t\t\t\t\tdisableUnlock\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t{sending ? (\n\t\t\t\t\t\t\t\t<Col xs={12} className={'pt-4'}>\n\t\t\t\t\t\t\t\t\t<AddressInputPanel\n\t\t\t\t\t\t\t\t\t\tvalue={recipient.address}\n\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\tsetRecipient(r => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...r,\n\t\t\t\t\t\t\t\t\t\t\t\t\taddress: val\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\twithoutMargin={true}\n\t\t\t\t\t\t\t\t\t\tlabel={\"Recipient Address\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t\t<WarningTip />\n\t\t\t\t<Col xs={12} lg={{ span: 10, offset: 1 }} xl={{ span: 8, offset: 2 }}>\n\t\t\t\t\t<SubmitButtonContainer>\n\t\t\t\t\t\t{config.dirSwitchFn(inputIsSwitch) && config.dirSwitchFn(outputIsSwitch) ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant={'primary'}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tbrokenTokenWarning\n\t\t\t\t\t\t\t\t\t|| !isDisabled\n\t\t\t\t\t\t\t\t\t|| showBetaMessage\n\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t: !account && !error\n\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t: !isValid\n\t\t\t\t\t\t\t\t\t\t|| customSlippageError === 'invalid'\n\t\t\t\t\t\t\t\t\t\t|| (sending && (!recipient.address || !isAddress(recipient.address)))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={account && !error ? onSwapValid : toggleWalletModal}\n\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t{brokenTokenWarning\n\t\t\t\t\t\t\t\t\t? 'Swap'\n\t\t\t\t\t\t\t\t\t: !account\n\t\t\t\t\t\t\t\t\t? \"Connect wallet\"\n\t\t\t\t\t\t\t\t\t: inputError || independentError\n\t\t\t\t\t\t\t\t\t? inputError || independentError\n\t\t\t\t\t\t\t\t\t: !inputCurrency || !outputCurrency\n\t\t\t\t\t\t\t\t\t? \"Select a token\"\n\t\t\t\t\t\t\t\t\t: !independentValue\n\t\t\t\t\t\t\t\t\t? \"Enter an amount\"\n\t\t\t\t\t\t\t\t\t: sending\n\t\t\t\t\t\t\t\t\t? highSlippageWarning || customSlippageError === 'warning'\n\t\t\t\t\t\t\t\t\t? \"Send anyway\"\n\t\t\t\t\t\t\t\t\t: !recipient.address\n\t\t\t\t\t\t\t\t\t? \"Enter Recipient\"\n\t\t\t\t\t\t\t\t\t: !isAddress(recipient.address)\n\t\t\t\t\t\t\t\t\t? \"Invalid Recipient\"\n\t\t\t\t\t\t\t\t\t: \"Send\"\n\t\t\t\t\t\t\t\t\t: highSlippageWarning || customSlippageError === 'warning'\n\t\t\t\t\t\t\t\t\t? \"Swap anyway\"\n\t\t\t\t\t\t\t\t\t: \"Swap\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button variant={'primary'} disabled={true}>Coming soon</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</SubmitButtonContainer>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Page>\n\t)\n}\n\nexport default CrossAnySwap;\n\n"],"sourceRoot":""}