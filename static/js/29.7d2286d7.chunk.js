(this["webpackJsonpoctofi-app-aquafarm"]=this["webpackJsonpoctofi-app-aquafarm"]||[]).push([[29],{3136:function(t,e,n){"use strict";var r=n(4),i=n(2),c=n(48),a=n(109);e.a=function(t){return function(e){var n=Object(c.a)(),o=Object(a.h)();return Object(i.jsx)(t,Object(r.a)({web3:n,toggleWalletModal:o},e))}}},3268:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(4),i=n(5),c=n(9),a=n(76),o=n.n(a),s=n(463),l=n.n(s),d=function(){function t(){Object(i.a)(this,t),this.baseURL="https://api.opensea.io/api/v1/",this.instance=o.a.create({baseURL:this.baseURL,timeout:3e4,headers:{"X-API-KEY":"65378b6dd5604163a583da0dc2210e66"}})}return Object(c.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{params:{}};switch(t){case"assets":return this.fetchAllAssets(e);case"singleAsset":return this.fetchSingleAsset(e);case"userAssets":return this.fetchUserAssets(e);case"collections":return this.fetchCollections(e);default:return new Promise((function(t){t(null)}))}}},{key:"fetchSingleAsset",value:function(t){return this.instance.get("asset/".concat(t.tokenAddress,"/").concat(t.tokenId))}},{key:"fetchCollections",value:function(t){var e=l.a.stringify(Object(r.a)({},t.params));return this.instance.get("collections?".concat(e))}},{key:"fetchAllAssets",value:function(t){var e=l.a.stringify(Object(r.a)({},t.params));return this.instance.get("assets?".concat(e))}},{key:"fetchUserAssets",value:function(t){if(!t.hasOwnProperty("address"))return new Promise((function(t){t(null)}));var e=l.a.stringify(Object(r.a)(Object(r.a)({},t.params),{},{owner:t.address}));return this.instance.get("assets?".concat(e))}}]),t}()},3296:function(t,e,n){"use strict";var r=n(2),i=n(40),c=n(19),a=n(18),o=n(0),s=n(118),l=n(395);function d(){var t=Object(c.a)(["\n\tborder: none;\n\tbackground-color: transparent;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tcolor: #232429;\n\twhite-space: nowrap;\n\tpadding: 0;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: ",";\n\t}\n"]);return d=function(){return t},t}function u(){var t=Object(c.a)(["\n\tbackground-color: #f2f2f2;\n\tbox-shadow: -1px 11px 43px rgba(0, 0, 0, 0.12);\n\tborder-radius: 12px;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tright: 0;\n\ttop: ",";\n\tmin-width: 100%;\n\tpadding: ",";\n\ttransition: 0.5s ease all;\n\ttransform-style: preserve-3d;\n\ttransform-origin: top center;\n\ttransform: ",";\n\topacity: ",";\n\tvisibility: ",";\n\n\t@media (max-width: 991px) {\n\t\ttop: 42px;\n\t}\n"]);return u=function(){return t},t}function f(){var t=Object(c.a)(["\n\tcolor: currentColor;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tpadding-right: 1rem;\n\n\t@media (max-width: 991px) {\n\t\tpadding-right: 0.5rem;\n\t}\n"]);return f=function(){return t},t}function h(){var t=Object(c.a)(["\n\theight: ",";\n\tpadding-left: ",";\n\tpadding-right: ",";\n\tborder-radius: ",";\n\tbackground-color: ",";\n\ttransition: 0.4s ease all;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcolor: ",";\n\tborder: none;\n\n\t&:hover {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t}\n\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\tbackground-color: ",";\n\t\tbox-shadow: 0 0 0 5px\n\t\t\t",";\n\t\tcolor: ",";\n\t}\n\n\t@media (max-width: 991px) {\n\t\theight: 32px;\n\t\tfont-size: 0.875rem;\n\t\tborder-radius: 12px;\n\t\tpadding-left: 15px;\n\t\tpadding-right: 21px;\n\t}\n"]);return h=function(){return t},t}function b(){var t=Object(c.a)(["\n\tposition: relative;\n\tz-index: 2;\n\tperspective: 800px;\n"]);return b=function(){return t},t}var j=a.default.div(b()),p=a.default.button(h(),(function(t){return"sm"===t.size?"32px":"56px"}),(function(t){return"sm"===t.size?"16px":"20px"}),(function(t){return"sm"===t.size?"22px":"24px"}),(function(t){return"sm"===t.size?"12px":"18px"}),(function(t){var e=t.variant,n=t.theme;return"secondary"===e?n.secondaryLight:n.primaryLight}),(function(t){var e=t.variant,n=t.theme;return"secondary"===e?n.secondary:n.primary}),(function(t){var e=t.variant,n=t.theme;return"secondary"===e?n.secondary:n.primary}),(function(t){return t.theme.text1}),(function(t){var e=t.variant,n=t.theme;return"secondary"===e?Object(l.a)(.1,n.secondary):Object(l.a)(.1,n.primary)}),(function(t){var e=t.variant,n=t.theme;return"secondary"===e?n.secondaryLight:n.primaryLight}),(function(t){return t.theme.text1})),x=a.default.span(f()),m=a.default.div(u(),(function(t){return"sm"===t.size?"42px":"66px"}),(function(t){return"sm"===t.size?"14px":"20px"}),(function(t){return t.isOpen?"translateY(0) scale(1)":"translateY(20px) scale(0.8)"}),(function(t){return t.isOpen?"1":"0"}),(function(t){return t.isOpen?"visible":"hidden"})),g=a.default.button(d(),(function(t){return"sm"===t.size?"14px":"20px"}));e.a=function(t){var e=Object(o.useState)(t.items[t.active]||null),c=Object(i.a)(e,2),a=c[0],l=c[1],d=Object(o.useState)(!1),u=Object(i.a)(d,2),f=u[0],h=u[1],b=Object(o.useCallback)((function(){h((function(t){return!t}))}),[]),O=Object(o.useCallback)((function(e){l(e),h(!1),t.hasOwnProperty("onChange")&&t.onChange(e.value)}),[t.onChange]);return Object(r.jsxs)(j,{children:[Object(r.jsxs)(p,{variant:t.variant,onClick:b,isOpen:f,size:t.size||"md",children:[Object(r.jsx)(x,{children:a?a.title:t.placeholder||"Select"}),Object(r.jsx)(s.a,{src:n(3297).default})]}),Object(r.jsx)(m,{isOpen:f,size:t.size||"md",children:t.items.map((function(t,e){return Object(r.jsx)(g,{size:"sm",onClick:O.bind(undefined,t),children:t.title},"dropdown-".concat(e))}))})]})}},3297:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/dropdown.e666bff9.svg"},4258:function(t,e){},4314:function(t,e){},4420:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/close.745b860f.svg"},4421:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/price.8f60d87e.svg"},4422:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/date.26bf7e7b.svg"},4566:function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(4),c=n(1),a=n.n(c),o=n(30),s=n(5),l=n(9),d=n(16),u=n(17),f=n(0),h=n(3269),b=n(2990),j=n(2991),p=n(1245),x=n(101),m=n.n(x),g=n(4126),O=n(3117),v=n(751),y=n(40),w=n(19),k=n(18),S=n(396),C=n(762),M=n(63),z=n(395),B=n(269),_=n.n(B),N=n(118),P=n(761);function A(){var t=Object(w.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ",";\n\topacity: ",";\n\ttransition: 0.3s ease all;\n\tz-index: 2;\n"]);return A=function(){return t},t}function F(){var t=Object(w.a)(["\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\ttext-align: left;\n"]);return F=function(){return t},t}function L(){var t=Object(w.a)(["\n\twidth: 100%;\n\theight: 100%;\n"]);return L=function(){return t},t}function U(){var t=Object(w.a)(["\n\twidth: 32px;\n\theight: 32px;\n\tmin-width: 32px;\n\tborder-radius: 32px;\n\tmargin-right: 20px;\n\tposition: relative;\n\toverflow: hidden;\n\tbox-shadow: 0 0 0 1pt ",";\n"]);return U=function(){return t},t}function H(){var t=Object(w.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: transparent;\n\tborder: none;\n\tcursor: pointer;\n\n\t&:hover,\n\t&:active,\n\t&:focus {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n"]);return H=function(){return t},t}var R=k.default.button(H()),E=k.default.div(U(),(function(t){return t.theme.text1})),D=Object(k.default)(P.a)(L()),I=k.default.span(F(),(function(t){return t.theme.text1})),T=k.default.div(A(),(function(t){var e=t.theme;return"".concat(e.bg1,"cd")}),(function(t){return t.isSelected?1:0})),J=function(t){var e=t.collection.loading,i=Object(f.useMemo)((function(){var t=[];if(e)for(var n=Math.floor(2*Math.random()+1),i=0;i<n;i++){var c=Math.floor(Math.random()*(n>2?50:70)+30);t.push(Object(r.jsx)(_.a,{width:c,className:"mr-2"}))}return t}),[e]);return Object(r.jsx)(R,{onClick:t.clickHandler,children:e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{children:Object(r.jsx)(_.a,{width:"100%",height:"100%",circle:!0})}),i]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(E,{children:[Object(r.jsx)(T,{isSelected:t.isSelected,children:Object(r.jsx)(N.a,{src:n(4420).default,width:10,height:10})}),Object(r.jsx)(D,{src:t.collection.image_url,alt:t.collection.name})]}),Object(r.jsx)(I,{children:t.collection.name})]})})};function Y(){var t=Object(w.a)(["\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n"]);return Y=function(){return t},t}function q(){var t=Object(w.a)(["\n\tmargin: 0;\n\tpadding: 0;\n"]);return q=function(){return t},t}function G(){var t=Object(w.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return G=function(){return t},t}function W(){var t=Object(w.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tmax-height: 600px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\n\t/* width */\n\t::-webkit-scrollbar {\n\t\twidth: 3px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbox-shadow: none;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 10px;\n\t\tpadding: 0 6px;\n\t\tmargin: 0 6px;\n\t\tborder-right: 1px solid ",";\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ",";\n\t\tborder-radius: 10px;\n\t\twidth: 4px !important;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: ",";\n\t}\n"]);return W=function(){return t},t}var K=k.default.div(W(),(function(t){return t.theme.text1}),(function(t){return t.theme.text1}),(function(t){var e=t.theme;return Object(z.b)(.08,e.text1)})),X=k.default.div(G()),Q=k.default.ul(q()),V=k.default.li(Y()),Z=function(t){return Object(r.jsx)(K,{children:Object(r.jsx)(X,{children:Object(r.jsx)(Q,{children:t.loading?Object(M.a)(Array(8)).map((function(t,e){return Object(r.jsx)(V,{children:Object(r.jsx)(J,{collection:{loading:!0}})},"collections-loading-".concat(e))})):t.collections.map((function(e,n){return Object(r.jsx)(V,{onClick:t.clickHandler.bind(undefined,e),children:Object(r.jsx)(J,{collection:e,isSelected:e.slug===t.selected})},"collections-".concat(n))}))})})})},$=n(3268),tt=n(48),et=n(2964);function nt(){var t=Object(w.a)(["\n\tmargin-bottom: 20px;\n\n\t.input-group-text {\n\t\tpadding-left: 1.25rem;\n\t}\n"]);return nt=function(){return t},t}function rt(){var t=Object(w.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return rt=function(){return t},t}var it=k.default.div(rt()),ct=Object(k.default)(S.b)(nt()),at=new $.a,ot=function(t){var e=Object(tt.a)().account,n=Object(f.useState)(!0),i=Object(y.a)(n,2),c=i[0],a=i[1],o=Object(f.useState)([]),s=Object(y.a)(o,2),l=s[0],d=s[1],u=Object(f.useState)(""),h=Object(y.a)(u,2),b=h[0],j=h[1],p=Object(et.a)().t,x=Object(f.useMemo)((function(){if(""===b)return l;var t=b.toLowerCase();return l.filter((function(e){return JSON.stringify({n:e.name,d:e.description}).includes(t)}))}),[l,b]),m=Object(f.useCallback)((function(t){j(t.target.value)}),[]);return Object(f.useEffect)((function(){a(!0),at.get("collections",{params:{limit:300}}).then((function(t){a(!1),t.data.hasOwnProperty("collections")&&d(t.data.collections)})).catch((function(t){a(!1)}))}),[e]),Object(r.jsxs)(it,{children:[Object(r.jsxs)(ct,{className:"w-auto",bg:"darker",children:[Object(r.jsx)(S.e,{children:Object(r.jsx)(S.f,{children:Object(r.jsx)(N.a,{src:C.a})})}),Object(r.jsx)(S.d,{id:"PoolsSearch",placeholder:p("search"),onChange:m})]}),Object(r.jsx)(Z,{collections:x,loading:c,clickHandler:t.onChangeCollection,selected:t.selected})]})},st=n(3136),lt=n(279),dt=n(3033),ut=n.n(dt),ft=n(10),ht=n(278),bt=n(120),jt=n(109),pt=n(457);function xt(){var t=Object(w.a)(["\n\theight: 40px;\n\tborder-radius: 12px;\n\tfont-size: 0.875rem;\n"]);return xt=function(){return t},t}function mt(){var t=Object(w.a)(["\n\tdisplay: block;\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: ",";\n\tpadding-left: 11px;\n\n\t@media (max-width: 991px) {\n\t\tpadding-left: 6px;\n\t}\n"]);return mt=function(){return t},t}function gt(){var t=Object(w.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 15px;\n\n\t\t@media (max-width: 991px) {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t}\n"]);return gt=function(){return t},t}function Ot(){var t=Object(w.a)(["\n\tmargin: 0 0 20px;\n\tpadding: 0;\n\tdisplay: flex;\n\tflex-direction: column;\n\tlist-style: none;\n\n\t@media (max-width: 991px) {\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin: 0 0 40px;\n\t}\n"]);return Ot=function(){return t},t}function vt(){var t=Object(w.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tfont-weight: 700;\n\tline-height: 19px;\n\tmargin-bottom: 1rem;\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 1.125rem;\n\t\tline-height: 22px;\n\t}\n"]);return vt=function(){return t},t}function yt(){var t=Object(w.a)(["\n\tdisplay: block;\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tmargin-bottom: 5px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-bottom: 11px;\n\t}\n"]);return yt=function(){return t},t}function wt(){var t=Object(w.a)(["\n\tpadding: 0 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t@media (max-width: 991px) {\n\t\tpadding: 0;\n\t}\n"]);return wt=function(){return t},t}function kt(){var t=Object(w.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tborder-radius: 12px;\n"]);return kt=function(){return t},t}function St(){var t=Object(w.a)(["\n\twidth: 100%;\n\tpadding-top: 100%;\n\tposition: relative;\n\tborder-radius: 12px;\n\tbackground-color: ",";\n\tmargin-bottom: 15px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-bottom: 20px;\n\t}\n"]);return St=function(){return t},t}function Ct(){var t=Object(w.a)(["\n\tmin-width: 240px;\n\tmax-width: 320px;\n\ttext-decoration: none;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: ",";\n\tborder-radius: 12px;\n\tpadding: 10px;\n\theight: calc(100% - 20px);\n\tmargin-bottom: 20px;\n\tborder: 1px solid ",";\n\n\t@media (max-width: 991px) {\n\t\tpadding: 20px;\n\t}\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\toutline: none;\n\t\ttext-decoration: none;\n\t\tbox-shadow: none;\n\t}\n\n\t> div {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1;\n\t}\n"]);return Ct=function(){return t},t}var Mt=k.default.div(Ct(),(function(t){return t.theme.modalBG}),(function(t){return t.theme.text4})),zt=k.default.div(St(),(function(t){return t.theme.bg1})),Bt=Object(k.default)(P.a)(kt()),_t=k.default.div(wt()),Nt=k.default.span(yt(),(function(t){return t.theme.text1})),Pt=k.default.span(vt(),(function(t){return t.theme.text1})),At=k.default.ul(Ot()),Ft=k.default.li(gt()),Lt=k.default.span(mt(),(function(t){return t.theme.text1}),(function(t){return t.bold?700:400})),Ut=k.default.button(xt()),Ht=function(t){var e=t.loading,i=t.order,c=t.seaport,s=Object(tt.a)().account,l=Object(et.a)().t,d=Object(ht.a)(),u=Object(jt.h)(),h=Object(f.useState)(!1),b=Object(y.a)(h,2),j=b[0],p=b[1],x=i||{},m=x.listingTime,g=x.asset,O=x.assetBundle,v=x.currentPrice,w=x.paymentTokenContract,k=i?Object(bt.f)(v,w):"0",S=parseFloat(k).toLocaleString(void 0,{minimumSignificantDigits:1}),C=i?g?g.owner:O.assets[0].owner:void 0,M=i?1e3*m.toNumber():Date.now(),z=ut()(M).local().fromNow(),P=!!i&&(s&&s.toLowerCase()===C.address.toLowerCase()),A=function(){var t=Object(o.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!s){t.next=19;break}if(!c){t.next=17;break}return t.prev=3,n=l("instantSwap.orderSubmitted"),p(!0),t.next=8,c.fulfillOrder({order:i,accountAddress:s,referrerAddress:ft.P});case 8:lt.b.success(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),(null===t.t0||void 0===t.t0?void 0:t.t0.hasOwnProperty("code"))&&4001!==(null===t.t0||void 0===t.t0?void 0:t.t0.code)&&lt.b.error((null===t.t0||void 0===t.t0?void 0:t.t0.message)||l("errors.default"));case 14:return t.prev=14,p(!1),t.finish(14);case 17:t.next=20;break;case 19:u();case 20:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(Mt,{children:Object(r.jsxs)(B.SkeletonTheme,{color:d.bg4,highlightColor:d.modalBG,children:[Object(r.jsx)(zt,{children:e?Object(r.jsx)(_.a,{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,borderRadius:18}}):Object(r.jsx)(Bt,{src:g?g.imageUrl:O.assets[0].imageUrl,alt:g.name})}),Object(r.jsxs)(_t,{children:[Object(r.jsx)(Nt,{children:e?Object(r.jsx)(_.a,{width:"80px",height:16}):g?g.collection.name:O.assets[0].collection.name}),Object(r.jsx)(Pt,{children:e?Object(r.jsx)(_.a,{width:"120px",height:24}):g?g.name:O.name}),Object(r.jsxs)(At,{children:[Object(r.jsx)(Ft,{children:e?Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)(_.a,{width:22,height:22,circle:!0}),Object(r.jsxs)(Lt,{children:[Object(r.jsx)(_.a,{width:45,className:"mr-2"}),Object(r.jsx)(_.a,{width:16})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N.a,{src:n(4421).default}),Object(r.jsxs)(Lt,{bold:!0,children:[S," ",w.symbol]})]})}),Object(r.jsx)(Ft,{children:e?Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)(_.a,{width:22,height:22,circle:!0}),Object(r.jsxs)(Lt,{children:[Object(r.jsx)(_.a,{width:24,className:"mr-2"}),Object(r.jsx)(_.a,{width:36,className:"mr-2"}),Object(r.jsx)(_.a,{width:28})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N.a,{src:n(4422).default}),Object(r.jsx)(Lt,{children:z})]})})]})]}),e?Object(r.jsx)(_.a,{height:40,width:"100%",style:{borderRadius:12}}):Object(r.jsx)(Ut,{onClick:A,className:"btn btn-".concat(P?"secondary-light":"primary"," btn-block py-1 mt-auto d-flex align-items-center justify-content-center"),children:s?j?Object(r.jsx)(pt.a,{width:24,height:24,active:!0,color:"#fff",id:"buy-nft-".concat(g?g.token_id:O.assets[0].token_id)}):P?"Sell Asset":"Buy Asset":"Connect Wallet"})]})})},Rt=n(3296);function Et(){var t=Object(w.a)(["\n\tcolor: ",";\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\ttext-align: center;\n"]);return Et=function(){return t},t}function Dt(){var t=Object(w.a)(["\n\tcolor: ",";\n\tfont-size: 1rem;\n\tfont-weight: 700;\n\ttext-align: center;\n\tmargin-bottom: 14px;\n"]);return Dt=function(){return t},t}var It=k.default.span(Dt(),(function(t){return t.theme.text1})),Tt=k.default.span(Et(),(function(t){return t.theme.text2})),Jt=function(t){var e=t.selectedCollection,n=t.seaport,i=t.fetchOrders,c=t.page,a=t.increasePage,o=t.setSort,s=t.orders,l=t.hasMore,d=Object(f.useRef)(null),u=Object(et.a)().t;Object(f.useEffect)((function(){i()}),[e,i]),Object(f.useEffect)((function(){i()}),[c,n,i]),Object(f.useEffect)((function(){var t=new IntersectionObserver((function(t){t[0].isIntersecting&&a()}),{root:null,rootMargin:"20px",threshold:0});d.current&&t.observe(d.current)}),[a]);var h=[{title:u("sort.recently_created"),value:"recently_created"},{title:u("sort.lowest_price"),value:"lowest_price"},{title:u("sort.highest_price"),value:"highest_price"},{title:u("sort.oldest"),value:"oldest"}];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"d-flex align-items-end justify-content-end mb-4",children:Object(r.jsx)(Rt.a,{placeholder:u("sort.placeholder"),variant:"primary",items:h,onChange:function(t){o(t)}})}),Object(r.jsx)(b.a,{children:s.map((function(t,e){return Object(r.jsx)(p.a,{children:Object(r.jsx)(Ht,{seaport:n,order:t})},"nft-order-".concat(e))}))}),Object(r.jsx)(b.a,{ref:d,children:l&&Object(M.a)(Array(s.length>0?4:8)).map((function(t,e){return Object(r.jsx)(p.a,{children:Object(r.jsx)(Ht,{loading:!0})},"nft-loading-".concat(e))}))}),!l&&0===s.length&&Object(r.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center py-5",children:[Object(r.jsx)(It,{children:u("errors.noAssets")}),Object(r.jsx)(Tt,{children:e?"Please change selected collection or try later.":"Please try later to see new offers"})]})]})};function Yt(){var t=Object(w.a)(["\n\tfont-weight: bold;\n\tfont-size: 1.25rem;\n\tcolor: ",";\n\tmargin: ",";\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 1.125rem;\n\t}\n"]);return Yt=function(){return t},t}function qt(){var t=Object(w.a)(["\n\tpadding: 1rem 1rem 1.5rem;\n\tborder-bottom: 1px solid ",";\n"]);return qt=function(){return t},t}function Gt(){var t=Object(w.a)(["\n\tmin-width: 340px;\n\n\t@media (min-width: 767px) {\n\t\tmax-width: 480px;\n\t}\n"]);return Gt=function(){return t},t}var Wt=Object(k.default)(p.a)(Gt()),Kt=k.default.div(qt(),(function(t){return t.theme.borderColor})),Xt=k.default.h4(Yt(),(function(t){return t.theme.text1}),(function(t){var e=t.marginBottom;return"0 0 ".concat(e||"20px")})),Qt=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(t=e.call.apply(e,[this].concat(c))).state={selectedCollection:void 0,side:O.OrderSide.Buy,onlyForMe:!1,onlyByMe:!1,onlyBundles:!1,hasMore:!0,sort:"",orders:[],page:1},t.toggleSide=function(e){t.state.side===e&&(e=void 0),t.setState({page:1,side:e,onlyForMe:void 0,hasMore:!0},(function(){return t.fetchOrders()}))},t.toggleForMe=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState((function(t){return{side:t.onlyForMe?void 0:O.OrderSide.Buy,onlyByMe:!1,page:1,onlyForMe:!t.onlyForMe,hasMore:!0}}),(function(){return t.fetchOrders()}));case 1:case"end":return e.stop()}}),e)}))),t.toggleBundles=function(){t.setState((function(t){return{side:O.OrderSide.Sell,onlyByMe:!1,page:1,onlyBundles:!t.onlyBundles,hasMore:!0}}),(function(){return t.fetchOrders()}))},t.toggleByMe=function(){t.setState((function(t){return{side:O.OrderSide.Sell,onlyForMe:!1,page:1,onlyByMe:!t.onlyByMe,hasMore:!0}}),(function(){return t.fetchOrders()}))},t.changeSelectedCollection=function(e){t.setState((function(t){return{selectedCollection:t.selectedCollection===e.slug?void 0:e.slug,page:1,hasMore:!0}}),(function(){return t.fetchOrders()}))},t.getOrderSort=function(){switch(t.state.sort){case"recently_created":return{order_by:"created_date",order_direction:"desc"};case"oldest":return{order_by:"created_date",order_direction:"asc"};case"lowest_price":return{order_by:"eth_price",order_direction:"asc"};case"highest_price":return{order_by:"eth_price",order_direction:"desc"};default:return{}}},t.setPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({page:e})},t.increasePage=function(){t.setState((function(t){return{page:t.page+1}}))},t.setSort=function(e){t.setState({sort:e,page:1},(function(){return t.fetchOrders()}))},t.fetchOrders=Object(o.a)(a.a.mark((function e(){var n,r,c,o,s,l,d,u,f,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.seaport){e.next=15;break}return n=t.state,r=n.page,c=n.selectedCollection,o=n.onlyByMe,s=n.onlyForMe,l=n.side,d=n.onlyBundles,u=t.props.web3.account,1===r&&t.setState({orders:[]}),e.prev=4,e.next=7,t.seaport.api.getOrders(Object(i.a)({collection_slug:c||void 0,limit:24,maker:o?u:void 0,owner:s?u:void 0,side:l,bundled:!!d||void 0},t.getOrderSort()),r);case 7:f=e.sent,h=f.orders,t.setState({hasMore:!(h.length<24)}),1===r?t.setState({orders:h}):t.setState((function(t){return{orders:t.orders.concat(h)}})),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:case"end":return e.stop()}}),e,null,[[4,13]])}))),t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=new m.a(m.a.givenProvider||new m.a.providers.HttpProvider("https://mainnet.infura.io/v3/18f4df06d1f24e8c84a361712757187d"));this.seaport=new g.OpenSeaPort(t.currentProvider||window.ethereum,{networkName:g.Network.Main}),this.web3=this.seaport.web3}},{key:"render",value:function(){var t=this,e=this.state.side===O.OrderSide.Sell,n=this.state.side===O.OrderSide.Buy,i=this.state,c=i.selectedCollection,a=i.onlyByMe,o=i.onlyForMe,s=i.onlyBundles,l=i.orders,d=i.hasMore,u=this.props.t;return Object(r.jsx)(v.a,{networkSensitive:!0,fluid:!0,children:Object(r.jsxs)(b.a,{children:[Object(r.jsxs)(Wt,{xs:12,md:4,children:[Object(r.jsxs)(Kt,{children:[Object(r.jsx)(Xt,{children:u("orderbookSide")}),Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)(j.a,{variant:e?"primary":"light-primary",onClick:function(){return t.toggleSide(O.OrderSide.Sell)},className:"w-50 mr-1",children:u("auction")}),Object(r.jsx)(j.a,{variant:n?"primary":"light-primary",onClick:function(){return t.toggleSide(O.OrderSide.Buy)},className:"w-50 ml-1",children:u("bids")})]})]}),Object(r.jsxs)(Kt,{children:[Object(r.jsx)(Xt,{children:u("accountFilter")}),Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)(j.a,{variant:o?"primary":"light-primary",onClick:this.toggleForMe,className:"w-50 mr-1",children:u("forMe")}),Object(r.jsx)(j.a,{variant:a?"primary":"light-primary",onClick:this.toggleByMe,className:"w-50 ml-1",children:u("byMe")})]})]}),Object(r.jsxs)(Kt,{children:[Object(r.jsx)(Xt,{children:u("bundles")}),Object(r.jsx)("div",{className:"d-flex align-items-center",children:Object(r.jsx)(j.a,{variant:s?"primary":"light-primary",onClick:this.toggleBundles,className:"flex-grow-1",block:!0,children:u("onlyBundles")})})]}),Object(r.jsxs)(Kt,{children:[Object(r.jsx)(Xt,{children:u("collections")}),Object(r.jsx)(ot,{onChangeCollection:this.changeSelectedCollection,selected:c})]})]}),Object(r.jsx)(p.a,{xs:12,sm:!0,children:Object(r.jsx)(Jt,{seaport:this.seaport,web3:this.web3,selectedCollection:c,fetchOrders:this.fetchOrders,increasePage:this.increasePage,setSort:this.setSort,orders:l,hasMore:d,page:this.state.page})})]})})}}]),n}(f.Component);e.default=Object(st.a)(Object(h.a)()(Qt))}}]);
//# sourceMappingURL=29.7d2286d7.chunk.js.map